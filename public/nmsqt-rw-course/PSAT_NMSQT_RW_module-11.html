<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Module 11: War Games II ‚Äî PSAT/NMSQT R&W ‚Äî PantherPrep</title>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,600;0,700;1,400&family=Source+Sans+3:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
<style>:root{--ink:#f0f0f0;--paper:#121212;--accent:#0891b2;--accent-light:rgba(8,145,178,.12);--border:#2a2a2a;--muted:#999;--surface:#1a1a1a;--craft:#60a5fa;--craft-bg:rgba(96,165,250,.1);--info:#34d399;--info-bg:rgba(52,211,153,.1);--conv:#fbbf24;--conv-bg:rgba(251,191,36,.1);--expr:#f472b6;--expr-bg:rgba(244,114,182,.1);--correct:#22c55e;--correct-bg:rgba(34,197,94,.12);--wrong:#ef4444;--wrong-bg:rgba(239,68,68,.12);--nm:#a78bfa;--nm-bg:rgba(167,139,250,.1)}*{margin:0;padding:0;box-sizing:border-box}body{font-family:'Source Sans 3',sans-serif;background:var(--paper);color:var(--ink);line-height:1.65}button{font-family:inherit}
.top-stripe{height:4px;background:linear-gradient(90deg,var(--craft) 0%,var(--craft) 28%,var(--info) 28%,var(--info) 54%,var(--conv) 54%,var(--conv) 80%,var(--expr) 80%);position:fixed;top:0;left:0;right:0;z-index:100}
.progress-bar{position:fixed;top:4px;left:0;right:0;height:3px;background:var(--border);z-index:99}.progress-fill{height:100%;background:linear-gradient(90deg,var(--craft),var(--info),var(--conv),var(--expr));width:0%;transition:width .3s ease}
.data-table{width:100%;border-collapse:collapse;font-size:.84rem;margin-bottom:12px;font-family:'JetBrains Mono',monospace}.data-table th,.data-table td{padding:8px 10px;border:1px solid var(--border);text-align:right}.data-table th{background:var(--surface);font-weight:700;font-size:.72rem;text-transform:uppercase;letter-spacing:.5px;color:var(--muted);text-align:center}.data-table td{color:#ccc}.data-table td:first-child,.data-table th:first-child{text-align:left;font-family:'Source Sans 3',sans-serif}
.notes-box{background:var(--paper);border:1px solid var(--border);border-radius:10px;padding:14px;margin-bottom:12px;font-size:.88rem;color:#ddd;line-height:1.8}.notes-box ul{padding-left:20px;list-style:disc}.notes-box li{margin-bottom:4px}
</style>
<script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/react/18.3.1/umd/react.production.min.js"></script>
<script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.3.1/umd/react-dom.production.min.js"></script>
</head><body><div class="top-stripe"></div><div class="progress-bar"><div class="progress-fill" id="progressFill"></div></div><a href="index.html" style="display:inline-flex;align-items:center;gap:8px;color:#64748b;font-size:.9rem;padding:8px 20px;margin-top:8px;text-decoration:none;font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif" onmouseover="this.style.color='#e2e8f0'" onmouseout="this.style.color='#64748b'">‚Üê Back to PSAT/NMSQT R&amp;W Course</a>
<div id="root"></div>
<script>
const{useState,useEffect,useCallback,useRef}=React;const e=React.createElement;
const C={ink:"#f0f0f0",paper:"#121212",accent:"#0891b2",accentLight:"rgba(8,145,178,.12)",border:"#2a2a2a",muted:"#999",surface:"#1a1a1a",craft:"#60a5fa",craftBg:"rgba(96,165,250,.1)",info:"#34d399",infoBg:"rgba(52,211,153,.1)",conv:"#fbbf24",convBg:"rgba(251,191,36,.1)",expr:"#f472b6",exprBg:"rgba(244,114,182,.1)",correct:"#22c55e",correctBg:"rgba(34,197,94,.12)",wrong:"#ef4444",wrongBg:"rgba(239,68,68,.12)",nm:"#a78bfa",nmBg:"rgba(167,139,250,.1)"};
const DOMAIN_COLORS={"Craft & Structure":{color:C.craft},"Information & Ideas":{color:C.info},"Conventions":{color:C.conv},"Expression of Ideas":{color:C.expr}};
const SUBTYPE_META={"WIC":{label:"Words in Context",icon:"üìö"},"Cross-Text":{label:"Cross-Text",icon:"üîó"},"Structure":{label:"Structure / Purpose",icon:"üî¨"},"Central Idea":{label:"Central Idea",icon:"üí°"},"Inference":{label:"Inference",icon:"üß©"},"Textual Evidence":{label:"Textual Evidence",icon:"üìñ"},"Quantitative Evidence":{label:"Quantitative Evidence",icon:"üìä"},"Agreement":{label:"Subject-Verb Agreement",icon:"‚úèÔ∏è"},"Verb Tense":{label:"Verb Tense",icon:"‚úèÔ∏è"},"Punctuation":{label:"Punctuation",icon:"‚úèÔ∏è"},"Parallelism":{label:"Parallelism",icon:"‚úèÔ∏è"},"Modifiers":{label:"Modifiers",icon:"‚úèÔ∏è"},"Transitions":{label:"Transitions",icon:"üîÄ"},"Synthesis":{label:"Synthesis",icon:"üß¨"}};
const ERROR_CATS=["Content Gap","Trap Answer","Misread","Time Pressure"];
const M1=[
{passage:'The architect described her design philosophy as _______ ‚Äî every element must serve a function, and anything purely decorative is eliminated.',stem:'Which word best completes the text?',choices:['ornamental','utilitarian','whimsical','extravagant'],correct:1,domain:'Craft & Structure',subtype:'WIC',explain:'"Every element serves a function" = utilitarian.'},
{passage:'The negotiations were _______ by mutual distrust, with each side interpreting the other\'s proposals as strategic maneuvers rather than genuine concessions.',stem:'Which word best completes the text?',choices:['facilitated','hampered','resolved','celebrated'],correct:1,domain:'Craft & Structure',subtype:'WIC',explain:'"Mutual distrust" = hindered. "Hampered."'},
{passage:'Critics praised the documentary for its _______ portrayal, noting the filmmaker allowed subjects to tell their own stories without imposing a narrative.',stem:'Which word best completes the text?',choices:['sensationalized','nuanced','superficial','partisan'],correct:1,domain:'Craft & Structure',subtype:'WIC',explain:'"Own stories, no imposed narrative" = careful/balanced. "Nuanced."'},
{passage:'The essay begins with global ocean temperature data. <u>It then narrows to one Australian reef and a marine biologist who has studied it for 20 years.</u> It concludes by returning to the global perspective.',stem:'Function of the underlined sentence?',choices:['Introduces a counterargument.','Shifts from global data to a personal case study.','Summarizes the conclusion.','Provides statistical analysis.'],correct:1,domain:'Craft & Structure',subtype:'Structure',explain:'Global ‚Üí specific reef + person = zoom-in structure.'},
{passage:'A city removed a downtown highway. Property values rose 30%, new parks attracted 2M visitors, and air quality improved. The author argues infrastructure removal can be as transformative as construction.',stem:'Overall structure?',choices:['Problem without solution.','Decision described, effects cataloged, general principle drawn.','Two theories evaluated.','Chronological history.'],correct:1,domain:'Craft & Structure',subtype:'Structure',explain:'Decision ‚Üí effects ‚Üí principle. Inductive reasoning.'},
{passage:'<strong>Text 1 (Osei):</strong> Ancient Polynesian navigation was primarily based on memorized star paths.<br><strong>Text 2 (Kim):</strong> Stars were central but Osei underestimates ocean swells ‚Äî wave patterns felt through canoe hulls on cloudy nights.',stem:'How does Kim relate to Osei?',choices:['Complete disagreement.','Accepts stellar navigation but qualifies by adding ocean swells.','Extension to new areas.','Rejection of non-instrument navigation.'],correct:1,domain:'Craft & Structure',subtype:'Cross-Text',explain:'Agrees stars important + adds swells as crucial backup. Qualification.'},
{passage:'<strong>Text 1 (Chen):</strong> Free will is an illusion ‚Äî every decision is the inevitable product of brain states and physical laws.<br><strong>Text 2 (Brennan):</strong> Even if decisions are physically determined, the subjective experience of deliberation constitutes meaningful agency not captured by physical descriptions.',stem:'Core of the disagreement?',choices:['Whether brains follow physics.','Whether determinism eliminates meaningful agency or subjective experience adds something.','Whether humans have brains.','Whether philosophy is useful.'],correct:1,domain:'Craft & Structure',subtype:'Cross-Text',explain:'Both accept physical causation. Disagree on whether subjective experience adds meaningful agency.'},
{passage:'A Detroit garden program converted 1,500 vacant lots, producing 350K lbs of produce annually and reducing crime 18%. However, 80% of gardeners came from above-median-income households.',stem:'Main idea?',choices:['Program solved food insecurity.','Significant benefits but disproportionately served higher-income residents.','Gardens are ineffective at reducing crime.','Lots should not be converted.'],correct:1,domain:'Information & Ideas',subtype:'Central Idea',explain:'Benefits + equity problem. Main idea captures both.'},
{passage:'Identical resumes with different names: traditionally African American names received 50% fewer callbacks. Blind screening eliminated the disparity.',stem:'Best supported inference?',choices:['African American candidates are less qualified.','Name-based bias can be reduced through blind screening.','All employers are racist.','Blind screening eliminates all discrimination.'],correct:1,domain:'Information & Ideas',subtype:'Inference',explain:'Removing names fixed the gap ‚Üí gap was name-based. (B) is precise without overgeneralizing.'},
{passage:'Each firefly species uses unique flash patterns. Some predatory species mimic prey species\' patterns to lure males into ambushes.',stem:'Best inference?',choices:['All fireflies have identical flashes.','Flash patterns are species-specific signals exploitable by mimicking predators.','Fireflies communicate only by sound.','Predatory fireflies are brighter.'],correct:1,domain:'Information & Ideas',subtype:'Inference',explain:'Species-specific + predator mimicry = exploitable signals.'},
{passage:'Dr. Reyes argues universal pre-K generates long-term returns exceeding costs.',stem:'Best support for Reyes?',choices:['Pre-K enrollment up 40%.','30-year study: pre-K children earned 25% more as adults, 60% less incarceration, $7 return per $1 invested.','Private pre-K costs $12K/year.','Pre-K teachers report high satisfaction.'],correct:1,domain:'Information & Ideas',subtype:'Textual Evidence',explain:'Claim: returns exceed costs. (B) gives the $7:$1 ROI.'},
{table:'<table class="data-table"><tr><th>Method</th><th>Speed</th><th>Latency</th><th>Cost</th><th>Coverage</th></tr><tr><td>Fiber</td><td>1,000 Mbps</td><td>5ms</td><td>$70</td><td>43%</td></tr><tr><td>Cable</td><td>300</td><td>15</td><td>$60</td><td>89%</td></tr><tr><td>5G</td><td>200</td><td>25</td><td>$50</td><td>32%</td></tr><tr><td>Satellite</td><td>100</td><td>600</td><td>$110</td><td>99%</td></tr></table>',stem:'Support the claim that satellite fills a gap despite limitations?',choices:['Fiber is fastest.','Satellite reaches 99% but at higher cost ($110) and 40-120x slower latency than terrestrial options.','Cable balances speed and coverage.','5G is cheapest.'],correct:1,domain:'Information & Ideas',subtype:'Quantitative Evidence',explain:'Gap-filling (99% coverage) + limitations (cost, latency). Both addressed.'},
{passage:'Dr. Park argues bilinguals show delayed dementia onset.',stem:'Best support?',choices:['Bilinguals use different brain regions.','Study of 648 patients: bilinguals developed symptoms 4.5 years later than monolinguals with similar profiles.','Second language easiest before 12.','Bilingual programs in 30 states.'],correct:1,domain:'Information & Ideas',subtype:'Textual Evidence',explain:'4.5-year delay with controlled variables = direct support.'},
{passage:'Each of the 50 states _______ its own renewable energy policies, creating a patchwork of regulations.',stem:'Standard English?',choices:['have established','has established','are establishing','were establishing'],correct:1,domain:'Conventions',subtype:'Agreement',explain:'"Each" is singular ‚Üí "has."'},
{passage:'The conductor raised her baton, _______ the audience fell silent, and the first notes filled the hall.',stem:'Standard English?',choices:['baton the','baton; the','baton. the','baton, the'],correct:0,domain:'Conventions',subtype:'Punctuation',explain:'Comma after introductory phrase. Wait ‚Äî reread. "Raised her baton" is a complete clause. "The audience fell silent" is another. Three short ICs: comma+comma+and is acceptable for a series of short ICs.'},
{passage:'The study compared retrieval practice with rereading and found that the retrieval group _______ significantly more material one week later.',stem:'Standard English?',choices:['retained','was retaining','have retained','are retaining'],correct:0,domain:'Conventions',subtype:'Verb Tense',explain:'"Found" (past) ‚Üí "retained" (past). Consistent tense.'},
{passage:'To qualify, applicants must submit an essay, provide two recommendation letters, _______ an interview with the committee.',stem:'Standard English?',choices:['and to complete','and completing','and complete','completing'],correct:2,domain:'Conventions',subtype:'Parallelism',explain:'Must submit, provide, and complete. Parallel infinitives.'},
{passage:'The preservation of ancient _______ has given historians invaluable insight into daily life in Pompeii.',stem:'Standard English?',choices:['texts, which include graffiti and personal letters,','texts ‚Äî which include graffiti and personal letters ‚Äî','texts, which include graffiti and personal letters','texts; which include graffiti and personal letters,'],correct:0,domain:'Conventions',subtype:'Punctuation',explain:'Nonessential "which" clause needs commas on both sides.'},
{passage:'The vaccine trial showed promising Phase II results. _______ researchers cautioned that larger Phase III trials were necessary.',stem:'Transition?',choices:['Moreover,','Similarly,','However,','For example,'],correct:2,domain:'Expression of Ideas',subtype:'Transitions',explain:'Promising ‚Üí caution needed. Contrast. "However."'},
{passage:'The drought devastated wheat crops. _______ bread prices rose 22% within three months.',stem:'Transition?',choices:['In contrast,','For instance,','Nevertheless,','Consequently,'],correct:3,domain:'Expression of Ideas',subtype:'Transitions',explain:'Drought ‚Üí price rise. Cause/effect. "Consequently."'},
{passage:'Her early paintings were large-scale urban oils. _______ her later work consisted of intimate watercolor portraits.',stem:'Transition?',choices:['Moreover,','By contrast,','Therefore,','Indeed,'],correct:1,domain:'Expression of Ideas',subtype:'Transitions',explain:'Large/urban/oil ‚Üí small/portrait/watercolor. Opposition. "By contrast."'},
{notes:'<ul><li>The cassowary disperses seeds of 200+ plant species through its droppings.</li><li>It can reach 50 km/h and kick hard enough to kill a human.</li><li>Population declined 30% due to habitat loss.</li><li>Listed as vulnerable on the IUCN Red List.</li><li>Native to tropical forests in New Guinea and NE Australia.</li></ul>',stem:'Emphasize the cassowary\'s ecological importance?',choices:['Can run 50 km/h and kick lethally.','Population declined 30%, listed as vulnerable.','Serves as critical seed disperser for 200+ plant species, essential for forest regeneration.','Native to New Guinea and Australia, one of the largest flightless birds.'],correct:2,domain:'Expression of Ideas',subtype:'Synthesis',explain:'Goal: ecological importance. (C) = seed dispersal + 200 species + regeneration.'},
{notes:'<ul><li>Antikythera mechanism dates to ~100 BCE, discovered in a 1901 shipwreck.</li><li>Ancient Greek analog computer predicting astronomical positions and eclipses.</li><li>Contains 30+ meshing bronze gears.</li><li>No comparable complexity until 14th-century European clockwork.</li><li>Internal mechanism reconstructed via X-ray tomography in 2006.</li></ul>',stem:'Introduce the mechanism by emphasizing how it challenges assumptions about ancient tech?',choices:['Discovered in a 1901 shipwreck by sponge divers.','Researchers used X-ray tomography in 2006 to understand its gears.','Built ~100 BCE with 30+ gears, it predicted eclipses ‚Äî complexity not seen again for 1,400 years, upending assumptions about ancient engineering.','Contains 30+ bronze gears, classified as an analog computer.'],correct:2,domain:'Expression of Ideas',subtype:'Synthesis',explain:'(C): date + capability + 1,400-year gap = directly challenges assumptions.'}
];
const M2_HARD=[
{passage:'The word "cleave" can mean either "to split apart" or "to cling together." The geologist used the term precisely when she noted that the mineral _______ along its natural planes of weakness.',stem:'Which word best completes the text?',choices:['adhered','fractured','cleaved','bonded'],correct:2,domain:'Craft & Structure',subtype:'WIC',explain:'"Along planes of weakness" = splitting. "Cleaved" in the geological sense means split along natural planes.'},
{passage:'<strong>Text 1:</strong> Economist Torres argues that wealth taxes are the most effective tool for reducing inequality because they directly target accumulated capital.<br><strong>Text 2:</strong> Economist Nakamura agrees inequality must be addressed but argues wealth taxes are easily circumvented through offshore accounts and asset restructuring, making progressive consumption taxes more practical.',stem:'Core disagreement?',choices:['Whether inequality exists.','Whether wealth taxes or consumption taxes are more effectively implementable.','Whether taxes should exist.','Whether capital accumulation matters.'],correct:1,domain:'Craft & Structure',subtype:'Cross-Text',explain:'Both want to reduce inequality. They disagree on which TAX MECHANISM is most practical.'},
{passage:'The novel is structured as a palindrome: the first and last chapters mirror each other, as do the second and second-to-last, converging on a pivotal central chapter. <u>This symmetry forces readers to reconsider early events in light of later revelations, transforming what initially seemed like a straightforward chronology into a meditation on how endings reshape our understanding of beginnings.</u>',stem:'Function of the underlined sentence?',choices:['Describes the plot of the novel.','Explains the interpretive EFFECT of the palindrome structure on the reading experience.','Introduces a counterargument about the novel.','Provides biographical context about the author.'],correct:1,domain:'Craft & Structure',subtype:'Structure',explain:'The underlined sentence describes what the structure DOES to readers ‚Äî the effect of the form, not the content.'},
{passage:'Researchers found that trees in urban areas grow 25% faster than rural counterparts. However, they also die 30% sooner, resulting in a net loss of carbon sequestration capacity despite the accelerated growth.',stem:'Main idea?',choices:['Urban trees are healthier than rural trees.','Urban trees grow faster but die sooner, negating the carbon benefit of accelerated growth.','Rural trees are more important than urban trees.','Carbon sequestration is unrelated to tree growth rate.'],correct:1,domain:'Information & Ideas',subtype:'Central Idea',explain:'Faster growth + earlier death = net loss. Main idea captures the paradox.'},
{table:'<table class="data-table"><tr><th>Diet</th><th>Weight Loss (kg)</th><th>Muscle Retained (%)</th><th>Adherence (%)</th><th>Nutrient Deficiency Risk</th></tr><tr><td>Mediterranean</td><td>4.2</td><td>92%</td><td>85%</td><td>Low</td></tr><tr><td>Keto</td><td>7.1</td><td>78%</td><td>52%</td><td>Moderate</td></tr><tr><td>Intermittent Fasting</td><td>5.8</td><td>88%</td><td>71%</td><td>Low</td></tr><tr><td>Very Low Calorie</td><td>9.3</td><td>65%</td><td>34%</td><td>High</td></tr></table>',stem:'Support the claim that the Mediterranean diet offers the most sustainable results?',choices:['Keto produces 7.1 kg weight loss, more than Mediterranean.','Very Low Calorie achieves maximum weight loss at 9.3 kg.','While Mediterranean diet produces moderate weight loss (4.2 kg), it leads in muscle retention (92%), adherence (85%), and has low deficiency risk ‚Äî suggesting more sustainable long-term outcomes.','Intermittent fasting has 71% adherence.'],correct:2,domain:'Information & Ideas',subtype:'Quantitative Evidence',explain:'"Most sustainable" = not just weight loss but retention + adherence + safety. (C) shows Mediterranean leads on all sustainability metrics.'},
{passage:'The playwright\'s revision history reveals that the final monologue ‚Äî now considered the play\'s emotional climax ‚Äî was originally a stage direction reading simply "Character exits." The 200-word speech was added during the last week of rehearsals.',stem:'What can be inferred?',choices:['The playwright was an inexperienced writer.','Significant creative breakthroughs can occur late in the production process, fundamentally transforming a work.','The original stage direction was superior to the monologue.','Actors should write their own monologues.'],correct:1,domain:'Information & Ideas',subtype:'Inference',explain:'The most important moment was created at the last minute ‚Üí late additions can be transformative.'},
{passage:'Having been exposed to extreme heat for several _______ the satellite\'s solar panels began to show signs of degradation.',stem:'Standard English?',choices:['hours the','hours, the','hours; the','hours. The'],correct:1,domain:'Conventions',subtype:'Modifiers',explain:'"Having been exposed" is a participial phrase. Comma separates it from the main clause.'},
{passage:'The researchers published their findings in three journals simultaneously, _______ their methodology, their results, and their policy recommendations.',stem:'Standard English?',choices:['detailing','to detail','and detailed','they detailed'],correct:0,domain:'Conventions',subtype:'Parallelism',explain:'"Detailing" as a participial phrase modifying "researchers published."'},
{passage:'The museum\'s collection spans five centuries of art, from Renaissance masterworks to contemporary installations, _______ it one of the most comprehensive in the region.',stem:'Standard English?',choices:['making','which makes','and makes','it makes'],correct:0,domain:'Conventions',subtype:'Modifiers',explain:'"Making" = participial phrase modifying the entire preceding clause.'},
{passage:'The data showed improvement in patient outcomes. _______ the researchers emphasized that the sample size was too small to draw definitive conclusions.',stem:'Transition?',choices:['Furthermore,','For example,','Nonetheless,','Consequently,'],correct:2,domain:'Expression of Ideas',subtype:'Transitions',explain:'Improvement ‚Üí but can\'t conclude yet. "Nonetheless" = despite that.'},
{passage:'Ancient Egyptians developed papyrus scrolls for record-keeping. _______ the Chinese independently invented paper from plant fibers around 100 CE.',stem:'Transition?',choices:['Similarly,','However,','Therefore,','Specifically,'],correct:0,domain:'Expression of Ideas',subtype:'Transitions',explain:'Two civilizations, similar innovation. Parallel development. "Similarly."'},
{notes:'<ul><li>CRISPR can correct 6,000+ genetic diseases.</li><li>First therapy for sickle cell disease in 2020 clinical trial.</li><li>Ethical concerns about germline "designer baby" editing.</li><li>China reported first CRISPR-edited births in 2018 (condemned).</li><li>Adapted for human cells in 2013 at the Broad Institute.</li></ul>',stem:'Present CRISPR\'s medical potential while acknowledging risks?',choices:['CRISPR was adapted for human cells in 2013.','Since treating sickle cell disease in 2020, CRISPR has shown potential to address 6,000+ genetic diseases ‚Äî but its power has also raised serious ethical concerns, underscored by the condemned 2018 report of gene-edited human births in China.','CRISPR could correct 6,000 genetic diseases.','The 2018 gene-edited births were condemned internationally.'],correct:1,domain:'Expression of Ideas',subtype:'Synthesis',explain:'Dual goal: potential + risks. (B) includes sickle cell success + 6,000 diseases AND ethical concerns + condemned births.'},
{passage:'The diplomat was known for her _______ approach ‚Äî she never committed to a position publicly until she had secured enough private agreements to guarantee the outcome.',stem:'WIC?',choices:['impulsive','transparent','circumspect','confrontational'],correct:2,domain:'Craft & Structure',subtype:'WIC',explain:'"Never committed until secured agreements" = cautious/strategic. "Circumspect."'},
{passage:'The study found that noise pollution above 65 decibels increased cardiovascular risk by 18%. _______ researchers recommended that urban planning incorporate sound barriers along highways adjacent to residential areas.',stem:'Transition?',choices:['In contrast,','For this reason,','Nevertheless,','Similarly,'],correct:1,domain:'Expression of Ideas',subtype:'Transitions',explain:'Finding ‚Üí recommendation based on it. Cause/effect. "For this reason."'}
];
const M2_STD=[
{passage:'The teacher was known for her _______ patience, calmly repeating explanations until every student understood.',stem:'Which word best completes the text?',choices:['limited','remarkable','declining','artificial'],correct:1,domain:'Craft & Structure',subtype:'WIC',explain:'"Calmly repeating until every student understood" = exceptional patience. "Remarkable."'},
{passage:'<strong>Text 1:</strong> Dr. Lin argues exercise improves mental health.<br><strong>Text 2:</strong> Dr. Patel agrees but notes benefits require at least 150 minutes weekly ‚Äî below that threshold, effects are minimal.',stem:'How does Patel respond?',choices:['Disagrees entirely.','Accepts the benefit but qualifies by adding a minimum dose requirement.','Extends to new populations.','Rejects the research.'],correct:1,domain:'Craft & Structure',subtype:'Cross-Text',explain:'Agrees + adds condition = qualification.'},
{passage:'The article first describes how smartphones changed communication, then examines their effects on attention spans, and finally argues that the benefits outweigh the costs.',stem:'Overall structure?',choices:['Describes a technology, examines drawbacks, argues net positive.','Presents two equal arguments.','Chronological history.','Problem-solution.'],correct:0,domain:'Craft & Structure',subtype:'Structure',explain:'Description ‚Üí examination of effects ‚Üí evaluative conclusion.'},
{passage:'The city planted 10,000 trees along major roads. Within five years, air quality in those corridors improved by 22%, and summer temperatures dropped by an average of 2¬∞C compared to unplanted streets.',stem:'Main idea?',choices:['Trees are expensive to plant.','Urban tree planting produced measurable improvements in air quality and temperature.','The city wasted money on trees.','Temperature is unrelated to vegetation.'],correct:1,domain:'Information & Ideas',subtype:'Central Idea',explain:'Trees planted ‚Üí air quality up 22% + temps down 2¬∞C. Direct cause and effect.'},
{passage:'Students who took handwritten notes scored 15% higher on conceptual questions than laptop note-takers, even though laptop users recorded more words. Researchers suggest handwriting forces students to process and summarize information.',stem:'Best inference?',choices:['Laptops should be banned from classrooms.','The cognitive effort of handwriting promotes deeper understanding than verbatim transcription.','Handwritten notes contain more information.','All students prefer handwriting.'],correct:1,domain:'Information & Ideas',subtype:'Inference',explain:'More words (laptop) ‚â† better understanding. Handwriting forces processing ‚Üí deeper learning.'},
{passage:'Dr. Reyes argues community gardens improve food security in urban areas.',stem:'Best support?',choices:['Community gardens are popular in many cities.','A study of 200 households near community gardens found they consumed 30% more fresh vegetables and spent 20% less on groceries than comparable households without nearby gardens.','Gardening is good exercise.','Many schools have started garden programs.'],correct:1,domain:'Information & Ideas',subtype:'Textual Evidence',explain:'Claim: improve food security. (B) shows more vegetables + lower costs = direct food security improvement.'},
{passage:'Neither the principal nor the teachers _______ aware of the policy change until the announcement.',stem:'Standard English?',choices:['was','were','is','has been'],correct:1,domain:'Conventions',subtype:'Agreement',explain:'"Neither‚Ä¶nor" ‚Äî verb agrees with nearer subject "teachers" (plural) ‚Üí "were."'},
{passage:'The building, originally constructed in 1890 as a textile mill, _______ into luxury apartments in 2018.',stem:'Standard English?',choices:['was converted','were converted','has converting','are converted'],correct:0,domain:'Conventions',subtype:'Verb Tense',explain:'"Building" (singular) + specific past date (2018) ‚Üí "was converted."'},
{passage:'Scientists study coral reefs to understand marine biodiversity, _______ the data they collect helps inform conservation policy.',stem:'Standard English?',choices:['biodiversity, the','biodiversity; the','biodiversity the','biodiversity. The,'],correct:1,domain:'Conventions',subtype:'Punctuation',explain:'Two ICs ‚Üí semicolon.'},
{passage:'The new highway reduced commute times by 20%. _______ it displaced 300 families from their homes.',stem:'Transition?',choices:['Moreover,','For instance,','However,','Consequently,'],correct:2,domain:'Expression of Ideas',subtype:'Transitions',explain:'Benefit (faster commute) ‚Üí cost (displaced families). Contrast. "However."'},
{passage:'The researcher first tested the drug on cells in a lab. _______ she moved to animal trials.',stem:'Transition?',choices:['In contrast,','Subsequently,','For example,','Nevertheless,'],correct:1,domain:'Expression of Ideas',subtype:'Transitions',explain:'Lab ‚Üí then animals. Time sequence. "Subsequently."'},
{notes:'<ul><li>Honey has low moisture (17%) and acidic pH, preventing bacterial growth.</li><li>3,000-year-old honey found in Egyptian tombs was still edible.</li><li>Bees produce honey by regurgitating and evaporating nectar.</li><li>Average bee produces 1/12th teaspoon in its lifetime.</li></ul>',stem:'Explain WHY honey doesn\'t spoil?',choices:['Found in 3,000-year-old Egyptian tombs.','Low moisture (17%) and acidic pH create an environment hostile to bacteria, preventing spoilage.','Bees regurgitate nectar to make honey.','A single bee produces very little honey.'],correct:1,domain:'Expression of Ideas',subtype:'Synthesis',explain:'Goal: explain WHY. (B) = mechanism (moisture + pH ‚Üí no bacteria).'},
{passage:'The singer\'s voice was _______ ‚Äî barely above a whisper ‚Äî yet every word carried clearly to the back of the concert hall.',stem:'WIC?',choices:['thunderous','subdued','shrill','monotone'],correct:1,domain:'Craft & Structure',subtype:'WIC',explain:'"Barely above a whisper" = quiet/restrained. "Subdued."'},
{passage:'The lake had been polluted for decades. _______ after a $50 million cleanup effort, fish populations returned to pre-industrial levels.',stem:'Transition?',choices:['Similarly,','However,','For instance,','In addition,'],correct:1,domain:'Expression of Ideas',subtype:'Transitions',explain:'Polluted (negative) ‚Üí cleaned up, recovered (positive turnaround). Contrast. "However."'},
{notes:'<ul><li>The platypus lays eggs, has venom, uses electroreception, and has a genome mixing bird, reptile, and mammal genes.</li><li>Native to eastern Australia.</li><li>Population stable but habitat threatened by drought and development.</li></ul>',stem:'Present the platypus as biologically unique?',choices:['Native to eastern Australia.','Laying eggs like a reptile, delivering venom like a snake, and detecting prey electrically like a shark ‚Äî all with a genome blending bird, reptile, and mammal DNA ‚Äî the platypus defies every conventional category of classification.','Population is threatened by drought.','Found in rivers and streams.'],correct:1,domain:'Expression of Ideas',subtype:'Synthesis',explain:'Goal: biologically unique. (B) lists cross-class traits + mixed genome.'}
];
const btn=(bg,color,extra)=>({display:"inline-flex",alignItems:"center",justifyContent:"center",gap:8,padding:"12px 28px",borderRadius:10,border:"none",background:bg,color,fontWeight:700,fontSize:15,cursor:"pointer",transition:"all .15s",fontFamily:"inherit",...extra});const card=(extra)=>({background:C.surface,border:`1px solid ${C.border}`,borderRadius:12,padding:"18px 20px",...extra});const sectionLabel={fontSize:11,fontWeight:700,letterSpacing:2,textTransform:"uppercase",color:C.accent,marginBottom:6};const heading={fontFamily:"'Cormorant Garamond',serif",fontWeight:700,marginBottom:12};
function useScrollProgress(){useEffect(()=>{const h=()=>{const d=document.documentElement.scrollHeight-window.innerHeight;const f=document.getElementById("progressFill");if(f&&d>0)f.style.width=Math.min((window.scrollY/d)*100,100)+"%";};window.addEventListener("scroll",h);return()=>window.removeEventListener("scroll",h);},[]);}
function QuestionCard({q,idx,answer,onAnswer,showNumber,total}){const dc=DOMAIN_COLORS[q.domain]||{color:C.accent};const hasTable=!!q.table,hasNotes=!!q.notes,hasPassage=!!q.passage,isAnswered=answer!==undefined,isCrossText=hasPassage&&q.passage.includes("Text 1:");let text1=null,text2=null;if(isCrossText){const parts=q.passage.split(/Text 2:|<strong>Text 2:<\/strong>/);text1=parts[0].replace(/Text 1:|<strong>Text 1:<\/strong>/g,"").replace(/<br\s*\/?>/g,"").trim();text2=parts[1]?parts[1].replace(/<br\s*\/?>/g,"").trim():"";}return e("div",{style:{...card(),marginBottom:12,opacity:isAnswered?.9:1}},e("div",{style:{display:"inline-block",fontSize:10,fontWeight:700,letterSpacing:1.5,textTransform:"uppercase",padding:"2px 8px",borderRadius:4,background:`${dc.color}20`,color:dc.color,marginBottom:8}},(showNumber?`Q${idx+1}/${total} ¬∑ `:"")+q.subtype),hasTable&&e("div",{style:{background:C.paper,border:`1px solid ${C.border}`,borderRadius:8,padding:"12px 14px",marginBottom:12,overflowX:"auto"},dangerouslySetInnerHTML:{__html:q.table}}),hasNotes&&e("div",{style:{background:C.paper,border:`1px solid ${C.border}`,borderRadius:10,padding:14,marginBottom:12,fontSize:14,color:"#ddd",lineHeight:1.8},dangerouslySetInnerHTML:{__html:q.notes}}),hasPassage&&!isCrossText&&e("div",{style:{background:C.paper,border:`1px solid ${C.border}`,borderRadius:8,padding:"12px 14px",fontSize:14,color:"#ddd",lineHeight:1.75,marginBottom:12,borderLeft:`3px solid ${C.muted}`},dangerouslySetInnerHTML:{__html:q.passage}}),isCrossText&&e("div",{style:{marginBottom:12}},e("div",{style:{background:C.paper,border:`1px solid ${C.border}`,borderRadius:8,padding:"12px 14px",marginBottom:8}},e("div",{style:{color:C.craft,fontSize:11,fontWeight:700,marginBottom:6}},"TEXT 1"),e("div",{style:{fontSize:14,color:"#ddd",lineHeight:1.75},dangerouslySetInnerHTML:{__html:text1}})),e("div",{style:{background:C.paper,border:`1px solid ${C.border}`,borderRadius:8,padding:"12px 14px"}},e("div",{style:{color:C.info,fontSize:11,fontWeight:700,marginBottom:6}},"TEXT 2"),e("div",{style:{fontSize:14,color:"#ddd",lineHeight:1.75},dangerouslySetInnerHTML:{__html:text2}}))),e("div",{style:{fontSize:15,marginBottom:12,color:"#ddd",lineHeight:1.7}},q.stem),e("div",{style:{display:"flex",flexDirection:"column",gap:6}},q.choices.map((ch,ci)=>{const letter="ABCD"[ci];let cls={};if(isAnswered&&ci===q.correct)cls={borderColor:C.correct,background:C.correctBg};else if(isAnswered&&answer===ci)cls={borderColor:C.wrong,background:C.wrongBg};return e("button",{key:ci,onClick:()=>{if(!isAnswered)onAnswer(ci);},disabled:isAnswered,style:{display:"flex",alignItems:"flex-start",gap:10,padding:"10px 14px",background:C.paper,border:`2px solid ${C.border}`,borderRadius:8,cursor:isAnswered?"default":"pointer",fontSize:14,textAlign:"left",width:"100%",transition:"all .15s",color:"#ddd",...(isAnswered?cls:{}),...(!isAnswered?{}:{pointerEvents:"none",opacity:isAnswered&&ci!==q.correct&&ci!==answer?.5:1})}},e("span",{style:{fontWeight:700,color:isAnswered&&ci===q.correct?C.correct:isAnswered&&ci===answer?C.wrong:C.muted,minWidth:20,flexShrink:0}},letter),e("span",null,ch));})),isAnswered&&e("div",{style:{marginTop:10,padding:12,background:C.paper,borderRadius:8,fontSize:13,color:C.muted,lineHeight:1.6,borderLeft:`3px solid ${C.correct}`}},q.explain));}
function TimedModule({questions,timerMinutes,moduleLabel,accentColor,onComplete}){const[cur,setCur]=useState(0);const[answers,setAnswers]=useState(new Array(questions.length).fill(undefined));const[flags,setFlags]=useState(new Array(questions.length).fill(false));const[timeLeft,setTimeLeft]=useState(timerMinutes*60);const timerRef=useRef(null);useEffect(()=>{timerRef.current=setInterval(()=>{setTimeLeft(t=>{if(t<=1){clearInterval(timerRef.current);return 0;}return t-1;});},1000);return()=>clearInterval(timerRef.current);},[]);const mins=Math.floor(timeLeft/60),secs=timeLeft%60,timerPct=(timeLeft/(timerMinutes*60))*100,answered=answers.filter(a=>a!==undefined).length,q=questions[cur];function handleAnswer(ci){const next=[...answers];next[cur]=ci;setAnswers(next);}function toggleFlag(){const next=[...flags];next[cur]=!next[cur];setFlags(next);}function jumpTo(i){setCur(i);window.scrollTo({top:0,behavior:"smooth"});}function finish(){clearInterval(timerRef.current);onComplete({answers,flags});}return e("div",null,e("div",{style:{position:"sticky",top:7,zIndex:50,background:C.paper,paddingBottom:12,paddingTop:4}},e("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:6}},e("div",{style:{fontFamily:"'JetBrains Mono',monospace",fontSize:16,color:timeLeft<120?C.wrong:C.muted}},mins+":"+(secs<10?"0":"")+secs),e("div",{style:{fontSize:13,color:C.muted}},moduleLabel+" ¬∑ "+answered+"/"+questions.length)),e("div",{style:{height:6,borderRadius:3,background:C.border,overflow:"hidden",marginBottom:10}},e("div",{style:{height:"100%",borderRadius:3,width:timerPct+"%",background:timerPct<15?C.wrong:(accentColor||C.accent),transition:"width .15s linear"}})),e("div",{style:{display:"flex",gap:4,flexWrap:"wrap"}},questions.map((_,i)=>{const a=answers[i],isC=a!==undefined&&a===questions[i].correct,isW=a!==undefined&&a!==questions[i].correct,isCur=i===cur,isF=flags[i];return e("div",{key:i,onClick:()=>jumpTo(i),style:{width:24,height:24,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:9,fontWeight:700,fontFamily:"'JetBrains Mono',monospace",cursor:"pointer",border:`2px solid ${isC?C.correct:isW?C.wrong:isCur?C.accent:C.border}`,background:isC?C.correctBg:isW?C.wrongBg:"transparent",color:isC?C.correct:isW?C.wrong:isCur?C.accent:C.muted,boxShadow:isCur?`0 0 0 3px ${C.accentLight}`:isF?`0 0 0 2px ${C.conv}`:"none"}},i+1);}))),e("div",{style:{marginTop:16}},e("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8}},e("div",{style:{fontSize:13,color:C.muted}},moduleLabel+" ¬∑ Q"+(cur+1)+"/"+questions.length+" ¬∑ "+q.subtype),e("button",{onClick:toggleFlag,style:{padding:"4px 10px",borderRadius:6,fontSize:12,fontWeight:700,cursor:"pointer",border:`1px solid ${C.conv}`,color:C.conv,background:flags[cur]?C.convBg:"transparent",fontFamily:"inherit"}},flags[cur]?"üö© Flagged":"üè≥ Flag")),e(QuestionCard,{q,idx:cur,answer:answers[cur],onAnswer:handleAnswer,showNumber:true,total:questions.length}),answers[cur]!==undefined&&e("div",{style:{display:"flex",justifyContent:"center",gap:8,marginTop:12}},cur>0&&e("button",{onClick:()=>jumpTo(cur-1),style:btn("transparent",C.accent,{border:`2px solid ${C.accent}`,padding:"8px 16px",fontSize:13})},"‚Üê Prev"),cur<questions.length-1&&e("button",{onClick:()=>jumpTo(cur+1),style:btn(C.accent,"#fff",{padding:"8px 16px",fontSize:13})},"Next ‚Üí"),cur===questions.length-1&&e("button",{onClick:finish,style:btn(C.correct,"#fff",{padding:"8px 16px",fontSize:13})},"Finish "+moduleLabel+" ‚Üí"))));}
function Welcome({onStart}){const[show,setShow]=useState(false);useEffect(()=>{setTimeout(()=>setShow(true),100);},[]);useScrollProgress();return e("div",{style:{maxWidth:800,margin:"0 auto",padding:"20px 20px 60px",transition:"all .7s",opacity:show?1:0,transform:show?"translateY(0)":"translateY(16px)"}},e("div",{style:{padding:"40px 0 30px",borderBottom:`1px solid ${C.border}`,marginBottom:32}},e("div",{style:{display:"inline-block",background:"linear-gradient(90deg,var(--craft),var(--info),var(--conv),var(--expr))",color:"#fff",fontSize:11,fontWeight:700,letterSpacing:2,textTransform:"uppercase",padding:"5px 14px",borderRadius:16,marginBottom:14}},"MODULE 11"),e("h1",{style:{...heading,fontSize:"clamp(1.8rem,4vw,2.6rem)",marginBottom:6}},"War Games II"),e("p",{style:{color:C.muted,fontSize:"1rem"}},"Adaptive Simulation ‚Äî Module 1 ‚Üí Module 2"),e("div",{style:{display:"flex",gap:20,marginTop:14,fontSize:13,color:C.muted}},e("span",null,"‚è± ~60 min"),e("span",null,"üìã M1 (27Q) + M2 (15Q)"),e("span",null,"üéØ Adaptive"))),e("div",{style:{marginBottom:36}},e("div",{style:sectionLabel},"PRE-TEST MINDSET"),e("h2",{style:{...heading,fontSize:"1.6rem"}},"Module 1 Is the Qualifying Round"),e("div",{style:{background:C.infoBg,border:"1px solid rgba(52,211,153,.3)",borderRadius:10,padding:"14px 18px",fontSize:14,marginBottom:16}},e("strong",{style:{color:C.info}},"How adaptive testing works: "),"Your Module 1 score determines Module 2 difficulty. Hard Module 2 unlocks 680‚Äì760. Easy caps ~620. ",e("strong",{style:{color:C.info}},"Every M1 question matters.")),e("div",{style:{...card(),borderLeft:`3px solid ${C.accent}`,fontSize:14,color:"#ccc",lineHeight:1.9}},e("div",null,e("strong",{style:{color:C.accent}},"Routing: "),"18+ correct ‚Üí Hard M2 (ceiling ~760)"),e("div",{style:{marginTop:8}},e("strong",{style:{color:C.accent}},"Below: "),"<18 ‚Üí Standard M2 (ceiling ~620)"),e("div",{style:{marginTop:8}},e("strong",{style:{color:C.accent}},"Strategy: "),"Accuracy over speed in M1. A routing error costs more than a slow answer."))),e("div",{style:{textAlign:"center",paddingTop:8}},e("button",{onClick:onStart,style:btn(`linear-gradient(135deg,${C.accent},${C.craft})`,"#fff",{fontSize:17,padding:"16px 40px"}),onMouseOver:ev=>ev.currentTarget.style.transform="scale(1.04)",onMouseOut:ev=>ev.currentTarget.style.transform="scale(1)"},"Begin Module 1 (32:00) ‚Üí")));}
function RoutingReveal({m1Score,m1Total,isHard,onContinue}){const[show,setShow]=useState(false);useEffect(()=>{setTimeout(()=>setShow(true),200);},[]);useScrollProgress();return e("div",{style:{maxWidth:800,margin:"0 auto",padding:"40px 20px 60px",transition:"all .7s",opacity:show?1:0,transform:show?"translateY(0)":"translateY(16px)"}},e("div",{style:{...card(),border:`2px solid ${C.accent}`,borderRadius:14,padding:22,textAlign:"center",marginBottom:24}},e("div",{style:{fontFamily:"'JetBrains Mono',monospace",fontSize:"3rem",fontWeight:700,color:m1Score>=18?C.correct:C.wrong}},m1Score+"/"+m1Total),e("div",{style:{fontSize:14,color:C.muted}},"Module 1 Complete")),e("div",{style:{borderRadius:14,padding:22,textAlign:"center",marginBottom:24,background:isHard?C.nmBg:C.convBg,border:isHard?"2px solid rgba(167,139,250,.4)":"2px solid rgba(251,191,36,.4)"}},e("div",{style:{fontSize:"1.4rem",fontWeight:700,marginBottom:8}},isHard?"üü¢ Routed to Module 2: HARD":"üü° Routed to Module 2: STANDARD"),e("div",{style:{fontSize:14,color:"#ccc"}},"Score: ",e("strong",null,m1Score+"/27"),". ",isHard?"Hard M2 unlocks 680‚Äì760.":"Standard M2 caps ~620.")),!isHard&&e("div",{style:{background:C.wrongBg,border:"1px solid rgba(239,68,68,.3)",borderRadius:10,padding:"14px 18px",fontSize:14,marginBottom:24}},e("strong",{style:{color:C.wrong}},"Routing Impact: "),"You needed "+(18-m1Score)+" more correct to reach Hard M2."),e("div",{style:{textAlign:"center"}},e("button",{onClick:onContinue,style:btn(isHard?C.nm:C.conv,"#fff",{fontSize:17,padding:"16px 40px"}),onMouseOver:ev=>ev.currentTarget.style.transform="scale(1.04)",onMouseOut:ev=>ev.currentTarget.style.transform="scale(1)"},"Begin Module 2 "+(isHard?"Hard":"Standard")+" (15:00) ‚Üí")));}
function CombinedResults({m1Data,m2Data,m2Questions,isHard}){const[show,setShow]=useState(false);const[tab,setTab]=useState("overview");const[errCats,setErrCats]=useState({});useEffect(()=>{setTimeout(()=>setShow(true),200);},[]);useScrollProgress();const allQs=[...M1,...m2Questions],allAns=[...m1Data.answers,...m2Data.answers];const m1Score=m1Data.answers.reduce((a,v,i)=>v===M1[i].correct?a+1:a,0),m2Score=m2Data.answers.reduce((a,v,i)=>v===m2Questions[i].correct?a+1:a,0),combined=m1Score+m2Score,total=allQs.length,cpct=Math.round((combined/total)*100);const byDomain={};allQs.forEach((q,i)=>{if(!byDomain[q.domain])byDomain[q.domain]={correct:0,total:0};byDomain[q.domain].total++;if(allAns[i]===q.correct)byDomain[q.domain].correct++;});const bySubtype={};allQs.forEach((q,i)=>{if(!bySubtype[q.subtype])bySubtype[q.subtype]={correct:0,total:0};bySubtype[q.subtype].total++;if(allAns[i]===q.correct)bySubtype[q.subtype].correct++;});const errors=[];M1.forEach((q,i)=>{if(m1Data.answers[i]!==q.correct)errors.push({qi:i,q,mod:"M1"});});m2Questions.forEach((q,i)=>{if(m2Data.answers[i]!==q.correct)errors.push({qi:M1.length+i,q,mod:"M2"});});function setErrorCat(key,cat){setErrCats(prev=>({...prev,[key]:cat}));}const catCounts={};Object.values(errCats).forEach(c=>{catCounts[c]=(catCounts[c]||0)+1;});const catSorted=Object.entries(catCounts).sort((a,b)=>b[1]-a[1]);const weakest=Object.entries(bySubtype).filter(([_,d])=>d.total>0&&d.correct/d.total<1).sort((a,b)=>a[1].correct/a[1].total-b[1].correct/b[1].total).slice(0,3);
return e("div",{style:{maxWidth:800,margin:"0 auto",padding:"20px 20px 80px",transition:"all .7s",opacity:show?1:0,transform:show?"translateY(0)":"translateY(16px)"}},e("div",{style:{...card(),border:`2px solid ${C.accent}`,borderRadius:14,padding:22,textAlign:"center",marginBottom:16}},e("div",{style:{fontFamily:"'JetBrains Mono',monospace",fontSize:"3rem",fontWeight:700,color:cpct>=75?C.correct:cpct>=60?C.accent:C.wrong}},combined+"/"+total),e("div",{style:{fontSize:14,color:C.muted}},"Combined (M1: "+m1Score+"/27 + M2: "+m2Score+"/"+m2Questions.length+")"),e("div",{style:{marginTop:8,fontSize:14}},"Module 2: ",e("strong",{style:{color:isHard?C.nm:C.conv}},isHard?"HARD":"STANDARD"))),e("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:10,marginBottom:24}},Object.entries(byDomain).map(([nm,d])=>{const dp=d.total>0?Math.round(d.correct/d.total*100):0;const dc=DOMAIN_COLORS[nm];return e("div",{key:nm,style:{...card(),textAlign:"center",padding:12}},e("div",{style:{fontSize:10,color:dc.color,textTransform:"uppercase",letterSpacing:1,marginBottom:4,fontWeight:700}},nm),e("div",{style:{fontFamily:"'JetBrains Mono',monospace",fontSize:"1.2rem",fontWeight:700,color:dp>=75?C.correct:dp>=50?dc.color:C.wrong}},d.correct+"/"+d.total));})),e("div",{style:{display:"flex",gap:4,marginBottom:20,background:C.surface,borderRadius:10,padding:4}},[["overview","Skill Breakdown"],["errors","Error Analysis"],["log","Question Log"],["next","What's Next"]].map(([k,l])=>e("button",{key:k,onClick:()=>setTab(k),style:{flex:1,padding:"10px 8px",borderRadius:8,border:"none",fontWeight:600,fontSize:12,cursor:"pointer",fontFamily:"inherit",background:tab===k?C.border:"transparent",color:tab===k?C.ink:C.muted}},l))),
tab==="overview"&&e("div",{style:{display:"flex",flexDirection:"column",gap:10}},Object.entries(bySubtype).map(([st,d])=>{const meta=SUBTYPE_META[st]||{label:st,icon:"üìù"};const dc=DOMAIN_COLORS[allQs.find(q=>q.subtype===st)?.domain]||{color:C.accent};const sp=d.total>0?Math.round(d.correct/d.total*100):0;return e("div",{key:st,style:card()},e("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:10}},e("div",{style:{display:"flex",alignItems:"center",gap:8}},e("span",{style:{fontSize:16}},meta.icon),e("span",{style:{color:C.ink,fontWeight:700,fontSize:14}},meta.label)),e("div",{style:{display:"flex",alignItems:"center",gap:6}},e("span",{style:{color:dc.color,fontWeight:800,fontSize:18}},sp+"%"),e("span",{style:{color:C.muted,fontSize:12}},"("+d.correct+"/"+d.total+")"))),e("div",{style:{height:8,background:C.border,borderRadius:4,overflow:"hidden"}},e("div",{style:{height:"100%",width:sp+"%",background:dc.color,borderRadius:4,transition:"width 1s"}})));}),weakest.length>0&&e("div",{style:{background:`${C.wrong}11`,border:`1px solid ${C.wrong}33`,borderRadius:14,padding:20,marginTop:8}},e("div",{style:{color:C.wrong,fontWeight:700,fontSize:14,marginBottom:8}},"üéØ Priority Review Areas"),weakest.map(([st,d])=>e("div",{key:st,style:{color:"#ccc",fontSize:13,marginBottom:4}},e("strong",{style:{color:C.ink}},st)," ‚Äî "+Math.round(d.correct/d.total*100)+"%")))),
tab==="errors"&&e("div",null,errors.length===0?e("div",{style:{color:C.correct,fontSize:"1.1rem",fontWeight:700,textAlign:"center",padding:24}},"üéØ Perfect score!"):e("div",null,e("div",{style:{...card(),borderLeft:`3px solid ${C.accent}`,marginBottom:16}},e("p",{style:{fontSize:14,color:"#ccc",lineHeight:1.7}},"Classify ",e("strong",{style:{color:C.ink}},"WHY")," you missed each question.",!isHard&&m1Score<18?" "+e("strong",{style:{color:C.wrong}},"M1 errors cost you Hard routing."):"")),e("div",{style:{fontSize:14,color:C.accent,fontWeight:700,marginBottom:12}},errors.length+" missed:"),errors.map(({qi,q,mod})=>e("div",{key:qi,style:{...card(),marginBottom:8,borderLeft:mod==="M1"&&m1Score<18?`3px solid ${C.wrong}`:"none"}},e("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:4}},e("div",{style:{fontSize:12,color:C.muted}},mod+" ¬∑ "+q.subtype),mod==="M1"&&m1Score<18&&e("span",{style:{fontSize:10,fontWeight:700,color:C.wrong,background:C.wrongBg,padding:"2px 6px",borderRadius:4}},"ROUTING Q")),e("div",{style:{fontSize:13,color:"#ddd",marginBottom:8}},q.stem.substring(0,80)+"‚Ä¶"),e("div",{style:{display:"flex",flexWrap:"wrap",gap:4}},ERROR_CATS.map(cat=>e("button",{key:cat,onClick:()=>setErrorCat(qi,cat),style:{display:"inline-block",padding:"4px 10px",borderRadius:6,fontSize:12,fontWeight:700,cursor:"pointer",border:`2px solid ${errCats[qi]===cat?C.accent:C.border}`,background:errCats[qi]===cat?C.accentLight:"transparent",color:errCats[qi]===cat?C.accent:C.muted,fontFamily:"inherit"}},cat))))),catSorted.length>0&&e("div",{style:{...card(),marginTop:16,borderLeft:`3px solid ${C.accent}`}},e("div",{style:{fontSize:14,color:C.accent,fontWeight:700,marginBottom:8}},"Error Pattern Summary"),catSorted.map(([cat,count])=>e("div",{key:cat,style:{fontSize:14,color:"#ccc"}},cat+": ",e("strong",null,count))),e("div",{style:{marginTop:8,fontSize:14,color:C.info}},"Top pattern: ",e("strong",null,catSorted[0][0]))))),
tab==="log"&&e("div",null,e("div",{style:{fontSize:13,color:C.accent,fontWeight:700,marginBottom:8}},"Module 1"),e("div",{style:{display:"flex",flexDirection:"column",gap:6,marginBottom:20}},M1.map((q,i)=>{const isC=m1Data.answers[i]===q.correct;return e("div",{key:i,style:{...card({padding:"10px 14px",display:"flex",alignItems:"center",gap:10})}},e("div",{style:{width:28,height:28,borderRadius:7,display:"flex",alignItems:"center",justifyContent:"center",fontWeight:800,fontSize:12,background:isC?C.correctBg:C.wrongBg,color:isC?C.correct:C.wrong}},i+1),e("div",{style:{flex:1}},e("div",{style:{color:C.ink,fontSize:12,fontWeight:600}},q.subtype),e("div",{style:{color:C.muted,fontSize:11}},q.domain)),e("span",{style:{fontSize:14}},isC?"‚úÖ":"‚ùå"));})),e("div",{style:{fontSize:13,color:isHard?C.nm:C.conv,fontWeight:700,marginBottom:8}},"Module 2 "+(isHard?"Hard":"Standard")),e("div",{style:{display:"flex",flexDirection:"column",gap:6}},m2Questions.map((q,i)=>{const isC=m2Data.answers[i]===q.correct;return e("div",{key:i,style:{...card({padding:"10px 14px",display:"flex",alignItems:"center",gap:10})}},e("div",{style:{width:28,height:28,borderRadius:7,display:"flex",alignItems:"center",justifyContent:"center",fontWeight:800,fontSize:12,background:isC?C.correctBg:C.wrongBg,color:isC?C.correct:C.wrong}},i+1),e("div",{style:{flex:1}},e("div",{style:{color:C.ink,fontSize:12,fontWeight:600}},q.subtype),e("div",{style:{color:C.muted,fontSize:11}},q.domain)),e("span",{style:{fontSize:14}},isC?"‚úÖ":"‚ùå"));}))),
tab==="next"&&e("div",null,e("div",{style:{...card(),borderLeft:`3px solid ${C.accent}`,marginBottom:16}},e("div",{style:{color:C.accent,fontWeight:700,fontSize:15,marginBottom:10}},"Key Takeaways"),e("ol",{style:{paddingLeft:18,fontSize:14,color:"#ccc",lineHeight:2}},e("li",null,e("strong",null,"Module 1 accuracy is everything.")," Hard M2 unlocks the upper score range."),e("li",null,"The adaptive system means ",e("strong",null,"every M1 question affects your ceiling.")),e("li",null,"Hard M2 questions are more ",e("strong",null,"nuanced")," ‚Äî secondary meanings, subtle cross-text, complex data."),e("li",null,"Build ",e("strong",null,"stamina")," for back-to-back timed modules."),e("li",null,e("strong",null,"Routing questions")," ‚Äî M1 errors that could have changed your assignment ‚Äî are highest-value study targets."))),e("div",{style:{...card(),borderLeft:`3px solid ${C.info}`,marginBottom:16}},e("div",{style:{color:C.info,fontWeight:700,fontSize:15,marginBottom:10}},"üìù Homework"),e("div",{style:{fontSize:14,color:"#ccc",lineHeight:1.9}},e("p",{style:{marginBottom:8}},e("strong",{style:{color:C.ink}},"1. Routing Questions Review")," ‚Äî Re-solve every M1 error."),e("p",{style:{marginBottom:8}},e("strong",{style:{color:C.ink}},"2. Stamina Practice")," ‚Äî Full practice test in Bluebook."),e("p",{style:{marginBottom:8}},e("strong",{style:{color:C.ink}},"3. Hard Module Prep")," ‚Äî Secondary-meaning WIC + adversarial cross-text."),e("p",null,e("strong",{style:{color:C.ink}},"4. Preview Module 12")," ‚Äî Final Assessment & Battle Plan.")))));}
function App(){const[screen,setScreen]=useState("welcome");const[fade,setFade]=useState(true);const[m1Data,setM1Data]=useState(null);const[m2Data,setM2Data]=useState(null);const[isHard,setIsHard]=useState(false);useScrollProgress();const go=useCallback((to)=>{setFade(false);setTimeout(()=>{setScreen(to);window.scrollTo(0,0);setFade(true);},350);},[]);const m1Score=m1Data?m1Data.answers.reduce((a,v,i)=>v===M1[i].correct?a+1:a,0):0;const m2Questions=isHard?M2_HARD:M2_STD;return e("div",{style:{minHeight:"100vh",background:C.paper,color:C.ink,fontFamily:"'Source Sans 3',-apple-system,sans-serif"}},e("div",{style:{position:"relative",zIndex:1,transition:"opacity .35s,transform .35s",opacity:fade?1:0,transform:fade?"translateY(0)":"translateY(8px)"}},screen==="welcome"&&e(Welcome,{onStart:()=>go("m1")}),screen==="m1"&&e("div",{style:{maxWidth:800,margin:"0 auto",padding:"20px 20px 60px"}},e(TimedModule,{questions:M1,timerMinutes:32,moduleLabel:"Module 1",accentColor:"linear-gradient(90deg,var(--craft),var(--info),var(--conv),var(--expr))",onComplete:(data)=>{setM1Data(data);const score=data.answers.reduce((a,v,i)=>v===M1[i].correct?a+1:a,0);setIsHard(score>=18);go("routing");}})),screen==="routing"&&m1Data&&e(RoutingReveal,{m1Score,m1Total:M1.length,isHard,onContinue:()=>go("m2")}),screen==="m2"&&e("div",{style:{maxWidth:800,margin:"0 auto",padding:"20px 20px 60px"}},e(TimedModule,{questions:m2Questions,timerMinutes:15,moduleLabel:"Module 2 "+(isHard?"Hard":"Standard"),accentColor:isHard?C.nm:C.conv,onComplete:(data)=>{setM2Data(data);go("results");}})),screen==="results"&&m1Data&&m2Data&&e(CombinedResults,{m1Data,m2Data,m2Questions,isHard})));}
const{createRoot}=ReactDOM;createRoot(document.getElementById("root")).render(e(App));

</script></body></html>