<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Module 8: Strategy & Time Management &#8212; SAT Math &#8212; PantherPrep</title>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,600;0,700;1,400&family=Source+Sans+3:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
<style>
:root{--ink:#f0f0f0;--paper:#121212;--accent:#C8102E;--accent-light:rgba(200,16,46,.15);--border:#2a2a2a;--muted:#999;--surface:#1a1a1a;--math:#60a5fa;--math-bg:rgba(96,165,250,.1);--algebra:#34d399;--algebra-bg:rgba(52,211,153,.1);--advanced:#a78bfa;--adv-bg:rgba(167,139,250,.1);--psda:#fbbf24;--psda-bg:rgba(251,191,36,.1);--geotrig:#f87171;--geotrig-bg:rgba(248,113,113,.1);--des:#2bc4a9;--des-bg:rgba(43,196,169,.1);--strat:#f97316;--strat-bg:rgba(249,115,22,.1);--correct:#22c55e;--correct-bg:rgba(34,197,94,.12);--wrong:#ef4444;--wrong-bg:rgba(239,68,68,.12);--danger:#ef4444;--danger-bg:rgba(239,68,68,.08)}
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Source Sans 3',sans-serif;background:var(--paper);color:var(--ink);line-height:1.65;overflow-x:hidden}
.top-stripe{height:4px;background:linear-gradient(90deg,#C8102E 0%,#C8102E 50%,#fff 50%,#fff 100%);position:fixed;top:0;left:0;right:0;z-index:100}

.screen{display:none;opacity:0;transition:opacity .4s ease;min-height:100vh}
.screen.active{display:block;opacity:1}
.screen.fade-in{animation:fadeIn .4s ease forwards}
.screen.fade-out{animation:fadeOut .3s ease forwards}
@keyframes fadeIn{from{opacity:0;transform:translateY(12px)}to{opacity:1;transform:translateY(0)}}
@keyframes fadeOut{from{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(-12px)}}

.screen-progress{position:fixed;top:12px;left:50%;transform:translateX(-50%);display:flex;gap:8px;z-index:101;padding:6px 14px;background:rgba(18,18,18,.85);backdrop-filter:blur(8px);border-radius:20px;border:1px solid var(--border)}
.screen-dot{width:8px;height:8px;border-radius:50%;background:var(--border);transition:all .3s;cursor:pointer}
.screen-dot.completed{background:var(--strat)}
.screen-dot.current{background:var(--accent);box-shadow:0 0 8px rgba(200,16,46,.5);transform:scale(1.25)}
.screen-dot:hover{transform:scale(1.3)}

.container{max-width:800px;margin:0 auto;padding:20px 20px 60px}

.welcome-screen{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100vh;padding:40px 20px;text-align:center}
.welcome-badge{display:inline-block;background:var(--strat);color:#000;font-size:11px;font-weight:700;letter-spacing:2px;text-transform:uppercase;padding:5px 14px;border-radius:16px;margin-bottom:18px}
.welcome-screen h1{font-family:'Cormorant Garamond',serif;font-size:clamp(2rem,5vw,3rem);font-weight:700;margin-bottom:8px;max-width:600px}
.welcome-sub{color:var(--muted);font-size:1.05rem;max-width:500px;margin:0 auto 32px}
.welcome-meta{display:flex;gap:24px;justify-content:center;margin-bottom:36px;font-size:.85rem;color:var(--muted)}
.preview-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:12px;max-width:600px;width:100%;margin-bottom:40px}
.preview-card{background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:16px 14px;text-align:left;transition:all .2s}
.preview-card:hover{border-color:var(--strat);transform:translateY(-2px)}
.preview-icon{font-size:1.4rem;margin-bottom:8px}
.preview-title{font-size:.82rem;font-weight:700;margin-bottom:3px}
.preview-desc{font-size:.72rem;color:var(--muted);line-height:1.4}
.start-btn{padding:14px 36px;background:var(--strat);color:#000;border:none;border-radius:10px;font-size:1rem;font-weight:700;cursor:pointer;transition:all .2s;font-family:'Source Sans 3',sans-serif}
.start-btn:hover{filter:brightness(1.15);transform:translateY(-1px);box-shadow:0 6px 20px rgba(249,115,22,.3)}

.warmup-container{max-width:600px;margin:0 auto;padding:60px 20px}
.warmup-header{text-align:center;margin-bottom:32px}
.warmup-badge{display:inline-block;background:var(--des);color:#111;font-size:10px;font-weight:700;letter-spacing:2px;text-transform:uppercase;padding:4px 12px;border-radius:12px;margin-bottom:12px}
.warmup-dots{display:flex;gap:8px;justify-content:center;margin-top:16px}
.warmup-dot{width:10px;height:10px;border-radius:50%;background:var(--border);transition:all .3s}
.warmup-dot.done-correct{background:var(--correct)}
.warmup-dot.done-wrong{background:var(--wrong)}
.warmup-dot.active{background:var(--des);box-shadow:0 0 8px rgba(43,196,169,.4)}
.warmup-q{background:var(--surface);border:1px solid var(--border);border-radius:14px;padding:24px;margin-bottom:16px}
.warmup-q .source-tag{font-size:.7rem;color:var(--des);font-weight:700;letter-spacing:1px;text-transform:uppercase;margin-bottom:8px}
.warmup-q .q-text{font-size:.95rem;line-height:1.7;margin-bottom:14px}
.warmup-choices{display:flex;flex-direction:column;gap:8px}
.warmup-choice{display:flex;align-items:center;gap:10px;padding:11px 14px;background:var(--paper);border:2px solid var(--border);border-radius:8px;cursor:pointer;font-size:.88rem;transition:all .15s}
.warmup-choice:hover:not(.wu-dis){border-color:var(--des);background:rgba(43,196,169,.05)}
.warmup-choice.wu-correct{border-color:var(--correct);background:var(--correct-bg)}
.warmup-choice.wu-wrong{border-color:var(--wrong);background:var(--wrong-bg)}
.warmup-choice.wu-dis{pointer-events:none;opacity:.7}
.warmup-choice.wu-correct{opacity:1}
.warmup-fb{font-size:.85rem;color:var(--muted);line-height:1.6;margin-top:12px;padding:10px;background:var(--paper);border-radius:8px;border-left:3px solid var(--correct)}
.warmup-next{padding:10px 24px;background:var(--des);color:#111;border:none;border-radius:8px;font-weight:700;cursor:pointer;font-size:.88rem;margin-top:12px;font-family:'Source Sans 3',sans-serif}
.warmup-next:hover{filter:brightness(1.1)}
.warmup-summary{text-align:center;padding:40px 20px}
.warmup-score{font-family:'JetBrains Mono',monospace;font-size:2.4rem;font-weight:700;color:var(--des);margin:12px 0}
.warmup-continue{padding:12px 28px;background:var(--strat);color:#000;border:none;border-radius:8px;font-weight:700;cursor:pointer;font-size:.95rem;margin-top:20px;font-family:'Source Sans 3',sans-serif}
.warmup-continue:hover{filter:brightness(1.15)}

.back-link{display:inline-flex;align-items:center;gap:8px;color:var(--muted);font-size:.9rem;padding:8px 0;margin-top:8px;cursor:pointer;text-decoration:none}
.back-link:hover{color:var(--accent)}
.mod-header{padding:40px 0 30px;border-bottom:1px solid var(--border);margin-bottom:32px}
.mod-badge{display:inline-block;background:var(--strat);color:#000;font-size:11px;font-weight:700;letter-spacing:2px;text-transform:uppercase;padding:5px 14px;border-radius:16px;margin-bottom:14px}
.mod-header h1{font-family:'Cormorant Garamond',serif;font-size:clamp(1.8rem,4vw,2.6rem);font-weight:700;margin-bottom:6px}
.mod-header .subtitle{color:var(--muted);font-size:1rem}
.mod-meta{display:flex;gap:20px;margin-top:14px;font-size:.82rem;color:var(--muted)}
.section{margin-bottom:36px}
.section-label{font-size:.7rem;font-weight:700;letter-spacing:2px;text-transform:uppercase;color:var(--strat);margin-bottom:6px}
.section h2{font-family:'Cormorant Garamond',serif;font-size:1.6rem;font-weight:700;margin-bottom:12px}
.section p{color:#ccc;font-size:.93rem;margin-bottom:12px;line-height:1.7}
.card{background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:18px 20px;margin-bottom:12px}
.card-accent{border-left:3px solid var(--accent)}
.callout{background:var(--accent-light);border:1px solid rgba(200,16,46,.3);border-radius:10px;padding:14px 18px;margin-bottom:16px;font-size:.9rem}
.callout strong{color:var(--accent)}
.callout-orange{background:var(--strat-bg);border-color:rgba(249,115,22,.3)}
.callout-orange strong{color:var(--strat)}

/* TOPIC ACCORDION */
.topic{background:var(--surface);border:1px solid var(--border);border-radius:14px;margin-bottom:10px;overflow:hidden;transition:all .2s}
.topic-header{display:flex;align-items:center;gap:12px;padding:14px 18px;cursor:pointer}
.topic-header:hover{background:rgba(249,115,22,.05)}
.topic-badge{width:28px;height:28px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:.75rem;font-weight:700;color:#111;flex-shrink:0}
.topic-title{font-weight:700;font-size:.95rem;flex:1}
.topic-sub{font-size:.78rem;color:var(--muted)}
.topic-arrow{color:var(--muted);font-size:.9rem;transition:transform .2s;flex-shrink:0}
.topic.open .topic-arrow{transform:rotate(90deg)}
.topic-body{display:none;padding:0 18px 18px;font-size:.93rem;color:#ccc;line-height:1.7}
.topic.open .topic-body{display:block}
.topic-body h4{color:var(--ink);font-size:.9rem;margin:14px 0 6px;text-transform:uppercase;letter-spacing:.5px}
.topic-body ul{padding-left:18px;margin-bottom:10px}
.topic-body li{margin-bottom:6px}

/* DECISION TREE */
.dt-flow{display:flex;flex-direction:column;gap:4px;margin-bottom:16px}
.dt-step{display:flex;align-items:stretch;gap:10px}
.dt-num{flex-shrink:0;width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:.85rem;color:#000}
.dt-body{flex:1;padding:10px 14px;border-radius:10px;font-size:.88rem;line-height:1.5}
.dt-yes{font-weight:700;color:var(--correct)}
.dt-no{color:var(--muted);font-style:italic}

/* TIME BAR */
.time-bar{display:flex;height:40px;border-radius:10px;overflow:hidden;margin-bottom:8px;font-size:.78rem;font-weight:700}
.time-seg{display:flex;align-items:center;justify-content:center;color:#000}

/* GRID-IN RULES */
.gi-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:10px;margin-bottom:14px}
.gi-card{background:var(--surface);border:1px solid var(--border);border-radius:10px;padding:12px;font-size:.85rem}
.gi-icon{font-size:1.3rem;margin-bottom:4px}
.gi-rule{color:#ccc;line-height:1.5}
.gi-rule strong{color:var(--ink)}

/* WORKED EXAMPLES */
.worked{background:var(--paper);border-left:3px solid var(--strat);border-radius:0 10px 10px 0;padding:14px 16px;margin-bottom:12px;font-size:.88rem;line-height:1.7;color:#ccc}
.worked-label{font-weight:700;color:var(--strat);font-size:.82rem;text-transform:uppercase;letter-spacing:1px;margin-bottom:6px}
.worked code{background:var(--strat-bg);color:var(--strat);padding:1px 6px;border-radius:4px;font-family:'JetBrains Mono',monospace;font-size:.85rem}

/* EXERCISES */
.exercise{background:var(--surface);border:2px solid var(--strat);border-radius:14px;padding:22px;margin-bottom:16px}
.exercise h3{font-family:'Cormorant Garamond',serif;font-size:1.15rem;margin-bottom:4px}
.exercise-sub{font-size:.82rem;color:var(--muted);margin-bottom:14px}
.ex-item{background:var(--paper);border-radius:10px;padding:14px;margin-bottom:10px;border:1px solid var(--border)}
.ex-prompt{font-size:.93rem;margin-bottom:10px;line-height:1.6;color:#ddd}
.ex-prompt code{background:var(--strat-bg);color:var(--strat);padding:1px 6px;border-radius:4px;font-family:'JetBrains Mono',monospace;font-size:.85rem}

/* CLASSIFY OPTIONS */
.classify-opts{display:flex;flex-wrap:wrap;gap:6px;margin-bottom:4px}
.classify-opt{padding:6px 14px;background:var(--surface);border:2px solid var(--border);border-radius:8px;cursor:pointer;font-size:.82rem;transition:all .15s}
.classify-opt:hover:not(.cl-dis){border-color:var(--strat);background:var(--strat-bg)}
.classify-opt.cl-correct{border-color:var(--correct);background:var(--correct-bg);color:var(--correct)}
.classify-opt.cl-wrong{border-color:var(--wrong);background:var(--wrong-bg);color:var(--wrong)}
.classify-opt.cl-dis{pointer-events:none;opacity:.7}
.ex-fb{font-size:.85rem;padding:8px 12px;border-radius:6px;margin-top:8px;display:none;line-height:1.5}
.ex-fb.show{display:block}
.ex-fb.correct{background:var(--correct-bg);color:var(--correct);border:1px solid var(--correct)}
.ex-fb.wrong{background:var(--wrong-bg);color:var(--wrong);border:1px solid var(--wrong)}

/* MC CHOICES */
.mc-choices{display:flex;flex-direction:column;gap:6px}
.mc-choice{padding:10px 14px;background:var(--surface);border:2px solid var(--border);border-radius:8px;cursor:pointer;font-size:.88rem;transition:all .15s;display:flex;align-items:center;gap:10px}
.mc-choice:hover:not(.mc-dis){border-color:var(--strat);background:var(--strat-bg)}
.mc-letter{font-weight:700;color:var(--muted);min-width:24px;font-family:'JetBrains Mono',monospace}
.mc-choice.mc-correct{border-color:var(--correct);background:var(--correct-bg)}
.mc-choice.mc-wrong{border-color:var(--wrong);background:var(--wrong-bg)}
.mc-choice.mc-dis{pointer-events:none;opacity:.7}
.mc-choice.mc-correct .mc-letter{color:var(--correct)}.mc-choice.mc-wrong .mc-letter{color:var(--wrong)}
.mc-fb{font-size:.85rem;color:var(--muted);line-height:1.6;margin-top:8px;display:none;border-left:3px solid var(--correct);background:var(--paper);padding:8px 12px;border-radius:6px}.mc-fb.show{display:block}

/* SCORE BAR */
.score-bar{display:flex;align-items:center;gap:10px;margin-top:14px;padding-top:10px;border-top:1px solid var(--border)}
.score-bar-label{font-size:.72rem;font-weight:700;text-transform:uppercase;letter-spacing:1px;color:var(--muted)}
.score-bar-track{flex:1;height:6px;border-radius:3px;background:var(--border);overflow:hidden}
.score-bar-fill{height:100%;border-radius:3px;background:var(--correct);transition:width .4s ease}
.score-bar-val{font-family:'JetBrains Mono',monospace;font-size:.85rem;font-weight:700;color:var(--correct);min-width:36px;text-align:right}
.tier{font-size:.68rem;font-weight:700;letter-spacing:1px;text-transform:uppercase;padding:2px 8px;border-radius:4px;margin-right:8px}
.tier-1{background:rgba(52,211,153,.15);color:var(--algebra)}.tier-2{background:var(--math-bg);color:var(--math)}.tier-3{background:var(--adv-bg);color:var(--advanced)}

/* TRAP TAXONOMY */
.trap-taxonomy{margin-bottom:24px}
.trap-card{background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:16px 18px;margin-bottom:10px;display:flex;gap:14px;align-items:flex-start;transition:all .2s}
.trap-card:hover{border-color:var(--accent);transform:translateX(3px)}
.trap-number{width:32px;height:32px;border-radius:8px;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:.78rem;color:#fff;flex-shrink:0}
.trap-card-body{flex:1}
.trap-card-name{font-weight:700;font-size:.92rem;margin-bottom:3px}
.trap-card-desc{font-size:.82rem;color:var(--muted);line-height:1.5}
.trap-card-example{font-size:.78rem;color:var(--math);font-family:'JetBrains Mono',monospace;margin-top:4px}

/* CONFIDENCE / TIMER / PRACTICE */
.confidence-row{display:flex;gap:6px;margin-bottom:10px;flex-wrap:wrap}
.conf-tag{padding:5px 12px;border-radius:6px;font-size:.75rem;font-weight:600;cursor:pointer;border:2px solid var(--border);background:var(--surface);transition:all .15s;letter-spacing:.5px}
.conf-tag:hover{border-color:var(--strat)}
.conf-tag.selected{border-color:var(--strat);background:rgba(249,115,22,.12);color:var(--strat)}
.conf-tag[data-conf="guessing"].selected{border-color:var(--psda);background:rgba(251,191,36,.12);color:var(--psda)}
.conf-tag[data-conf="unsure"].selected{border-color:var(--math);background:var(--math-bg);color:var(--math)}
.conf-tag[data-conf="confident"].selected{border-color:var(--strat);background:rgba(249,115,22,.12);color:var(--strat)}

.timer-bar{position:sticky;top:8px;z-index:50;background:rgba(18,18,18,.92);backdrop-filter:blur(8px);border:1px solid var(--border);border-radius:12px;padding:10px 16px;margin-bottom:20px;display:flex;align-items:center;gap:14px}
.timer-display{font-family:'JetBrains Mono',monospace;font-size:1.1rem;font-weight:700;color:var(--strat);min-width:60px}
.timer-display.warning{color:var(--psda)}
.timer-display.danger{color:var(--wrong);animation:pulse 1s ease infinite}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:.5}}
.timer-track{flex:1;height:4px;background:var(--border);border-radius:2px;overflow:hidden}
.timer-fill{height:100%;background:var(--strat);transition:width 1s linear;border-radius:2px}
.timer-fill.warning{background:var(--psda)}
.timer-fill.danger{background:var(--wrong)}
.timer-toggle{padding:5px 12px;background:var(--surface);border:1px solid var(--border);border-radius:6px;font-size:.75rem;color:var(--muted);cursor:pointer;font-family:'Source Sans 3',sans-serif;font-weight:600}
.timer-toggle:hover{border-color:var(--accent);color:var(--ink)}
.timer-toggle.active{background:var(--accent-light);border-color:var(--accent);color:var(--accent)}
.q-dots{display:flex;gap:4px}
.q-dot{width:8px;height:8px;border-radius:50%;background:var(--border)}
.q-dot.correct{background:var(--correct)}
.q-dot.wrong{background:var(--wrong)}

/* RESULTS */
.results-section{margin-top:24px;padding:20px;background:var(--surface);border:1px solid var(--border);border-radius:14px}
.results-section h3{font-family:'Cormorant Garamond',serif;font-size:1.3rem;margin-bottom:14px}
.results-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:2px;margin-bottom:16px;background:var(--border);border-radius:10px;overflow:hidden}
.results-grid-header{background:var(--surface);padding:8px;text-align:center;font-size:.68rem;font-weight:700;text-transform:uppercase;letter-spacing:1px;color:var(--muted)}
.results-grid-cell{background:var(--paper);padding:10px 8px;text-align:center;font-size:.78rem;min-height:50px;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:4px}
.results-grid-cell.danger-cell{background:var(--danger-bg);border:1px solid rgba(239,68,68,.3)}
.cell-label{font-size:.65rem;color:var(--muted);font-weight:600}
.cell-dots{display:flex;gap:3px;flex-wrap:wrap;justify-content:center}
.cell-dot{width:8px;height:8px;border-radius:50%}
.difficulty-bars{display:flex;flex-direction:column;gap:8px;margin-bottom:16px}
.diff-row{display:flex;align-items:center;gap:10px}
.diff-label{font-size:.78rem;font-weight:600;min-width:60px}
.diff-track{flex:1;height:8px;background:var(--border);border-radius:4px;overflow:hidden}
.diff-fill{height:100%;border-radius:4px;transition:width .5s ease}
.diff-val{font-family:'JetBrains Mono',monospace;font-size:.78rem;font-weight:700;min-width:40px;text-align:right}
.error-category{padding:12px 16px;border-radius:10px;margin-bottom:8px;font-size:.85rem;line-height:1.6}
.error-category .error-label{font-weight:700;margin-bottom:4px}
.error-category .error-items{color:var(--muted);font-size:.82rem}

/* COMPLETE */
.complete-screen{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100vh;padding:40px 20px;text-align:center}
.complete-icon{font-size:4rem;margin-bottom:16px;animation:celebrateBounce .6s ease}
@keyframes celebrateBounce{0%{transform:scale(0)}50%{transform:scale(1.2)}100%{transform:scale(1)}}
.complete-screen h1{font-family:'Cormorant Garamond',serif;font-size:clamp(1.8rem,4vw,2.4rem);margin-bottom:8px}
.complete-sub{color:var(--muted);font-size:1rem;margin-bottom:28px}
.takeaway-list{text-align:left;max-width:500px;width:100%;margin-bottom:32px}
.takeaway-item{display:flex;gap:10px;align-items:flex-start;padding:8px 0;font-size:.88rem;color:#ccc}
.takeaway-check{color:var(--correct);flex-shrink:0;font-weight:700}
.nav-cards{display:grid;grid-template-columns:1fr 1fr;gap:12px;max-width:500px;width:100%}
.nav-card{background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:18px;text-align:center;cursor:pointer;transition:all .2s;text-decoration:none;color:var(--ink)}
.nav-card:hover{border-color:var(--strat);transform:translateY(-2px)}
.nav-card-label{font-size:.7rem;color:var(--muted);text-transform:uppercase;letter-spacing:1px;margin-bottom:4px}
.nav-card-title{font-weight:700;font-size:.95rem}

@media(max-width:600px){.mod-meta{flex-wrap:wrap;gap:10px}.classify-opts{flex-direction:column}.time-bar{font-size:.65rem}.gi-grid{grid-template-columns:1fr}.preview-grid{grid-template-columns:1fr 1fr}.welcome-meta{flex-wrap:wrap;gap:12px}.results-grid{grid-template-columns:1fr;gap:1px}.nav-cards{grid-template-columns:1fr}.timer-bar{flex-wrap:wrap;gap:8px}}
</style>
</head>
<body>
<div class="top-stripe"></div>
<div class="screen-progress" id="screenProgress"></div>

<!-- ============================================================ -->
<!-- SCREEN 1: WELCOME                                            -->
<!-- ============================================================ -->
<div class="screen active fade-in" id="screen-welcome">
  <div class="welcome-screen">
    <div class="welcome-badge">Module 8</div>
    <h1>Strategy Application & Time Management</h1>
    <p class="welcome-sub">You know the content. Now learn the strategies that turn knowledge into points &#8212; fast.</p>
    <div class="welcome-meta"><span>&#9201; 1&#8211;2 sessions</span><span>&#127919; 6 strategies</span><span>&#128200; Phase 3: Strategize</span></div>
    <div class="preview-grid">
      <div class="preview-card"><div class="preview-icon">&#128260;</div><div class="preview-title">Retrieval Warm-Up</div><div class="preview-desc">5 questions from Module 7 (Desmos) to activate prior knowledge</div></div>
      <div class="preview-card"><div class="preview-icon">&#127919;</div><div class="preview-title">6 Core Strategies</div><div class="preview-desc">Decision tree, Plug In, Backsolve, Ballpark, time budget, grid-in rules</div></div>
      <div class="preview-card"><div class="preview-icon">&#9888;&#65039;</div><div class="preview-title">Trap Catalog</div><div class="preview-desc">8 named traps that cost you points on every test</div></div>
      <div class="preview-card"><div class="preview-icon">&#129518;</div><div class="preview-title">6 Interactive Exercises</div><div class="preview-desc">Strategy trainer, Plug In, Backsolve, Ballpark, Grid-In traps, Mistakes</div></div>
      <div class="preview-card"><div class="preview-icon">&#9201;</div><div class="preview-title">Timed Practice</div><div class="preview-desc">10 SAT-style questions with timer ON by default</div></div>
      <div class="preview-card"><div class="preview-icon">&#128200;</div><div class="preview-title">Error Analysis</div><div class="preview-desc">Difficulty breakdown + confidence matrix + trap patterns</div></div>
    </div>
    <button class="start-btn" onclick="goScreen(1)">Start Learning &#8594;</button>
  </div>
</div>

<!-- ============================================================ -->
<!-- SCREEN 2: RETRIEVAL WARM-UP (Module 7 &#8212; Desmos)         -->
<!-- ============================================================ -->
<div class="screen" id="screen-warmup">
  <div class="warmup-container">
    <div class="warmup-header">
      <div class="warmup-badge">Retrieval Warm-Up</div>
      <h2 style="font-family:'Cormorant Garamond',serif;font-size:1.6rem">Module 7 Review</h2>
      <p style="color:var(--muted);font-size:.9rem;margin-top:4px">Quick recall from Desmos Mastery.</p>
      <div class="warmup-dots" id="warmupDots"></div>
    </div>
    <div id="warmupContent"></div>
  </div>
</div>

<!-- ============================================================ -->
<!-- SCREEN 3: LESSON CONTENT                                     -->
<!-- ============================================================ -->
<div class="screen" id="screen-lesson">
<div class="container">
<a class="back-link" href="index.html">&#8592; Back to SAT Math Course</a>
<div class="mod-header">
  <div class="mod-badge">Module 8</div>
  <h1>Strategy Application & Time Management</h1>
  <p class="subtitle">You know the content. Now learn the strategies that turn knowledge into points &#8212; fast.</p>
  <div class="mod-meta"><span>&#9201; 1&#8211;2 sessions</span><span>&#127919; 6 strategies</span><span>Phase 3: Strategize</span></div>
</div>

<!-- SAT-SPECIFIC ADAPTIVE STRATEGY -->
<div class="section">
  <div class="section-label">Digital SAT Structure</div>
  <h2>Understanding Adaptive Modules</h2>
  <p>The SAT Math section has 44 questions across two 35-minute modules. Here&#8217;s the critical strategic insight:</p>

  <div class="card" style="border-left:3px solid var(--strat)">
    <p style="margin:0;font-size:.93rem"><strong style="color:var(--strat)">Module 1 &#8594; determines Module 2 difficulty.</strong> Score well on Module 1 &#8594; Hard Module 2 (higher score ceiling). Score poorly &#8594; Easy Module 2 (ceiling approximately 560&#8211;630).</p>
  </div>

  <div class="card" style="border-left:3px solid var(--correct)">
    <p style="margin:0;font-size:.93rem"><strong style="color:var(--correct)">Strategic implication:</strong> Module 1 accuracy is MORE important than Module 2 speed. Take your time, avoid careless errors, and secure the hard path.</p>
  </div>

  <div class="callout-orange callout"><strong>Critical:</strong> Even if you ace Easy Module 2, your math score is capped around 560&#8211;630. This routing decision is the single biggest factor in your score ceiling.</div>

  <div class="topic" onclick="if(event.target.closest('.topic-body'))return;this.classList.toggle('open')">
    <div class="topic-header">
      <div class="topic-badge" style="background:var(--strat)">&#9432;</div>
      <div class="topic-title">What If You Get Easy Module 2?</div>
      <div class="topic-arrow">&#9656;</div>
    </div>
    <div class="topic-body">
      <p><strong>Don&#8217;t panic.</strong> You can still score in the 560&#8211;630 range by answering everything correctly.</p>
      <p><strong>Use the extra time:</strong> Easy Module 2 questions are more straightforward. Double-check every answer.</p>
      <p><strong>Focus on grid-ins:</strong> These are where most points are lost on easy modules. Re-read what the question asks.</p>
      <p><strong>For next time:</strong> Focus Module 1 practice on accuracy over speed. Flag and return strategy is crucial.</p>
    </div>
  </div>
</div>

<!-- 5-SECOND DECISION TREE -->
<div class="section">
  <div class="section-label">Core Framework</div>
  <h2>The 5-Second Decision Tree</h2>
  <p>When you read a question, use this decision tree within 5 seconds to choose the fastest approach.</p>
  <div class="dt-flow">
    <div class="dt-step"><div class="dt-num" style="background:var(--strat)">1</div><div class="dt-body" style="background:var(--strat-bg)">Do I immediately see how to solve this?<br><span class="dt-yes">YES &#8594; Solve directly.</span> <span class="dt-no">NO &#8594; Step 2</span></div></div>
    <div class="dt-step"><div class="dt-num" style="background:var(--advanced)">2</div><div class="dt-body" style="background:var(--adv-bg)">Variables in the answer choices?<br><span class="dt-yes">YES &#8594; Use Plug In (PIYON).</span> <span class="dt-no">NO &#8594; Step 3</span></div></div>
    <div class="dt-step"><div class="dt-num" style="background:var(--algebra)">3</div><div class="dt-body" style="background:rgba(52,211,153,.1)">Answer choices are specific numbers?<br><span class="dt-yes">YES &#8594; Use Backsolve (PITA).</span> <span class="dt-no">NO &#8594; Step 4</span></div></div>
    <div class="dt-step"><div class="dt-num" style="background:var(--des)">4</div><div class="dt-body" style="background:rgba(43,196,169,.1)">Involves a function, graph, or system?<br><span class="dt-yes">YES &#8594; Use Desmos.</span> <span class="dt-no">NO &#8594; Step 5</span></div></div>
    <div class="dt-step"><div class="dt-num" style="background:var(--psda)">5</div><div class="dt-body" style="background:var(--psda-bg)">Can I eliminate clearly wrong answers?<br><span class="dt-yes">YES &#8594; Ballpark + POE, then guess.</span> <span class="dt-no">Flag and move on.</span></div></div>
  </div>
</div>

<!-- PLUG IN -->
<div class="section">
  <div class="section-label">Strategy 1</div>
  <h2>Plug In Your Own Numbers (PIYON)</h2>
  <div class="callout-orange callout"><strong>When to use:</strong> Variables in answer choices. &#8220;Which expression is equivalent to&#8230;&#8221; Questions with no specific values.</div>

  <div class="topic open" onclick="if(event.target.closest('.topic-body'))return;this.classList.toggle('open')">
    <div class="topic-header">
      <div class="topic-badge" style="background:var(--strat)">1</div>
      <div class="topic-title">How It Works &#8212; Step by Step</div>
      <div class="topic-arrow">&#9656;</div>
    </div>
    <div class="topic-body">
      <p><strong>Step 1:</strong> Choose simple numbers. Best picks: 2, 3, 5, 10, or 100 (for percents).</p>
      <p><strong>Step 2:</strong> Work the problem with your numbers to get a TARGET answer.</p>
      <p><strong>Step 3:</strong> Plug the SAME numbers into each answer choice.</p>
      <p><strong>Step 4:</strong> The choice that matches your target is correct.</p>
      <p><strong>Avoid 0 and 1</strong> &#8212; they have special properties that make multiple answers look correct. If two answers match, try different numbers.</p>
    </div>
  </div>

  <div class="worked">
    <div class="worked-label">Worked Example</div>
    <div class="ex-prompt" style="margin-bottom:8px">If x is positive, which is equivalent to <code>(x&#178; + 2x) / x</code>?</div>
    <div>A) x + 2 &nbsp; B) x&#178; + 2 &nbsp; C) 2x &nbsp; D) x</div>
    <div style="margin-top:8px"><strong>Plug In x = 3:</strong> (9 + 6) / 3 = 15/3 = <strong>5</strong> &#8592; target</div>
    <div>A) 3 + 2 = 5 &#10003; &nbsp; B) 11 &#10007; &nbsp; C) 6 &#10007; &nbsp; D) 3 &#10007;</div>
    <div><strong>Answer: A</strong></div>
  </div>
</div>

<!-- BACKSOLVE -->
<div class="section">
  <div class="section-label">Strategy 2</div>
  <h2>Backsolve (Plug In The Answers / PITA)</h2>
  <div class="callout-orange callout"><strong>When to use:</strong> Answer choices are numbers. &#8220;What is the value of&#8230;&#8221; Systems where algebra feels messy.</div>

  <div class="topic" onclick="if(event.target.closest('.topic-body'))return;this.classList.toggle('open')">
    <div class="topic-header">
      <div class="topic-badge" style="background:var(--algebra)">2</div>
      <div class="topic-title">How It Works &#8212; Step by Step</div>
      <div class="topic-arrow">&#9656;</div>
    </div>
    <div class="topic-body">
      <p><strong>Step 1:</strong> Start with choice B or C (the middle value).</p>
      <p><strong>Step 2:</strong> Plug that value into the problem and check if it works.</p>
      <p><strong>Step 3:</strong> If wrong, determine if you need larger or smaller &#8594; eliminates 2&#8211;3 choices at once!</p>
      <p>Backsolve is powerful when algebra would be complex but testing a number is simple.</p>
    </div>
  </div>

  <div class="worked">
    <div class="worked-label">Worked Example</div>
    <div class="ex-prompt" style="margin-bottom:8px">If 3x + 7 = 2x + 12, what is the value of x?</div>
    <div>A) 3 &nbsp; B) 5 &nbsp; C) 7 &nbsp; D) 12</div>
    <div style="margin-top:8px"><strong>Try B) x = 5:</strong> 3(5) + 7 = 22. 2(5) + 12 = 22. &#10003; Equal!</div>
    <div><strong>Answer: B</strong> &#8212; found on first try.</div>
  </div>
</div>

<!-- BALLPARK -->
<div class="section">
  <div class="section-label">Strategy 3</div>
  <h2>Ballpark & POE (Process of Elimination)</h2>
  <div class="callout-orange callout"><strong>When to use:</strong> ANY question where estimation eliminates choices. Geometry with figures. Late-module questions when time is short.</div>

  <div class="topic" onclick="if(event.target.closest('.topic-body'))return;this.classList.toggle('open')">
    <div class="topic-header">
      <div class="topic-badge" style="background:var(--psda)">3</div>
      <div class="topic-title">How It Works</div>
      <div class="topic-arrow">&#9656;</div>
    </div>
    <div class="topic-body">
      <p><strong>Before calculating:</strong> &#8220;Should this be big or small? Positive or negative? Close to what?&#8221;</p>
      <p>18% of 412 &#8776; 20% of 400 = 80. Eliminate anything far from 80.</p>
      <p>Triangle with sides 5 and 12? Hypotenuse is between 12 and 17. Eliminate 8 and 25.</p>
      <p>Population doubles every 5 years from 100? After 15 years &#8776; 100 &#215; 2&#179; = 800. Eliminate 200 and 10,000.</p>
      <p><strong>POE shortcuts:</strong> Question asks for positive &#8594; eliminate negatives. Context requires small &#8594; eliminate large.</p>
    </div>
  </div>
</div>

<!-- TIME BUDGET -->
<div class="section">
  <div class="section-label">Time Management</div>
  <h2>SAT Time Budget Per Module</h2>
  <p style="font-weight:700;color:var(--ink)">35 minutes &#183; 22 questions &#183; ~1.6 min/question</p>
  <div class="time-bar">
    <div class="time-seg" style="flex:25;background:var(--correct)">First Pass ~25 min</div>
    <div class="time-seg" style="flex:8;background:var(--psda)">Review ~8 min</div>
    <div class="time-seg" style="flex:2;background:var(--wrong)">LOTD ~2 min</div>
  </div>
  <div style="display:grid;grid-template-columns:1fr 1fr 1fr;gap:8px;margin-bottom:16px;font-size:.82rem">
    <div class="card" style="border-left:3px solid var(--correct);padding:10px 14px"><strong>First Pass (Q1&#8211;22)</strong><br>Answer every confident question. Flag uncertain ones. ~1.5 min/question avg.</div>
    <div class="card" style="border-left:3px solid var(--psda);padding:10px 14px"><strong>Second Pass (flagged)</strong><br>Return to flagged. Use Plug In, Backsolve, or Desmos.</div>
    <div class="card" style="border-left:3px solid var(--wrong);padding:10px 14px"><strong>Final Check</strong><br>Verify grid-ins. LOTD for unanswered. <strong>Never leave blanks.</strong></div>
  </div>
  <div class="callout"><strong>Pace Check:</strong> At question 11 (halfway), you should have ~17 minutes left. If behind, speed up on easy questions and flag hard ones immediately.</div>
</div>

<!-- GRID-IN TIPS -->
<div class="section">
  <div class="section-label">Grid-In Rules</div>
  <h2>Student-Produced Response Tips</h2>
  <div class="gi-grid">
    <div class="gi-card"><div class="gi-icon">&#9989;</div><div class="gi-rule"><strong>Fractions accepted:</strong> 3/7 and 0.4286 are both correct.</div></div>
    <div class="gi-card"><div class="gi-icon">&#9986;&#65039;</div><div class="gi-rule"><strong>Long decimals:</strong> Truncate or round. Don&#8217;t leave blank.</div></div>
    <div class="gi-card"><div class="gi-icon">&#10134;</div><div class="gi-rule"><strong>Negatives allowed:</strong> Digital SAT accepts negative grid-in answers.</div></div>
    <div class="gi-card"><div class="gi-icon">&#127919;</div><div class="gi-rule"><strong>Multiple correct:</strong> If several answers work, any correct value is accepted.</div></div>
    <div class="gi-card"><div class="gi-icon">&#9888;&#65039;</div><div class="gi-rule"><strong>#1 Trap:</strong> Asks for 2x, not x. ALWAYS re-read what they want.</div></div>
    <div class="gi-card"><div class="gi-icon">&#128269;</div><div class="gi-rule"><strong>Reasonableness:</strong> Does your answer make sense in context?</div></div>
  </div>
</div>

<!-- ==================== EXERCISE 1: DECISION TREE ==================== -->
<div class="section">
  <div class="section-label">Interactive Exercise 1</div>
  <h2>5-Second Decision Tree Trainer</h2>
  <p>For each question, choose the BEST strategy. Speed matters!</p>
  <div class="exercise" id="dtEx"></div>
</div>

<!-- ==================== EXERCISE 2: PLUG IN ==================== -->
<div class="section">
  <div class="section-label">Interactive Exercise 2</div>
  <h2>Plug In Workshop</h2>
  <p>Solve using Plug In. Variables in answer choices = your cue!</p>
  <div class="exercise" style="border-color:var(--advanced)" id="piEx"></div>
</div>

<!-- ==================== EXERCISE 3: BACKSOLVE ==================== -->
<div class="section">
  <div class="section-label">Interactive Exercise 3</div>
  <h2>Backsolve Workshop</h2>
  <p>Solve by testing the answer choices. Number answers = your cue!</p>
  <div class="exercise" style="border-color:var(--algebra)" id="bsEx"></div>
</div>

<!-- ==================== EXERCISE 4: BALLPARK ==================== -->
<div class="section">
  <div class="section-label">Interactive Exercise 4</div>
  <h2>Ballpark Eliminator</h2>
  <p>Without solving, find the OBVIOUSLY wrong answer.</p>
  <div class="exercise" style="border-color:var(--psda)" id="bpEx"></div>
</div>

<!-- TOP MISREADING TRAPS -->
<div class="section">
  <div class="section-label">Common Traps</div>
  <h2>The Top 8 Preventable Mistakes</h2>
  <p>These mistakes have nothing to do with math ability &#8212; they&#8217;re about careful reading and attention. Fixing them alone can be worth 3&#8211;5 questions per test.</p>
</div>

<div class="trap-taxonomy">
  <div class="trap-card" data-trap="wrong_variable">
    <div class="trap-number" style="background:var(--wrong)">1</div>
    <div class="trap-card-body">
      <div class="trap-card-name">Solving for the Wrong Variable</div>
      <div class="trap-card-desc">The question asks for 6x &#8722; 14, not x. You solve for x = 9 and pick 9. The answer was 40.</div>
      <div class="trap-card-example">Fix: Underline exactly what the question asks for BEFORE solving.</div>
    </div>
  </div>
  <div class="trap-card" data-trap="intermediate_answer">
    <div class="trap-number" style="background:var(--strat)">2</div>
    <div class="trap-card-body">
      <div class="trap-card-name">Intermediate vs. Final Answer</div>
      <div class="trap-card-desc">A shirt is 20% off, then taxed 8%. You find the discount ($32) and pick that &#8212; but the question asks for the final price after tax ($34.56).</div>
      <div class="trap-card-example">Fix: Make sure your answer addresses the FINAL part of the question.</div>
    </div>
  </div>
  <div class="trap-card" data-trap="at_least_vs_more">
    <div class="trap-number" style="background:var(--psda)">3</div>
    <div class="trap-card-body">
      <div class="trap-card-name">&#8220;At Least&#8221; vs. &#8220;More Than&#8221;</div>
      <div class="trap-card-desc">&#8220;At least 5&#8221; means &#8805; 5 (includes 5). &#8220;More than 5&#8221; means > 5 (does NOT include 5). Mixing these up changes the answer.</div>
      <div class="trap-card-example">Fix: "At least" = &#8805;. "More than" = >. "No more than" = &#8804;. "Fewer than" = <.</div>
    </div>
  </div>
  <div class="trap-card" data-trap="negation_miss">
    <div class="trap-number" style="background:var(--advanced)">4</div>
    <div class="trap-card-body">
      <div class="trap-card-name">Negation Words (NOT, CANNOT, EXCEPT)</div>
      <div class="trap-card-desc">&#8220;Which is NOT a solution?&#8221; or &#8220;Which CANNOT be true?&#8221; Your brain skips the NOT and you pick a valid answer. Wrong.</div>
      <div class="trap-card-example">Fix: Circle negative words (NOT, CANNOT, EXCEPT, LEAST) when you see them.</div>
    </div>
  </div>
  <div class="trap-card" data-trap="axis_scale">
    <div class="trap-number" style="background:var(--des)">5</div>
    <div class="trap-card-body">
      <div class="trap-card-name">Axis Scale / Units</div>
      <div class="trap-card-desc">A graph&#8217;s y-axis is labeled &#8220;in thousands.&#8221; You read a point as y = 45 instead of y = 45,000. Or x-axis is months but the question asks about years.</div>
      <div class="trap-card-example">Fix: Always read axis labels AND the scale before reading any data.</div>
    </div>
  </div>
  <div class="trap-card" data-trap="sign_context">
    <div class="trap-number" style="background:var(--math)">6</div>
    <div class="trap-card-body">
      <div class="trap-card-name">Positive vs. Negative in Context</div>
      <div class="trap-card-desc">You solve correctly and get x = &#8722;3, but enter 3 in the grid-in. Or the question says &#8220;what is the DECREASE&#8221; and you give a negative value instead of the positive magnitude.</div>
      <div class="trap-card-example">Fix: For grid-ins, double-check the sign. For "increase/decrease" questions, give positive values.</div>
    </div>
  </div>
  <div class="trap-card" data-trap="wrong_denominator">
    <div class="trap-number" style="background:var(--geotrig)">7</div>
    <div class="trap-card-body">
      <div class="trap-card-name">Wrong Denominator for Percent Change</div>
      <div class="trap-card-desc">Price goes from $50 to $60. You calculate 10/60 = 16.7% instead of 10/50 = 20%. The denominator is always the ORIGINAL value.</div>
      <div class="trap-card-example">Fix: % change = (new &#8722; old) / OLD &#215; 100. Denominator = starting value.</div>
    </div>
  </div>
  <div class="trap-card" data-trap="fx_vs_x">
    <div class="trap-number" style="background:var(--algebra)">8</div>
    <div class="trap-card-body">
      <div class="trap-card-name">f(x) Value vs. x Value</div>
      <div class="trap-card-desc">&#8220;For what value of x is f(x) at its minimum?&#8221; You correctly find the minimum is &#8722;1, but the x-value is 2. You enter &#8722;1. Wrong.</div>
      <div class="trap-card-example">Fix: "Value of x" means the input. "Value of f(x)" means the output. Read which one.</div>
    </div>
  </div>
</div>

<!-- ==================== EXERCISE 5: GRID-IN TRAPS ==================== -->
<div class="section">
  <div class="section-label">Interactive Exercise 5</div>
  <h2>Grid-In Trap Detector</h2>
  <p>Did the student answer correctly, or fall for a trap?</p>
  <div class="exercise" style="border-color:var(--wrong)" id="giEx"></div>
</div>

<!-- ==================== EXERCISE 6: PREVENTABLE MISTAKES ==================== -->
<div class="section">
  <div class="section-label">Interactive Exercise 6</div>
  <h2>Preventable Mistakes Diagnostic</h2>
  <p>Research shows >35% of SAT math errors are preventable misreads, not knowledge gaps. Catch the trap in each scenario.</p>
  <div class="exercise" style="border-color:var(--accent)" id="pmEx"></div>
</div>

<div style="text-align:center;padding:24px 0">
  <button class="start-btn" onclick="goScreen(3)">Continue to Practice Questions &#8594;</button>
</div>
</div>
</div>

<!-- ============================================================ -->
<!-- SCREEN 4: TIMED PRACTICE                                     -->
<!-- ============================================================ -->
<div class="screen" id="screen-practice">
<div class="container">
  <div class="section-label">SAT Practice</div>
  <h2 style="font-family:'Cormorant Garamond',serif;font-size:1.6rem;margin-bottom:4px">Strategy-Focused Practice</h2>
  <p style="color:var(--muted);font-size:.9rem;margin-bottom:16px">10 questions at three difficulty tiers. Tag your confidence before answering.</p>
  <div class="timer-bar" id="timerBar">
    <div class="timer-display" id="timerDisplay">--:--</div>
    <div class="timer-track"><div class="timer-fill" id="timerFill"></div></div>
    <div class="q-dots" id="qDots"></div>
    <button class="timer-toggle active" id="timerToggle" onclick="toggleTimer()">&#9201; Timer ON</button>
  </div>
  <div id="satPractice"></div>
  <div id="practiceResults" style="display:none"></div>
  <div id="practiceNav" style="display:none;text-align:center;padding:24px 0">
    <button class="start-btn" onclick="goScreen(4)">View Summary & Complete Module &#8594;</button>
  </div>
</div>
</div>

<!-- ============================================================ -->
<!-- SCREEN 5: MODULE COMPLETE                                    -->
<!-- ============================================================ -->
<div class="screen" id="screen-complete">
  <div class="complete-screen">
    <div class="complete-icon">&#127881;</div>
    <h1>Module 8 Complete!</h1>
    <p class="complete-sub">You&#8217;ve mastered the strategy toolkit &#8212; now you can turn content knowledge into maximum points.</p>
    <div class="takeaway-list">
      <div style="font-weight:700;margin-bottom:12px;font-size:.85rem;color:var(--strat);text-transform:uppercase;letter-spacing:1px">Key Takeaways</div>
      <div class="takeaway-item"><span class="takeaway-check">&#10003;</span> Use the <strong>5-Second Decision Tree</strong> on EVERY question: direct &#8594; Plug In &#8594; Backsolve &#8594; Desmos &#8594; Ballpark/POE.</div>
      <div class="takeaway-item"><span class="takeaway-check">&#10003;</span> Variables in choices = Plug In. Number choices = Backsolve. Functions/graphs = Desmos.</div>
      <div class="takeaway-item"><span class="takeaway-check">&#10003;</span> Ballpark BEFORE calculating &#8212; eliminate 1&#8211;2 obviously wrong choices on almost any question.</div>
      <div class="takeaway-item"><span class="takeaway-check">&#10003;</span> <strong>Module 1 accuracy matters most</strong> &#8212; it determines your routing and score ceiling.</div>
      <div class="takeaway-item"><span class="takeaway-check">&#10003;</span> Time budget: First pass ~25 min, Review ~8 min, LOTD ~2 min. Check pace at Q11.</div>
      <div class="takeaway-item"><span class="takeaway-check">&#10003;</span> Grid-ins: Always re-read what the question asks for. The #1 trap is answering x when they asked for 2x.</div>
      <div class="takeaway-item"><span class="takeaway-check">&#10003;</span> <strong>LOTD (Letter of the Day):</strong> Pick one letter for ALL remaining guesses. Never leave blanks.</div>
    </div>
    <div id="completePracticeStats"></div>
    <div class="nav-cards">
      <a class="nav-card" href="module-7.html"><div class="nav-card-label">&#8592; Previous</div><div class="nav-card-title">Module 7: Desmos Mastery</div></a>
      <a class="nav-card" href="module-9.html" style="border-color:var(--strat)"><div class="nav-card-label">Next &#8594;</div><div class="nav-card-title">Module 9: Practice Test</div></a>
    </div>
  </div>
</div>

<script>
// ============================================================
// SCREEN NAVIGATION
// ============================================================
const SCREENS=['screen-welcome','screen-warmup','screen-lesson','screen-practice','screen-complete'];
let currentScreen=0;
function goScreen(idx){
  if(idx<0||idx>=SCREENS.length)return;
  const cur=document.getElementById(SCREENS[currentScreen]),nxt=document.getElementById(SCREENS[idx]);
  cur.classList.remove('fade-in');cur.classList.add('fade-out');
  setTimeout(()=>{cur.classList.remove('active','fade-out');nxt.classList.add('active','fade-in');currentScreen=idx;updateProgressDots();window.scrollTo(0,0);if(idx===3&&timerEnabled)startTimer();},300);
}
function updateProgressDots(){
  document.getElementById('screenProgress').innerHTML=SCREENS.map((s,i)=>{let cls='screen-dot';if(i<currentScreen)cls+=' completed';if(i===currentScreen)cls+=' current';return `<div class="${cls}" onclick="${i<=currentScreen?'goScreen('+i+')':''}" title="${['Welcome','Warm-Up','Lesson','Practice','Complete'][i]}"></div>`;}).join('');
}
updateProgressDots();

// ============================================================
// WARM-UP (Module 7 content â€” Desmos)
// ============================================================
const WARMUP_QS=[
  {source:'Module 7 \u2014 Intersections',q:'To find where two equations intersect in Desmos, you graph both and then?',
   ch:['Type "solve" and enter both equations','Click the intersection point','Use the slider tool on both lines','Enter a table with both equations\u2019 values'],c:1,
   fb:'Graph both equations in Desmos. A gray dot appears at the intersection \u2014 click it to see the exact coordinates.'},
  {source:'Module 7 \u2014 Regression',q:'To fit a linear regression in Desmos, you enter data in a table and type?',
   ch:['bestfit(x,y)','regression(y,x)','y\u2081 ~ mx\u2081 + b','linreg(table1)'],c:2,
   fb:'After entering data in a table, type y\u2081 ~ mx\u2081 + b on a new line. Use _ for subscript and ~ for the regression operator.'},
  {source:'Module 7 \u2014 Solutions',q:'Graphing the discriminant: if the parabola doesn\u2019t cross the x-axis, how many real solutions?',
   ch:['0','1','2','Cannot determine with Desmos'],c:0,
   fb:'If the parabola sits entirely above (or below) the x-axis with no x-intercepts, there are 0 real solutions. The discriminant is negative.'},
  {source:'Module 7 \u2014 Shortcuts',q:'In Desmos, the caret symbol (^) is used for?',
   ch:['Multiplication','Exponents','Square roots','Subscripts'],c:1,
   fb:'The caret key (^) creates exponents in Desmos. Type x^2 to get x\u00b2. This is one of the must-memorize shortcuts.'},
  {source:'Module 7 \u2014 Calculator Discipline',q:'If a question can be graphed in under 5 seconds, what should you do?',
   ch:['Switch to algebra \u2014 it\u2019s more reliable','Graph it in Desmos','Use ballpark estimation instead','Skip it and come back later'],c:1,
   fb:'The 5-second rule: if you can set it up in Desmos within 5 seconds, graph it. Desmos is a powerful tool when used efficiently.'}
];
let warmupIdx=0,warmupAnswers=[],warmupAnswered=false;
function renderWarmup(){
  document.getElementById('warmupDots').innerHTML=WARMUP_QS.map((_,i)=>{let cls='warmup-dot';if(i<warmupIdx)cls+=warmupAnswers[i]?' done-correct':' done-wrong';if(i===warmupIdx&&warmupIdx<WARMUP_QS.length)cls+=' active';return `<div class="${cls}"></div>`;}).join('');
  const cont=document.getElementById('warmupContent');
  if(warmupIdx>=WARMUP_QS.length){const cor=warmupAnswers.filter(Boolean).length;cont.innerHTML=`<div class="warmup-summary"><div class="warmup-badge">Warm-Up Complete</div><div class="warmup-score">${cor} / ${WARMUP_QS.length}</div><p style="color:var(--muted);font-size:.9rem;margin-bottom:8px">${cor===5?'Perfect recall! Module 7 Desmos knowledge is locked in.':cor>=3?'Good recall! A couple Desmos topics to revisit.':'Some gaps from Module 7 \u2014 consider a quick Desmos review.'}</p><button class="warmup-continue" onclick="goScreen(2)">Continue to Lesson \u2192</button></div>`;return;}
  const q=WARMUP_QS[warmupIdx];warmupAnswered=false;
  cont.innerHTML=`<div class="warmup-q"><div class="source-tag">From ${q.source}</div><div class="q-text">${q.q}</div><div class="warmup-choices" id="warmupChoices">${q.ch.map((ch,ci)=>`<div class="warmup-choice" onclick="answerWarmup(${ci})">${ch}</div>`).join('')}</div><div id="warmupFb" style="display:none"></div></div>`;
}
function answerWarmup(ci){
  if(warmupAnswered)return;warmupAnswered=true;
  const q=WARMUP_QS[warmupIdx],correct=ci===q.c;warmupAnswers.push(correct);
  document.querySelectorAll('.warmup-choice').forEach((ch,i)=>{ch.classList.add('wu-dis');if(i===q.c)ch.classList.add('wu-correct');else if(i===ci&&!correct)ch.classList.add('wu-wrong');});
  const fb=document.getElementById('warmupFb');fb.style.display='block';
  fb.innerHTML=`<div class="warmup-fb">${correct?'\u2713 ':'\u2717 '}${q.fb}</div><button class="warmup-next" onclick="warmupIdx++;renderWarmup()">${warmupIdx<WARMUP_QS.length-1?'Next Question \u2192':'See Results \u2192'}</button>`;
  document.getElementById('warmupDots').innerHTML=WARMUP_QS.map((_,i)=>{let cls='warmup-dot';if(i<warmupAnswers.length)cls+=warmupAnswers[i]?' done-correct':' done-wrong';else if(i===warmupIdx+1)cls+=' active';return `<div class="${cls}"></div>`;}).join('');
}
renderWarmup();

// ============================================================
// EXERCISE BUILDER HELPER
// ============================================================
function buildExercise(containerId,title,sub,items,ansObj){
  const total=items.length;const correct=Object.entries(ansObj).filter(([i,v])=>v===items[i].correct).length;
  document.getElementById(containerId).innerHTML=`<h3>${title}</h3><div class="exercise-sub">${sub}</div>`+
    items.map((q,i)=>{
      const a=ansObj[i];const has=a!==undefined;
      return `<div class="ex-item">
        <div class="ex-prompt">${q.q}</div>
        <div class="classify-opts">${q.opts.map((o,oi)=>{
          let cls='classify-opt';
          if(has){cls+=' cl-dis';if(oi===q.correct)cls+=' cl-correct';else if(oi===a&&oi!==q.correct)cls+=' cl-wrong';}
          return `<div class="${cls}" onclick="ans_${containerId}(${i},${oi})">${o}</div>`;
        }).join('')}</div>
        <div class="ex-fb${has?' show':''}${has?(a===q.correct?' correct':' wrong'):''}">${has?(a===q.correct?'\u2713 ':'\u2717 ')+q.fb:''}</div>
      </div>`;
    }).join('')+
    `<div class="score-bar"><div class="score-bar-label">Score</div><div class="score-bar-track"><div class="score-bar-fill" style="width:${total?correct/total*100:0}%"></div></div><div class="score-bar-val">${correct}/${total}</div></div>`;
}

// ============================================================
// EXERCISE 1: DECISION TREE TRAINER (10 scenarios)
// ============================================================
const DT_QS=[
  {q:'If a is a positive integer, which expression equals <code>(a\u00b2 \u2212 4)/(a \u2212 2)</code>?',correct:1,opts:['Solve Directly','Plug In','Backsolve','Desmos'],fb:'Variables in answer choices \u2192 Plug In. Try a=3: (9\u22124)/1=5. Check: a+2=5 \u2713.'},
  {q:'5x \u2212 3 = 2x + 9. Choices: 2, 3, 4, 5.',correct:2,opts:['Solve Directly','Plug In','Backsolve','Desmos'],fb:'Number answers \u2192 Backsolve. Try 4: 5(4)\u22123=17, 2(4)+9=17. \u2713'},
  {q:'Where do y = x\u00b2 \u2212 1 and y = 2x + 1 intersect?',correct:3,opts:['Solve Directly','Plug In','Backsolve','Desmos'],fb:'System with quadratic \u2192 Graph both in Desmos, click intersections.'},
  {q:'What is 7 \u00d7 13?',correct:0,opts:['Solve Directly','Plug In','Backsolve','Desmos'],fb:'Simple arithmetic = solve directly. 91.'},
  {q:'Car at 55 mph for 3.75 hours. Distance? A) 105 B) 165 C) 206 D) 412',correct:2,opts:['Solve Directly','Plug In','Ballpark + POE','Desmos'],fb:'~55\u00d74=220. Closest is C) 206. Exact: 55\u00d73.75=206.25.'},
  {q:'Which graph represents y = \u2212(x + 2)\u00b2 + 3?',correct:3,opts:['Solve Directly','Plug In','Backsolve','Desmos'],fb:'Graph it in Desmos and match. Vertex (\u22122, 3), opens down.'},
  {q:'For all x, which equals 2(3x \u2212 1) + 4(x + 5)? Choices have variables.',correct:1,opts:['Solve Directly','Plug In','Backsolve','Desmos'],fb:'Variables in choices \u2192 Plug In. Try x=2: 2(5)+4(7)=38. Test each.'},
  {q:'Rectangle area = 48, length = width + 3. Width? Choices: 3, 4, 5, 6',correct:2,opts:['Solve Directly','Plug In','Backsolve','Desmos'],fb:'Number answers \u2192 Backsolve. Try 5: 5\u00d78=40 (too small). Try 6: 6\u00d79=54 (too big).'},
  {q:'If f(x) = 3x + 2, what is f(f(1))?',correct:0,opts:['Solve Directly','Plug In','Backsolve','Desmos'],fb:'f(1)=5, f(5)=17. Direct solve is fastest.'},
  {q:'Find the line of best fit for 10 data points.',correct:3,opts:['Solve Directly','Plug In','Backsolve','Desmos'],fb:'Regression \u2192 Desmos table + y\u2081 ~ mx\u2081 + b. Only option.'},
];
let dtAns={};
function ans_dtEx(i,v){if(dtAns[i]!==undefined)return;dtAns[i]=v;buildExercise('dtEx','\ud83c\udf33 Decision Tree Trainer','Pick the fastest strategy.',DT_QS,dtAns);}
buildExercise('dtEx','\ud83c\udf33 Decision Tree Trainer','Pick the fastest strategy.',DT_QS,dtAns);

// ============================================================
// EXERCISE 2: PLUG IN (4 problems)
// ============================================================
const PI_QS=[
  {q:'If n is positive, which equals <code>(n\u00b2 + n) / n</code>?',correct:0,opts:['n + 1','n\u00b2','n \u2212 1','2n'],fb:'Plug In n=3: (9+3)/3=4. n+1=4 \u2713, n\u00b2=9 \u2717, n\u22121=2 \u2717, 2n=6 \u2717.'},
  {q:'Store reduces prices by p%. Item costs d dollars. Sale price?',correct:1,opts:['d \u2212 pd','d(1 \u2212 p/100)','d \u2212 p','dp/100'],fb:'Plug In d=100, p=20: price=$80. d(1\u2212p/100)=100(0.8)=80 \u2713.'},
  {q:'If x > 0, which equals <code>\u221a(4x\u00b2)</code>?',correct:0,opts:['2x','4x','2x\u00b2','4x\u00b2'],fb:'Plug In x=3: \u221a(36)=6. 2x=6 \u2713, 4x=12 \u2717.'},
  {q:'Which equals <code>(a + b)\u00b2 \u2212 (a \u2212 b)\u00b2</code>?',correct:0,opts:['4ab','2a\u00b2','2b\u00b2','0'],fb:'Plug In a=2, b=3: 25\u22121=24. 4ab=24 \u2713.'},
];
let piAns={};
function ans_piEx(i,v){if(piAns[i]!==undefined)return;piAns[i]=v;buildExercise('piEx','\ud83d\udd0c Plug In Workshop','Variables in choices = Plug In time!',PI_QS,piAns);}
buildExercise('piEx','\ud83d\udd0c Plug In Workshop','Variables in choices = Plug In time!',PI_QS,piAns);

// ============================================================
// EXERCISE 3: BACKSOLVE (4 problems)
// ============================================================
const BS_QS=[
  {q:'If 2x + 5 = 17, what is x?',correct:2,opts:['4','5','6','7'],fb:'Try 6: 2(6)+5=17 \u2713.'},
  {q:'A number doubled and increased by 3 equals 19.',correct:2,opts:['6','7','8','9'],fb:'Try 8: 2(8)+3=19 \u2713.'},
  {q:'If x\u00b2 \u2212 5x + 6 = 0, what is a solution?',correct:1,opts:['1','2','4','6'],fb:'Try 2: 4\u221210+6=0 \u2713.'},
  {q:'Three consecutive integers sum to 42. The smallest is:',correct:1,opts:['12','13','14','15'],fb:'Try 13: 13+14+15=42 \u2713.'},
];
let bsAns={};
function ans_bsEx(i,v){if(bsAns[i]!==undefined)return;bsAns[i]=v;buildExercise('bsEx','\ud83d\udd04 Backsolve Workshop','Number answers = test them!',BS_QS,bsAns);}
buildExercise('bsEx','\ud83d\udd04 Backsolve Workshop','Number answers = test them!',BS_QS,bsAns);

// ============================================================
// EXERCISE 4: BALLPARK (6 problems)
// ============================================================
const BP_QS=[
  {q:'18% of 412 is approximately? Which is WRONG?',correct:3,opts:['70','74','80','7,416'],fb:'~20% of 400=80. 7,416 is absurd \u2014 that\u2019s 18 \u00d7 412, not 18%.'},
  {q:'Right triangle legs 5 and 12. Hypotenuse? WRONG answer:',correct:0,opts:['7','13','17','60'],fb:'Must be >12 but <17. 7 is impossible (less than one leg). Only 13 fits.'},
  {q:'Population triples every decade from 200. After 3 decades? WRONG:',correct:0,opts:['600','2,700','5,400','18,000'],fb:'200\u2192600\u21921,800\u21925,400. 600 is only one tripling.'},
  {q:'Square with area 50. Side length? WRONG answer:',correct:3,opts:['5','7.07','12.5','25'],fb:'\u221a50\u22487.07. 25 would give area 625.'},
  {q:'300 miles on 12 gallons. MPG? WRONG answer:',correct:0,opts:['3,600','25','36','20'],fb:'300\u00f712=25. 3,600 is miles \u00d7 gallons (wrong operation).'},
  {q:'30% discount on $89. Sale price? WRONG answer:',correct:0,opts:['$26.70','$59.30','$62.30','$65'],fb:'Pay 70% of $89\u2248$62. $26.70 is 30% of 89 (the discount amount, not the price).'},
];
let bpAns={};
function ans_bpEx(i,v){if(bpAns[i]!==undefined)return;bpAns[i]=v;buildExercise('bpEx','\ud83d\udccf Ballpark Eliminator','Click the OBVIOUSLY wrong answer.',BP_QS,bpAns);}
buildExercise('bpEx','\ud83d\udccf Ballpark Eliminator','Click the OBVIOUSLY wrong answer.',BP_QS,bpAns);

// ============================================================
// EXERCISE 5: GRID-IN TRAPS (6 scenarios)
// ============================================================
const GI_QS=[
  {q:'"Find 2x if 3x = 15." Student entered: 5',correct:1,opts:['Correct','Trap!'],fb:'x=5, but asked for 2x=10. Student answered x, not 2x!'},
  {q:'"What is 3/7 as a decimal?" Student entered: 0.428',correct:0,opts:['Correct','Trap!'],fb:'3/7=0.42857\u2026 Truncated to 0.428 is accepted. Could also enter 3/7.'},
  {q:'"How many solutions does x\u00b2 + 4 = 0 have?" Student entered: 2',correct:1,opts:['Correct','Trap!'],fb:'x\u00b2=\u22124 has NO real solutions. Answer: 0.'},
  {q:'"What is the y-intercept?" Student entered: (0, 5)',correct:1,opts:['Correct','Trap!'],fb:'Grid-in only accepts numbers, not coordinate pairs. Answer should be just 5.'},
  {q:'"Solve |x \u2212 3| = 7." Student entered: 10',correct:0,opts:['Correct','Trap!'],fb:'x=10 or x=\u22124. Grid-in accepts any correct value. 10 works.'},
  {q:'"Positive difference between roots of x\u00b2 \u2212 5x + 6 = 0." Student entered: 3',correct:1,opts:['Correct','Trap!'],fb:'Roots are 2 and 3. Difference=|3\u22122|=1, not 3. Student entered a root, not the difference.'},
];
let giAns={};
function ans_giEx(i,v){if(giAns[i]!==undefined)return;giAns[i]=v;buildExercise('giEx','\u26a0\ufe0f Grid-In Trap Detector','Correct or trap?',GI_QS,giAns);}
buildExercise('giEx','\u26a0\ufe0f Grid-In Trap Detector','Correct or trap?',GI_QS,giAns);

// ============================================================
// EXERCISE 6: PREVENTABLE MISTAKES (8 scenarios)
// ============================================================
const PM_QS=[
  {q:'"If 3x \u2212 7 = 20, what is the value of 6x \u2212 14?" Student solved for x, got x = 9, entered 9.',correct:1,opts:['Correct answer','Misread \u2014 asked for 6x\u221214'],fb:'6x\u221214 = 2(3x\u22127) = 2(20) = 40. No need to solve for x! The question asked for 6x\u221214, not x.'},
  {q:'Graph shows y-axis in thousands. Student reads a point as y = 45 instead of y = 45,000.',correct:1,opts:['Correct reading','Axis scale misread'],fb:'Always check axis labels and units. "In thousands" means multiply the value you read by 1,000.'},
  {q:'"At least 5 students" \u2014 student interpreted as "more than 5" (\u22656).',correct:1,opts:['Same meaning','At least = \u2265, not >'],fb:'"At least 5" means 5 or more (\u22655). "More than 5" means >5. This one-word difference changes the answer.'},
  {q:'Question says "which CANNOT be true." Student picked an answer that CAN be true.',correct:1,opts:['Correct approach','Missed the negation'],fb:'Circle/underline "CANNOT" or "NOT" or "EXCEPT" when you see them. These negation words flip the entire question.'},
  {q:'Price decreases from $80 to $60. Student calculates percent change using 60 as denominator.',correct:1,opts:['Correct calculation','Wrong denominator for % change'],fb:'Percent change = (new\u2212old)/OLD. Denominator is always the ORIGINAL value: (60\u221280)/80 = \u221225%.'},
  {q:'Question asks for x + y. Student solved for x correctly (x = 3) and entered 3.',correct:1,opts:['Complete answer','Answered x, not x + y'],fb:'The most common SAT trap: answering an intermediate step instead of what was actually asked. Always re-read the question.'},
  {q:'"f(x) = x\u00b2 \u2212 4x + 3. For what value of x is f(x) at its minimum?" Student entered f(2) = \u22121.',correct:1,opts:['Correct \u2014 gave the minimum','Asked for x, gave f(x)'],fb:'Question asks for the x-VALUE where minimum occurs (x=2), not the minimum VALUE itself (\u22121). Read carefully!'},
  {q:'Temperature drops 3\u00b0F per hour for 5 hours from 68\u00b0F. Student gets 83\u00b0F.',correct:1,opts:['Correct calculation','Added instead of subtracted'],fb:'"Drops" = subtract. 68 \u2212 15 = 53\u00b0F. Getting 83\u00b0F means you added. Watch for direction words: drops, decreases, loses.'},
];
let pmAns={};
function ans_pmEx(i,v){if(pmAns[i]!==undefined)return;pmAns[i]=v;buildExercise('pmEx','\ud83d\udd0d Catch the Mistake','Over 35% of SAT errors are preventable misreads. What went wrong?',PM_QS,pmAns);}
buildExercise('pmEx','\ud83d\udd0d Catch the Mistake','Over 35% of SAT errors are preventable misreads. What went wrong?',PM_QS,pmAns);

// ============================================================
// TIMED PRACTICE (10 questions with trap fields)
// ============================================================
const TRAP_NAMES={'wrong_variable':'\u26a0 Wrong Variable','intermediate_answer':'\u26a0 Intermediate Answer','at_least_vs_more':'\u26a0 At Least vs More Than','negation_miss':'\u26a0 Negation Miss','axis_scale':'\u26a0 Axis Scale','sign_context':'\u26a0 Sign Context','wrong_denominator':'\u26a0 Wrong Denominator','fx_vs_x':'\u26a0 f(x) vs x'};

const PST=[
  {t:1,tp:'7A',q:'If k is positive, <code>(k\u00b3 \u2212 k) / k</code> equals?',
   ch:['k\u00b2 \u2212 1','k\u00b2 \u2212 k','k \u2212 1','k\u00b3 \u2212 1'],c:0,
   fb:'<strong>Plug In k=2:</strong> (8\u22122)/2=3. k\u00b2\u22121=3 \u2713. Or simplify: k(k\u00b2\u22121)/k=k\u00b2\u22121.',
   trap:'wrong_variable',trapAnswer:1,trapDesc:'Picked k\u00b2\u2212k instead of k\u00b2\u22121 \u2014 forgot to cancel the k properly',label:'Plug In'},
  {t:1,tp:'7B',q:'4x \u2212 3 = 2x + 7. x = ?',
   ch:['2','3','4','5'],c:3,
   fb:'<strong>Backsolve D) x=5:</strong> 4(5)\u22123=17, 2(5)+7=17. \u2713 Equal!',
   trap:'intermediate_answer',trapAnswer:2,trapDesc:'Stopped at an intermediate step instead of finishing the calculation',label:'Backsolve'},
  {t:1,tp:'7C',q:'Circle radius 8. Area is closest to:',
   ch:['25.13','50.27','200.96','804.25'],c:2,
   fb:'<strong>Ballpark:</strong> \u03c0r\u00b2 \u2248 3.14 \u00d7 64 \u2248 200. Only C is close.',
   trap:'wrong_denominator',trapAnswer:1,trapDesc:'Used diameter formula instead of radius \u2014 mixed up 2\u03c0r and \u03c0r\u00b2',label:'Ballpark'},
  {t:1,tp:'7A',q:'For what value of x does 2<sup>x</sup> = 10?',
   ch:['3','3.32','5','10'],c:1,
   fb:'<strong>Desmos:</strong> Graph y=2^x and y=10. Intersection at x\u22483.32.',
   trap:'negation_miss',trapAnswer:0,trapDesc:'Rounded too aggressively \u2014 3 is close but not precise enough',label:'Desmos'},
  {t:2,tp:'7B',q:'Worker earns d dollars/hr, works h hrs/week. Monthly (4-week) earnings?',
   ch:['4dh','dh/4','d + 4h','4d + h'],c:0,
   fb:'<strong>Plug In d=10, h=20:</strong> Weekly=$200, Monthly=$800. 4dh=800 \u2713.',
   trap:'axis_scale',trapAnswer:1,trapDesc:'Divided instead of multiplied \u2014 confused weekly-to-monthly direction',label:'Plug In'},
  {t:2,tp:'7B',q:'Two consecutive even integers sum to 54. The smaller integer is:',
   ch:['24','26','28','30'],c:1,
   fb:'<strong>Backsolve B) 26:</strong> 26+28=54 \u2713.',
   trap:'sign_context',trapAnswer:2,trapDesc:'Picked the larger of the two consecutive evens instead of the smaller',label:'Backsolve'},
  {t:2,tp:'7A',q:'sin(x) = 0.5 crossings in [0, 2\u03c0]?',
   ch:['0','1','2','4'],c:2,
   fb:'<strong>Desmos:</strong> Graph y=sin(x) and y=0.5. Two intersections in [0, 2\u03c0].',
   trap:'at_least_vs_more',trapAnswer:1,trapDesc:'Only found one crossing (\u03c0/6) and missed the second (\u03c0\u2212\u03c0/6)',label:'Desmos'},
  {t:3,tp:'7C',q:'847 items \u00d7 $12.99. Revenue closest to:',
   ch:['$1,100','$8,500','$11,000','$110,000'],c:2,
   fb:'<strong>Ballpark:</strong> ~850\u00d7$13\u2248$11,050. Only C is close.',
   trap:'fx_vs_x',trapAnswer:1,trapDesc:'Estimated too low by dropping a digit \u2014 $8,500 is roughly 850\u00d710',label:'Ballpark'},
  {t:3,tp:'7D',q:'If 2x + 1 = 9, what is 4x + 2?',
   ch:['4','8','16','18'],c:3,
   fb:'<strong>Notice:</strong> 4x+2 = 2(2x+1) = 2(9) = 18. Don\u2019t solve for x first!',
   trap:'wrong_variable',trapAnswer:0,trapDesc:'Solved for x=4 and entered x instead of 4x+2',label:'Prevent'},
  {t:3,tp:'7D',q:'Price goes from $50 to $60. Percent increase?',
   ch:['10%','16.7%','20%','83.3%'],c:2,
   fb:'<strong>% change = (new\u2212old)/old \u00d7 100:</strong> (60\u221250)/50\u00d7100 = 20%. Trap: 10/60=16.7% uses wrong denominator.',
   trap:'wrong_denominator',trapAnswer:1,trapDesc:'Used 60 (new value) as denominator instead of 50 (original)',label:'Prevent'},
];

let pstA={},pstConf={},pstTime={},pstStartTime=null;
let timerEnabled=true,timerInterval=null,timerSeconds=0;
const SECS_PER_Q=95;let totalTimerSecs=PST.length*SECS_PER_Q;

function toggleTimer(){
  timerEnabled=!timerEnabled;const btn=document.getElementById('timerToggle');
  btn.textContent=timerEnabled?'\u23f1 Timer ON':'\u23f1 Timer OFF';btn.classList.toggle('active',timerEnabled);
  if(!timerEnabled&&timerInterval){clearInterval(timerInterval);timerInterval=null;document.getElementById('timerDisplay').textContent='--:--';document.getElementById('timerFill').style.width='100%';}
  else if(timerEnabled&&currentScreen===3){startTimer();}
}
function startTimer(){
  if(timerInterval)clearInterval(timerInterval);timerSeconds=totalTimerSecs;updateTimerDisplay();
  timerInterval=setInterval(()=>{timerSeconds--;updateTimerDisplay();if(timerSeconds<=0){clearInterval(timerInterval);timerInterval=null;}},1000);pstStartTime=Date.now();
}
function updateTimerDisplay(){
  const disp=document.getElementById('timerDisplay'),fill=document.getElementById('timerFill');
  const mins=Math.floor(timerSeconds/60),secs=timerSeconds%60;
  disp.textContent=`${mins}:${secs.toString().padStart(2,'0')}`;
  const pct=(timerSeconds/totalTimerSecs)*100;fill.style.width=pct+'%';
  disp.className='timer-display';fill.className='timer-fill';
  if(pct<15){disp.classList.add('danger');fill.classList.add('danger');}
  else if(pct<35){disp.classList.add('warning');fill.classList.add('warning');}
}

function renderPST(){
  const answered=Object.keys(pstA).length;
  document.getElementById('qDots').innerHTML=PST.map((_,i)=>{let cls='q-dot';if(pstA[i]!==undefined)cls+=pstA[i]===PST[i].c?' correct':' wrong';return `<div class="${cls}"></div>`;}).join('');
  document.getElementById('satPractice').innerHTML=PST.map((q,i)=>{
    const a=pstA[i],h=a!==undefined;const conf=pstConf[i];
    const tierLabel=q.t===1?'Easy':q.t===2?'Medium':'Hard';
    const trapName=q.trap?TRAP_NAMES[q.trap]||'':'';
    return `<div class="ex-item" style="border-color:${q.t===1?'var(--algebra)':q.t===2?'var(--math)':'var(--advanced)'}">
      <div style="margin-bottom:6px;display:flex;align-items:center;gap:8px;flex-wrap:wrap">
        <span class="tier tier-${q.t}">${tierLabel}</span><span style="font-size:.75rem;color:var(--strat);font-weight:700">${q.label}</span><span style="font-size:.72rem;color:var(--muted)">Topic ${q.tp}</span>
        ${trapName&&h?`<span style="font-size:.72rem;color:var(--accent)">Trap: ${trapName}</span>`:''}
      </div>
      <div class="ex-prompt">${q.q}</div>
      ${!h?`<div class="confidence-row">
        <div class="conf-tag ${conf==='guessing'?'selected':''}" data-conf="guessing" onclick="setConf(${i},'guessing')">Guessing</div>
        <div class="conf-tag ${conf==='unsure'?'selected':''}" data-conf="unsure" onclick="setConf(${i},'unsure')">Unsure</div>
        <div class="conf-tag ${conf==='confident'?'selected':''}" data-conf="confident" onclick="setConf(${i},'confident')">Confident</div>
      </div>`:`<div style="font-size:.72rem;color:var(--muted);margin-bottom:6px">Confidence: ${conf||'not tagged'}</div>`}
      <div class="mc-choices">${q.ch.map((ch,ci)=>{let c='mc-choice';if(h){c+=' mc-dis';if(ci===q.c)c+=' mc-correct';else if(ci===a)c+=' mc-wrong';}return `<div class="${c}" onclick="aPST(${i},${ci})"><div class="mc-letter">${'ABCD'[ci]}</div><div>${ch}</div></div>`;}).join('')}</div>
      <div class="mc-fb${h?' show':''}">${h?(a===q.c?'\u2713 Correct! ':'\u2717 Incorrect. ')+q.fb+(a!==q.c&&q.trapAnswer===a?'<br><span style="color:var(--psda)">\u26a0\ufe0f '+q.trapDesc+'</span>':''):''}</div>
    </div>`;
  }).join('');
  if(answered===PST.length){if(timerInterval){clearInterval(timerInterval);timerInterval=null;}document.getElementById('practiceNav').style.display='block';showPracticeResults();}
}
function setConf(i,level){if(pstA[i]!==undefined)return;pstConf[i]=level;renderPST();}
function aPST(i,v){if(pstA[i]!==undefined)return;pstA[i]=v;if(pstStartTime){pstTime[i]=Date.now()-pstStartTime;pstStartTime=Date.now();}renderPST();}

function showPracticeResults(){
  const total=PST.length,correct=Object.entries(pstA).filter(([i,v])=>v===PST[i].c).length;
  const byDiff={1:{cor:0,tot:0},2:{cor:0,tot:0},3:{cor:0,tot:0}};
  PST.forEach((q,i)=>{byDiff[q.t].tot++;if(pstA[i]===q.c)byDiff[q.t].cor++;});
  const matrix={};['guessing','unsure','confident'].forEach(c=>{matrix[c]={correct:[],wrong:[]};});
  PST.forEach((q,i)=>{const conf=pstConf[i]||'unsure';matrix[conf][pstA[i]===q.c?'correct':'wrong'].push(i);});
  const errors={content_gap:[],trap_answer:[],careless:[],calibration:[]};
  PST.forEach((q,i)=>{if(pstA[i]===q.c)return;const conf=pstConf[i]||'unsure';if(pstA[i]===q.trapAnswer)errors.trap_answer.push({i,desc:q.trapDesc,topic:q.tp});else errors.content_gap.push({i,topic:q.tp});if(conf==='confident'){if(q.t===1)errors.careless.push({i,topic:q.tp});errors.calibration.push({i,topic:q.tp});}});

  let html=`<div class="results-section"><h3>Practice Results: ${correct}/${total}</h3>
    <div style="margin-bottom:20px"><div style="font-size:.78rem;font-weight:700;text-transform:uppercase;letter-spacing:1px;color:var(--muted);margin-bottom:8px">By Difficulty</div>
    <div class="difficulty-bars">
      <div class="diff-row"><span class="diff-label" style="color:var(--algebra)">Easy</span><div class="diff-track"><div class="diff-fill" style="width:${byDiff[1].tot?byDiff[1].cor/byDiff[1].tot*100:0}%;background:var(--algebra)"></div></div><span class="diff-val" style="color:var(--algebra)">${byDiff[1].cor}/${byDiff[1].tot}</span></div>
      <div class="diff-row"><span class="diff-label" style="color:var(--math)">Medium</span><div class="diff-track"><div class="diff-fill" style="width:${byDiff[2].tot?byDiff[2].cor/byDiff[2].tot*100:0}%;background:var(--math)"></div></div><span class="diff-val" style="color:var(--math)">${byDiff[2].cor}/${byDiff[2].tot}</span></div>
      <div class="diff-row"><span class="diff-label" style="color:var(--advanced)">Hard</span><div class="diff-track"><div class="diff-fill" style="width:${byDiff[3].tot?byDiff[3].cor/byDiff[3].tot*100:0}%;background:var(--advanced)"></div></div><span class="diff-val" style="color:var(--advanced)">${byDiff[3].cor}/${byDiff[3].tot}</span></div>
    </div></div>`;
  html+=`<div style="margin-bottom:20px"><div style="font-size:.78rem;font-weight:700;text-transform:uppercase;letter-spacing:1px;color:var(--muted);margin-bottom:8px">Confidence \u00d7 Accuracy Matrix</div>
    <div class="results-grid">
      <div class="results-grid-header"></div><div class="results-grid-header">Guessing</div><div class="results-grid-header">Unsure</div><div class="results-grid-header">Confident</div>
      <div class="results-grid-header">\u2713 Correct</div>
      <div class="results-grid-cell"><div class="cell-label">Lucky</div><div class="cell-dots">${matrix.guessing.correct.map(()=>'<div class="cell-dot" style="background:var(--psda)"></div>').join('')}</div><div style="font-size:.7rem;color:var(--muted)">${matrix.guessing.correct.length}</div></div>
      <div class="results-grid-cell"><div class="cell-label">Developing</div><div class="cell-dots">${matrix.unsure.correct.map(()=>'<div class="cell-dot" style="background:var(--math)"></div>').join('')}</div><div style="font-size:.7rem;color:var(--muted)">${matrix.unsure.correct.length}</div></div>
      <div class="results-grid-cell"><div class="cell-label">Solid</div><div class="cell-dots">${matrix.confident.correct.map(()=>'<div class="cell-dot" style="background:var(--correct)"></div>').join('')}</div><div style="font-size:.7rem;color:var(--muted)">${matrix.confident.correct.length}</div></div>
      <div class="results-grid-header">\u2717 Wrong</div>
      <div class="results-grid-cell"><div class="cell-label">Expected</div><div class="cell-dots">${matrix.guessing.wrong.map(()=>'<div class="cell-dot" style="background:var(--muted)"></div>').join('')}</div><div style="font-size:.7rem;color:var(--muted)">${matrix.guessing.wrong.length}</div></div>
      <div class="results-grid-cell"><div class="cell-label">Needs work</div><div class="cell-dots">${matrix.unsure.wrong.map(()=>'<div class="cell-dot" style="background:var(--psda)"></div>').join('')}</div><div style="font-size:.7rem;color:var(--muted)">${matrix.unsure.wrong.length}</div></div>
      <div class="results-grid-cell danger-cell"><div class="cell-label" style="color:var(--wrong);font-weight:700">\u26a0\ufe0f DANGER</div><div class="cell-dots">${matrix.confident.wrong.map(()=>'<div class="cell-dot" style="background:var(--wrong)"></div>').join('')}</div><div style="font-size:.7rem;color:var(--muted)">${matrix.confident.wrong.length}</div></div>
    </div>
    ${matrix.confident.wrong.length>0?'<div class="callout" style="border-color:var(--wrong);background:var(--wrong-bg)"><strong style="color:var(--wrong)">Confident + Wrong</strong> is the most dangerous category. These errors persist because you won\'t self-correct what you think you already know.</div>':''}
  </div>`;
  const hasErrors=errors.trap_answer.length+errors.content_gap.length>0;
  if(hasErrors){
    html+=`<div style="margin-bottom:16px"><div style="font-size:.78rem;font-weight:700;text-transform:uppercase;letter-spacing:1px;color:var(--muted);margin-bottom:8px">Error Pattern Analysis</div>`;
    if(errors.trap_answer.length>0)html+=`<div class="error-category" style="background:rgba(251,191,36,.08);border:1px solid rgba(251,191,36,.3)"><div class="error-label" style="color:var(--psda)">Trap Answers (${errors.trap_answer.length})</div><div class="error-items">${errors.trap_answer.map(e=>e.desc).join(' \u00b7 ')}</div></div>`;
    if(errors.content_gap.length>0)html+=`<div class="error-category" style="background:rgba(239,68,68,.08);border:1px solid rgba(239,68,68,.3)"><div class="error-label" style="color:var(--wrong)">Content Gaps (${errors.content_gap.length})</div><div class="error-items">Topics: ${[...new Set(errors.content_gap.map(e=>e.topic))].join(', ')}</div></div>`;
    if(errors.careless.length>0)html+=`<div class="error-category" style="background:rgba(96,165,250,.08);border:1px solid rgba(96,165,250,.3)"><div class="error-label" style="color:var(--math)">Possible Careless Errors (${errors.careless.length})</div><div class="error-items">Confident + wrong on easy questions \u2014 likely arithmetic mistakes</div></div>`;
    if(errors.calibration.length>0)html+=`<div class="error-category" style="background:rgba(239,68,68,.08);border:1px solid rgba(239,68,68,.3)"><div class="error-label" style="color:var(--wrong)">Calibration Issues (${errors.calibration.length})</div><div class="error-items">You were confident but wrong \u2014 review these topics carefully</div></div>`;
    html+=`</div>`;
  }
  html+=`</div>`;
  document.getElementById('practiceResults').style.display='block';
  document.getElementById('practiceResults').innerHTML=html;
  document.getElementById('completePracticeStats').innerHTML=`
    <div style="background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:16px 20px;margin-bottom:24px;max-width:500px;width:100%;text-align:left">
      <div style="font-size:.78rem;font-weight:700;text-transform:uppercase;letter-spacing:1px;color:var(--muted);margin-bottom:8px">Practice Results</div>
      <div style="font-family:'JetBrains Mono',monospace;font-size:1.4rem;font-weight:700;color:var(--correct);margin-bottom:8px">${correct}/${total} correct</div>
      <div style="font-size:.82rem;color:var(--muted)">Easy: ${byDiff[1].cor}/${byDiff[1].tot} \u00b7 Medium: ${byDiff[2].cor}/${byDiff[2].tot} \u00b7 Hard: ${byDiff[3].cor}/${byDiff[3].tot}</div>
    </div>`;
}
renderPST();
</script>
<script src="/translate.js"></script>
</body>
</html>
