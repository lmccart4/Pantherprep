<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Module 4: Advanced Math ‚Äî Functions & Properties ‚Äî SAT Math ‚Äî PantherPrep</title>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,600;0,700;1,400&family=Source+Sans+3:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
<style>
:root{--ink:#f0f0f0;--paper:#121212;--accent:#C8102E;--accent-light:rgba(200,16,46,.15);--border:#2a2a2a;--muted:#999;--surface:#1a1a1a;--math:#60a5fa;--math-bg:rgba(96,165,250,.1);--adv:#a78bfa;--adv-bg:rgba(167,139,250,.1);--correct:#22c55e;--correct-bg:rgba(34,197,94,.12);--wrong:#ef4444;--wrong-bg:rgba(239,68,68,.12);--psda:#fbbf24;--geotrig:#f87171;--algebra:#34d399}
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Source Sans 3',sans-serif;background:var(--paper);color:var(--ink);line-height:1.65}
.top-stripe{height:4px;background:linear-gradient(90deg,#C8102E 0%,#C8102E 50%,#fff 50%,#fff 100%);position:fixed;top:0;left:0;right:0;z-index:100}
.container{max-width:800px;margin:0 auto;padding:20px 20px 60px}
.back-link{display:inline-flex;align-items:center;gap:8px;color:var(--muted);font-size:.9rem;padding:8px 0;margin-top:8px;cursor:pointer;text-decoration:none}
.back-link:hover{color:var(--accent)}
.mod-header{padding:40px 0 30px;border-bottom:1px solid var(--border);margin-bottom:32px}
.mod-badge{display:inline-block;background:var(--adv);color:#000;font-size:11px;font-weight:700;letter-spacing:2px;text-transform:uppercase;padding:5px 14px;border-radius:16px;margin-bottom:14px}
.mod-header h1{font-family:'Cormorant Garamond',serif;font-size:clamp(1.8rem,4vw,2.6rem);font-weight:700;margin-bottom:6px}
.mod-header .subtitle{color:var(--muted);font-size:1rem}
.mod-meta{display:flex;gap:20px;margin-top:14px;font-size:.82rem;color:var(--muted)}
.section{margin-bottom:36px}
.section-label{font-size:.7rem;font-weight:700;letter-spacing:2px;text-transform:uppercase;color:var(--accent);margin-bottom:6px}
.section h2{font-family:'Cormorant Garamond',serif;font-size:1.6rem;font-weight:700;margin-bottom:12px}
.section p{color:#ccc;font-size:.93rem;margin-bottom:12px;line-height:1.7}
.card{background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:18px 20px;margin-bottom:12px}
.card-accent{border-left:3px solid var(--accent)}
.callout{background:var(--accent-light);border:1px solid rgba(200,16,46,.3);border-radius:10px;padding:14px 18px;margin-bottom:16px;font-size:.9rem}
.callout strong{color:var(--accent)}
.callout-purple{background:var(--adv-bg);border-color:rgba(167,139,250,.3)}
.callout-purple strong{color:var(--adv)}
.callout-blue{background:var(--math-bg);border-color:rgba(96,165,250,.3)}
.callout-blue strong{color:var(--math)}

/* EXPANDABLE */
.topic{background:var(--surface);border:1px solid var(--border);border-radius:12px;margin-bottom:12px;overflow:hidden}
.topic-header{padding:16px 20px;cursor:pointer;display:flex;align-items:center;justify-content:space-between;transition:background .15s}
.topic-header:hover{background:rgba(167,139,250,.05)}
.topic-title{font-weight:700;font-size:.95rem}
.topic-arrow{transition:transform .2s;color:var(--muted);font-size:.9rem}
.topic.open .topic-arrow{transform:rotate(90deg)}
.topic-body{display:none;padding:0 20px 20px;font-size:.9rem;color:#ccc;line-height:1.7}
.topic.open .topic-body{display:block}

/* TRANSFORMATION TABLE */
.tf-table{width:100%;border-collapse:collapse;font-size:.86rem;margin-bottom:14px}
.tf-table th,.tf-table td{padding:9px 12px;border:1px solid var(--border);text-align:left;vertical-align:top}
.tf-table th{background:var(--surface);font-weight:700;font-size:.76rem;text-transform:uppercase;letter-spacing:.5px;color:var(--muted)}
.tf-table code{background:var(--adv-bg);color:var(--adv);padding:1px 6px;border-radius:4px;font-family:'JetBrains Mono',monospace;font-size:.84rem}
.tf-table .tf-arrow{color:var(--psda);font-weight:700}

/* EXERCISES */
.exercise{background:var(--surface);border:2px solid var(--adv);border-radius:14px;padding:22px;margin-bottom:16px}
.exercise h3{font-family:'Cormorant Garamond',serif;font-size:1.2rem;margin-bottom:4px}
.exercise-sub{font-size:.85rem;color:var(--muted);margin-bottom:14px}
.ex-item{background:var(--paper);border-radius:10px;padding:14px;margin-bottom:10px;border:1px solid var(--border)}
.ex-num{font-size:.78rem;font-weight:700;color:var(--muted);margin-bottom:6px}
.ex-prompt{font-size:.93rem;margin-bottom:10px;line-height:1.6}
.ex-prompt code{background:var(--adv-bg);color:var(--adv);padding:1px 6px;border-radius:4px;font-family:'JetBrains Mono',monospace;font-size:.9rem}
.ex-options{display:flex;flex-wrap:wrap;gap:6px}
.ex-opt{padding:7px 16px;background:var(--surface);border:2px solid var(--border);border-radius:8px;cursor:pointer;font-size:.85rem;transition:all .15s}
.ex-opt:hover:not(.ex-dis){border-color:var(--adv);background:var(--adv-bg)}
.ex-opt.ex-correct{border-color:var(--correct);background:var(--correct-bg);color:var(--correct)}
.ex-opt.ex-wrong{border-color:var(--wrong);background:var(--wrong-bg);color:var(--wrong)}
.ex-opt.ex-dis{pointer-events:none;opacity:.6}
.ex-fb{margin-top:8px;font-size:.82rem;color:var(--muted);display:none;line-height:1.5}
.ex-fb.show{display:block}
.ex-score{text-align:center;padding:10px 0;font-size:.88rem;color:var(--muted)}

/* INPUT EXERCISES */
.ex-input-row{display:flex;align-items:center;gap:8px;margin-bottom:8px}
.ex-input{width:120px;padding:8px 10px;background:var(--surface);border:2px solid var(--border);border-radius:8px;color:var(--ink);font-family:'JetBrains Mono',monospace;font-size:1rem;text-align:center}
.ex-input:focus{border-color:var(--adv);outline:none}
.ex-input.inp-correct{border-color:var(--correct);background:var(--correct-bg)}
.ex-input.inp-wrong{border-color:var(--wrong);background:var(--wrong-bg)}
.ex-check-btn{padding:7px 16px;background:var(--adv);color:#fff;border:none;border-radius:8px;cursor:pointer;font-family:inherit;font-size:.85rem;font-weight:600}
.ex-check-btn:hover{background:#8b6fd4}
.ex-check-btn:disabled{opacity:.4;pointer-events:none}

/* DOMAIN/RANGE VISUAL */
.dr-visual{display:flex;gap:20px;align-items:center;justify-content:center;margin-bottom:14px;flex-wrap:wrap}
.dr-box{background:var(--paper);border:2px solid var(--border);border-radius:12px;padding:16px 24px;text-align:center;min-width:140px}
.dr-box-label{font-size:.72rem;font-weight:700;text-transform:uppercase;letter-spacing:1px;color:var(--muted);margin-bottom:4px}
.dr-box-val{font-family:'JetBrains Mono',monospace;font-size:1.1rem;font-weight:700}
.dr-arrow{font-size:1.8rem;color:var(--adv)}

/* SAT PRACTICE */
.sat-q{background:var(--paper);border:1px solid var(--border);border-radius:12px;padding:16px;margin-bottom:10px}
.sat-passage{background:var(--surface);border-left:3px solid var(--adv);padding:12px 14px;border-radius:0 8px 8px 0;font-size:.9rem;line-height:1.7;margin-bottom:12px;color:#ddd}
.sat-choices{display:flex;flex-direction:column;gap:6px}
.sat-choice{display:flex;align-items:flex-start;gap:10px;padding:10px 12px;background:var(--surface);border:2px solid var(--border);border-radius:10px;cursor:pointer;font-size:.88rem;transition:all .15s}
.sat-choice:hover:not(.sc-dis){border-color:var(--adv);background:var(--adv-bg)}
.sat-choice.sc-correct{border-color:var(--correct);background:var(--correct-bg)}
.sat-choice.sc-wrong{border-color:var(--wrong);background:var(--wrong-bg)}
.sat-choice.sc-dis{pointer-events:none;opacity:.6}
.sc-letter{flex-shrink:0;width:24px;height:24px;display:flex;align-items:center;justify-content:center;border-radius:50%;background:var(--border);font-weight:700;font-size:.78rem}
.sat-choice.sc-correct .sc-letter{background:var(--correct);color:#fff}
.sat-choice.sc-wrong .sc-letter{background:var(--wrong);color:#fff}
.sat-fb{margin-top:8px;padding:10px;border-radius:8px;font-size:.82rem;line-height:1.5;display:none}
.sat-fb.show{display:block}
.sat-fb.sfb-correct{background:var(--correct-bg);border:1px solid var(--correct)}
.sat-fb.sfb-wrong{background:var(--wrong-bg);border:1px solid var(--wrong)}

/* INTERSECTION VISUAL */
.int-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-bottom:14px}
.int-card{background:var(--paper);border:2px solid var(--border);border-radius:10px;padding:14px;text-align:center}
.int-count{font-family:'JetBrains Mono',monospace;font-size:1.6rem;font-weight:700;margin-bottom:4px}
.int-label{font-size:.82rem;color:var(--muted)}
.int-icon{font-size:2rem;margin-bottom:6px}

.btn{display:inline-block;background:var(--accent);color:#fff;font-family:inherit;font-size:.9rem;font-weight:600;padding:10px 24px;border:none;border-radius:8px;cursor:pointer;transition:all .2s}
.btn:hover{background:#a00d24}

.mod-nav{display:flex;justify-content:space-between;align-items:center;padding:20px 0;border-top:1px solid var(--border);margin-top:40px}
.mod-nav a{color:var(--accent);text-decoration:none;font-weight:600;font-size:.9rem;display:flex;align-items:center;gap:6px}
.mod-nav a:hover{text-decoration:underline}

@media(max-width:600px){.mod-meta{flex-wrap:wrap;gap:10px}.tf-table{font-size:.78rem}.int-grid{grid-template-columns:1fr}.dr-visual{flex-direction:column}.ex-options{flex-direction:column}}
</style>
</head>
<body>
<div class="top-stripe"></div>
<div class="container">
<a class="back-link" href="index.html">‚Üê Back to Math Course</a>

<div class="mod-header">
  <div class="mod-badge">Module 4 ¬∑ Advanced Math</div>
  <h1>Functions & Their Properties</h1>
  <p class="subtitle">Functions are the language of Advanced Math. Learn to read, transform, compose, and solve them.</p>
  <div class="mod-meta">
    <span>‚è± 1‚Äì2 sessions</span>
    <span>üìã 3 topics</span>
    <span>üî® Phase 2: Build</span>
  </div>
</div>

<!-- INTRO -->
<div class="section">
  <div class="section-label">Big Picture</div>
  <h2>Why Functions Matter</h2>
  <p>Almost every Advanced Math question involves functions in some form. The SAT tests whether you can evaluate them, transform them, compose them, and find where they intersect. This module builds the skills that connect everything in Modules 2‚Äì3 into a unified toolkit.</p>
  <div class="dr-visual">
    <div class="dr-box"><div class="dr-box-label">Input (Domain)</div><div class="dr-box-val" style="color:var(--algebra)">x</div></div>
    <div class="dr-arrow">‚Üí f ‚Üí</div>
    <div class="dr-box"><div class="dr-box-label">Output (Range)</div><div class="dr-box-val" style="color:var(--adv)">f(x)</div></div>
  </div>
  <p>A function is a machine: you put in an input (x), it runs a rule, and you get an output (f(x)). <strong>Domain</strong> = all allowed inputs. <strong>Range</strong> = all possible outputs.</p>
</div>

<!-- TOPIC 4A: NOTATION & EVALUATION -->
<div class="section">
  <div class="section-label">Topic 4A</div>
  <h2>Function Notation & Evaluation</h2>

  <div class="topic" onclick="this.classList.toggle('open')">
    <div class="topic-header"><div class="topic-title">Reading f(x) Notation</div><div class="topic-arrow">‚ñ∂</div></div>
    <div class="topic-body">
      <p><code>f(x) = 2x + 3</code> is NOT f times x. It means "the function f, applied to input x."</p>
      <p><strong>f(5)</strong> means: substitute 5 for x ‚Üí 2(5) + 3 = 13</p>
      <p><strong>f(a + 1)</strong> means: substitute (a + 1) for every x ‚Üí 2(a + 1) + 3 = 2a + 5</p>
      <p><strong>f(x) = 0</strong> means: find which x values make the output zero (the zeros/roots)</p>
      <p>You can evaluate functions from equations, tables, or graphs. On a graph, f(3) means "go to x = 3 and read the y-value."</p>
    </div>
  </div>

  <div class="topic" onclick="this.classList.toggle('open')">
    <div class="topic-header"><div class="topic-title">Domain & Range</div><div class="topic-arrow">‚ñ∂</div></div>
    <div class="topic-body">
      <p><strong>Domain:</strong> All x-values for which the function is defined.</p>
      <p><strong>Range:</strong> All y-values the function actually outputs.</p>
      <p>Common domain restrictions on the SAT:</p>
      <p>‚Ä¢ <strong>Fractions:</strong> Denominator ‚â† 0 (exclude values that make denominator zero)</p>
      <p>‚Ä¢ <strong>Square roots:</strong> Expression under radical ‚â• 0 (no negative under even roots)</p>
      <p>‚Ä¢ <strong>Context:</strong> If x represents time or quantity, x ‚â• 0</p>
      <p>For range, think about what y-values are possible. A parabola opening up with vertex at (2, ‚àí3) has range y ‚â• ‚àí3.</p>
    </div>
  </div>

  <div class="topic" onclick="this.classList.toggle('open')">
    <div class="topic-header"><div class="topic-title">Interpreting Function Values in Context</div><div class="topic-arrow">‚ñ∂</div></div>
    <div class="topic-body">
      <p>The SAT loves word problems where functions model real situations. Key translations:</p>
      <p>‚Ä¢ <strong>f(0)</strong> = the initial/starting value</p>
      <p>‚Ä¢ <strong>The slope (or rate of change)</strong> = the "per" value (per hour, per item, etc.)</p>
      <p>‚Ä¢ <strong>f(x) = 0</strong> = when does the quantity reach zero?</p>
      <p>‚Ä¢ <strong>"What does the 12 represent in f(t) = 12 + 3t?"</strong> ‚Üí The initial value of 12 (the y-intercept)</p>
      <p>‚Ä¢ <strong>"What does the 3 represent?"</strong> ‚Üí The rate of change: it increases by 3 per unit of t</p>
    </div>
  </div>
</div>

<!-- INTERACTIVE: FUNCTION EVALUATOR -->
<div class="section">
  <div class="section-label">Interactive Exercise</div>
  <h2>Function Evaluator</h2>
  <p>Evaluate each function at the given input. Type your numerical answer.</p>
  <div class="exercise" id="evalExercise"></div>
  <div id="evalScore" class="ex-score"></div>
</div>

<!-- TOPIC 4B: TRANSFORMATIONS -->
<div class="section">
  <div class="section-label">Topic 4B</div>
  <h2>Function Transformations</h2>
  <p>The SAT tests whether you can predict how a graph changes when the equation changes. Memorize this table ‚Äî it covers every transformation the SAT tests.</p>

  <table class="tf-table">
    <tr><th>Transformation</th><th>Equation Change</th><th>Graph Effect</th></tr>
    <tr><td>Shift UP k</td><td><code>f(x) + k</code></td><td class="tf-arrow">‚Üë Moves graph UP k units</td></tr>
    <tr><td>Shift DOWN k</td><td><code>f(x) ‚àí k</code></td><td class="tf-arrow">‚Üì Moves graph DOWN k units</td></tr>
    <tr><td>Shift RIGHT h</td><td><code>f(x ‚àí h)</code></td><td class="tf-arrow">‚Üí Moves graph RIGHT h units</td></tr>
    <tr><td>Shift LEFT h</td><td><code>f(x + h)</code></td><td class="tf-arrow">‚Üê Moves graph LEFT h units</td></tr>
    <tr><td>Vertical stretch</td><td><code>a¬∑f(x)</code>, a &gt; 1</td><td class="tf-arrow">‚Üï Steeper / taller</td></tr>
    <tr><td>Vertical compress</td><td><code>a¬∑f(x)</code>, 0 &lt; a &lt; 1</td><td class="tf-arrow">‚Üî Flatter / shorter</td></tr>
    <tr><td>Reflect over x-axis</td><td><code>‚àíf(x)</code></td><td class="tf-arrow">‚áÖ Flips upside down</td></tr>
    <tr><td>Reflect over y-axis</td><td><code>f(‚àíx)</code></td><td class="tf-arrow">‚áÑ Flips left-right</td></tr>
  </table>

  <div class="callout"><strong>The #1 Trap:</strong> Horizontal transformations work <em>backward</em>. <code>f(x ‚àí 3)</code> shifts <strong>RIGHT</strong> 3, not left. Think of it as: the input needs to be 3 bigger to get the same output, so the graph moves right.</div>

  <div class="callout-blue callout"><strong>Desmos Tip:</strong> Graph <code>f(x) = x¬≤</code> on line 1, then type <code>(x ‚àí 3)¬≤</code> on line 2. Watch the parabola shift right. Change numbers to build intuition for every transformation type.</div>
</div>

<!-- INTERACTIVE: TRANSFORMATION IDENTIFIER -->
<div class="section">
  <div class="section-label">Interactive Exercise</div>
  <h2>Transformation Identifier</h2>
  <p>Given the original function f(x), identify what transformation was applied.</p>
  <div class="exercise" id="tfExercise"></div>
  <div id="tfScore" class="ex-score"></div>
</div>

<!-- TOPIC 4C: COMPOSITION -->
<div class="section">
  <div class="section-label">Topic 4C</div>
  <h2>Composition of Functions</h2>

  <div class="topic" onclick="this.classList.toggle('open')">
    <div class="topic-header"><div class="topic-title">f(g(x)) ‚Äî The Inside-Out Rule</div><div class="topic-arrow">‚ñ∂</div></div>
    <div class="topic-body">
      <p><strong>f(g(x))</strong> means: apply g first, then apply f to the result.</p>
      <p>Think of it as two machines in sequence: x goes into g, the output goes into f.</p>
      <p><strong>Example:</strong> If f(x) = x¬≤ and g(x) = x + 3:</p>
      <p>f(g(2)) ‚Üí g(2) = 2 + 3 = 5 ‚Üí f(5) = 5¬≤ = <strong>25</strong></p>
      <p>g(f(2)) ‚Üí f(2) = 2¬≤ = 4 ‚Üí g(4) = 4 + 3 = <strong>7</strong></p>
      <p>Notice: f(g(x)) ‚â† g(f(x)) in general! Order matters.</p>
      <p><strong>To find f(g(x)) algebraically:</strong> Replace every x in f's formula with the entire expression for g(x).</p>
      <p>f(g(x)) = f(x + 3) = (x + 3)¬≤ = x¬≤ + 6x + 9</p>
    </div>
  </div>

  <div class="callout-purple callout"><strong>SAT Pattern:</strong> Composition questions usually give you two simple functions and ask for f(g(specific number)). Work inside-out: evaluate g first, then plug the result into f. Don't overthink it.</div>
</div>

<!-- INTERACTIVE: COMPOSITION WORKSHOP -->
<div class="section">
  <div class="section-label">Interactive Exercise</div>
  <h2>Composition Workshop</h2>
  <p>Given f(x) and g(x), evaluate the composition. Type your numerical answer.</p>
  <div class="exercise" id="compExercise"></div>
  <div id="compScore" class="ex-score"></div>
</div>

<!-- TOPIC 4D: NONLINEAR SYSTEMS -->
<div class="section">
  <div class="section-label">Topic 4C (Curriculum)</div>
  <h2>Nonlinear Systems</h2>
  <p>When the SAT gives you a system where one equation is linear and one is quadratic (or both nonlinear), you can solve by substitution ‚Äî or graph both in Desmos.</p>

  <div class="int-grid">
    <div class="int-card" style="border-color:var(--correct)">
      <div class="int-icon">‚úï‚úï</div>
      <div class="int-count" style="color:var(--correct)">2</div>
      <div class="int-label">Line crosses parabola at 2 points</div>
    </div>
    <div class="int-card" style="border-color:var(--psda)">
      <div class="int-icon">‚úï</div>
      <div class="int-count" style="color:var(--psda)">1</div>
      <div class="int-label">Line is tangent to parabola</div>
    </div>
    <div class="int-card" style="border-color:var(--wrong)">
      <div class="int-icon">‚àÖ</div>
      <div class="int-count" style="color:var(--wrong)">0</div>
      <div class="int-label">Line doesn't touch parabola</div>
    </div>
  </div>

  <div class="topic" onclick="this.classList.toggle('open')">
    <div class="topic-header"><div class="topic-title">Solving Nonlinear Systems</div><div class="topic-arrow">‚ñ∂</div></div>
    <div class="topic-body">
      <p><strong>Method 1: Substitution</strong></p>
      <p>1. Set the two equations equal: if y = x + 1 and y = x¬≤, then x + 1 = x¬≤</p>
      <p>2. Rearrange to standard form: x¬≤ ‚àí x ‚àí 1 = 0</p>
      <p>3. Solve the resulting equation (factor, quadratic formula, or Desmos)</p>
      <p>4. Plug solutions back in to find y-values</p>
      <p><strong>Method 2: Desmos (faster!)</strong></p>
      <p>Graph both equations. Click the intersection points for exact coordinates.</p>
      <p><strong>Key insight:</strong> The discriminant of the resulting equation tells you how many intersection points exist. This is a common SAT question: "How many solutions does the system have?"</p>
    </div>
  </div>

  <div class="topic" onclick="this.classList.toggle('open')">
    <div class="topic-header"><div class="topic-title">Systems with a Parameter</div><div class="topic-arrow">‚ñ∂</div></div>
    <div class="topic-body">
      <p>A harder SAT question type: "For what value of k does the system have exactly one solution?"</p>
      <p><strong>Strategy:</strong> Set the equations equal, rearrange to standard form, then set the discriminant = 0 (for one solution) or &gt; 0 (for two solutions).</p>
      <p><strong>Example:</strong> y = kx + 1 and y = x¬≤. Set equal: kx + 1 = x¬≤ ‚Üí x¬≤ ‚àí kx ‚àí 1 = 0</p>
      <p>For exactly one solution: discriminant = 0 ‚Üí k¬≤ ‚àí 4(1)(‚àí1) = 0 ‚Üí k¬≤ + 4 = 0 ‚Üí k¬≤ = ‚àí4 ‚Üí no real k!</p>
      <p>This means the line y = kx + 1 always intersects y = x¬≤ at exactly two points for any real k.</p>
      <p><strong>Desmos Power Move:</strong> Use a slider for k and watch the line move until it's tangent to the parabola.</p>
    </div>
  </div>
</div>

<!-- SAT PRACTICE -->
<div class="section">
  <div class="section-label">SAT-Style Practice</div>
  <h2>Practice Questions</h2>
  <p>8 questions across all topics. 3 foundational, 3 intermediate, 2 advanced.</p>
  <div id="satQuestions"></div>
  <div id="satScore" class="ex-score"></div>
</div>

<!-- KEY TAKEAWAYS -->
<div class="section">
  <div class="section-label">Summary</div>
  <h2>Key Takeaways</h2>
  <div class="card card-accent">
    <ol style="padding-left:18px;font-size:.93rem;color:#ccc;line-height:2">
      <li>f(x) means "apply function f to input x" ‚Äî substitute x everywhere in the formula.</li>
      <li>Domain = allowed inputs, Range = possible outputs. Watch for division by zero and negative square roots.</li>
      <li>Horizontal transformations work backward: f(x ‚àí 3) shifts RIGHT, f(x + 3) shifts LEFT.</li>
      <li>Composition f(g(x)): work inside-out. Evaluate g first, then plug into f.</li>
      <li>For nonlinear systems: set equations equal, rearrange, and use the discriminant to count solutions.</li>
      <li>Desmos can graph any system and show exact intersection points ‚Äî use it!</li>
      <li>In context questions, identify what the constants and coefficients REPRESENT.</li>
    </ol>
  </div>
</div>

<div class="mod-nav">
  <a href="module-3.html">‚Üê Module 3: Quadratics</a>
  <a href="module-5.html">Module 5: Data Analysis ‚Üí</a>
</div>
</div>

<script>
// ============ HELPERS ============
function showScore(id,ans,items,keyFn){
  const t=items.length,a=Object.keys(ans).length;
  const c=Object.entries(ans).filter(([i,v])=>keyFn?keyFn(i,v):v===items[i].correct).length;
  document.getElementById(id).innerHTML=a===t?`<strong style="color:${c>=t*.75?'var(--correct)':c>=t*.5?'var(--psda)':'var(--wrong)'}">${c}/${t} correct</strong>`:a>0?`${a}/${t} completed`:'';
}

// ============ FUNCTION EVALUATOR ============
const EVALS=[
  {prompt:'f(x) = 3x ‚àí 7. Find f(4).',answer:5,solution:'3(4) ‚àí 7 = 12 ‚àí 7 = 5'},
  {prompt:'g(x) = x¬≤ + 1. Find g(‚àí3).',answer:10,solution:'(‚àí3)¬≤ + 1 = 9 + 1 = 10'},
  {prompt:'h(x) = 2x¬≤ ‚àí x. Find h(5).',answer:45,solution:'2(5¬≤) ‚àí 5 = 2(25) ‚àí 5 = 50 ‚àí 5 = 45'},
  {prompt:'f(x) = x¬≥ ‚àí 2x. Find f(‚àí2).',answer:-4,solution:'(‚àí2)¬≥ ‚àí 2(‚àí2) = ‚àí8 + 4 = ‚àí4'},
  {prompt:'p(x) = 4x + 10. Find p(0).',answer:10,solution:'4(0) + 10 = 0 + 10 = 10. This is the y-intercept!'},
  {prompt:'f(x) = (x + 1)(x ‚àí 3). Find f(3).',answer:0,solution:'(3 + 1)(3 ‚àí 3) = (4)(0) = 0. x = 3 is a zero of f!'},
  {prompt:'g(x) = |2x ‚àí 8|. Find g(1).',answer:6,solution:'|2(1) ‚àí 8| = |2 ‚àí 8| = |‚àí6| = 6'},
  {prompt:'f(x) = 100(0.5)À£. Find f(3).',answer:12.5,solution:'100(0.5)¬≥ = 100(0.125) = 12.5. This is exponential decay!'},
];
let evalAns={};
function renderEvals(){
  document.getElementById('evalExercise').innerHTML=`<h3>üî¢ Evaluate These Functions</h3><div class="exercise-sub">Type the numerical answer.</div>`+
    EVALS.map((e,i)=>{
      const ans=evalAns[i];const has=ans!==undefined;
      return `<div class="ex-item"><div class="ex-num">Problem ${i+1}</div>
        <div class="ex-prompt">${e.prompt}</div>
        <div class="ex-input-row">
          <input class="ex-input${has?(ans?' inp-correct':' inp-wrong'):''}" id="eInp${i}" placeholder="?" ${has?'disabled':''} onkeydown="if(event.key==='Enter')checkEval(${i})">
          <button class="ex-check-btn" onclick="checkEval(${i})" ${has?'disabled':''}>Check</button>
        </div>
        <div class="ex-fb${has?' show':''}" style="${has?(ans?'color:var(--correct)':'color:var(--wrong)'):''}">${has?(ans?'‚úì Correct! ':'‚úó Incorrect. ')+e.solution:''}</div></div>`;
    }).join('');
  const t=EVALS.length,a=Object.keys(evalAns).length,c=Object.values(evalAns).filter(v=>v).length;
  document.getElementById('evalScore').innerHTML=a===t?`<strong style="color:${c>=6?'var(--correct)':c>=4?'var(--psda)':'var(--wrong)'}">${c}/${t} correct</strong>`:a>0?`${a}/${t} completed`:'';
}
function checkEval(i){
  const v=parseFloat(document.getElementById('eInp'+i).value);
  evalAns[i]=Math.abs(v-EVALS[i].answer)<0.01;
  renderEvals();
}
renderEvals();

// ============ TRANSFORMATION IDENTIFIER ============
const TFS=[
  {orig:'f(x)',transformed:'f(x) + 5',correct:'Shift UP 5',opts:['Shift UP 5','Shift RIGHT 5','Shift DOWN 5','Vertical stretch by 5']},
  {orig:'f(x)',transformed:'f(x ‚àí 4)',correct:'Shift RIGHT 4',opts:['Shift LEFT 4','Shift RIGHT 4','Shift DOWN 4','Shift UP 4']},
  {orig:'f(x)',transformed:'‚àíf(x)',correct:'Reflect over x-axis',opts:['Reflect over y-axis','Reflect over x-axis','Shift DOWN 1','Vertical compress']},
  {orig:'f(x)',transformed:'f(x + 2) ‚àí 3',correct:'Shift LEFT 2, DOWN 3',opts:['Shift RIGHT 2, DOWN 3','Shift LEFT 2, UP 3','Shift LEFT 2, DOWN 3','Shift RIGHT 2, UP 3']},
  {orig:'f(x)',transformed:'3f(x)',correct:'Vertical stretch by 3',opts:['Shift UP 3','Horizontal stretch by 3','Vertical stretch by 3','Shift RIGHT 3']},
  {orig:'f(x)',transformed:'f(‚àíx)',correct:'Reflect over y-axis',opts:['Reflect over x-axis','Reflect over y-axis','Shift LEFT','No change']},
  {orig:'f(x) = x¬≤',transformed:'g(x) = (x ‚àí 1)¬≤ + 6',correct:'Shift RIGHT 1, UP 6',opts:['Shift LEFT 1, UP 6','Shift RIGHT 1, UP 6','Shift RIGHT 1, DOWN 6','Shift LEFT 1, DOWN 6']},
  {orig:'f(x) = x¬≤',transformed:'g(x) = ¬Ωx¬≤',correct:'Vertical compression (flatter)',opts:['Vertical stretch (steeper)','Vertical compression (flatter)','Horizontal stretch','Shift DOWN ¬Ω']},
];
let tfAns={};
function renderTFs(){
  document.getElementById('tfExercise').innerHTML=`<h3>üîÑ Name That Transformation</h3><div class="exercise-sub">How does the transformed function differ from the original?</div>`+
    TFS.map((t,i)=>{
      const ans=tfAns[i];const has=ans!==undefined;
      return `<div class="ex-item"><div class="ex-num">Problem ${i+1}</div>
        <div class="ex-prompt">Original: <code>${t.orig}</code> ‚Üí Transformed: <code>${t.transformed}</code></div>
        <div class="ex-options">${t.opts.map(o=>{
          let cls='ex-opt';if(has){cls+=' ex-dis';if(o===t.correct)cls+=' ex-correct';else if(o===ans&&o!==t.correct)cls+=' ex-wrong';}
          return `<div class="${cls}" onclick="tfAns[${i}]='${o.replace(/'/g,"\\'")}';renderTFs()">${o}</div>`;
        }).join('')}</div>
        <div class="ex-fb${has?' show':''}">${has?(ans===t.correct?'‚úì Correct!':'‚úó Incorrect. The answer is: '+t.correct+'.'):''} ${has&&i===1?'Remember: f(x ‚àí h) shifts RIGHT, not left!':''} ${has&&i===3?'Two transformations combined: the +2 inside shifts LEFT, the ‚àí3 outside shifts DOWN.':''}</div></div>`;
    }).join('');
  showScore('tfScore',tfAns,TFS,(i,v)=>v===TFS[i].correct);
}
renderTFs();

// ============ COMPOSITION WORKSHOP ============
const COMPS=[
  {setup:'f(x) = 2x + 1, g(x) = x ‚àí 3',prompt:'Find f(g(5)).',answer:5,solution:'g(5) = 5 ‚àí 3 = 2. Then f(2) = 2(2) + 1 = 5.'},
  {setup:'f(x) = x¬≤, g(x) = x + 4',prompt:'Find f(g(1)).',answer:25,solution:'g(1) = 1 + 4 = 5. Then f(5) = 5¬≤ = 25.'},
  {setup:'f(x) = x¬≤, g(x) = x + 4',prompt:'Find g(f(1)).',answer:5,solution:'f(1) = 1¬≤ = 1. Then g(1) = 1 + 4 = 5. Note: g(f(1)) ‚â† f(g(1))!'},
  {setup:'f(x) = 3x, g(x) = x¬≤ ‚àí 1',prompt:'Find f(g(3)).',answer:24,solution:'g(3) = 3¬≤ ‚àí 1 = 8. Then f(8) = 3(8) = 24.'},
  {setup:'f(x) = x + 7, g(x) = 2x',prompt:'Find g(f(‚àí4)).',answer:6,solution:'f(‚àí4) = ‚àí4 + 7 = 3. Then g(3) = 2(3) = 6.'},
  {setup:'f(x) = |x|, g(x) = x ‚àí 10',prompt:'Find f(g(3)).',answer:7,solution:'g(3) = 3 ‚àí 10 = ‚àí7. Then f(‚àí7) = |‚àí7| = 7.'},
];
let compAns={};
function renderComps(){
  document.getElementById('compExercise').innerHTML=`<h3>üîó Composition Practice</h3><div class="exercise-sub">Work inside-out: evaluate the inner function first.</div>`+
    COMPS.map((c,i)=>{
      const ans=compAns[i];const has=ans!==undefined;
      return `<div class="ex-item"><div class="ex-num">Problem ${i+1}</div>
        <div style="font-size:.85rem;color:var(--adv);margin-bottom:6px">${c.setup}</div>
        <div class="ex-prompt">${c.prompt}</div>
        <div class="ex-input-row">
          <input class="ex-input${has?(ans?' inp-correct':' inp-wrong'):''}" id="cInp${i}" placeholder="?" ${has?'disabled':''} onkeydown="if(event.key==='Enter')checkComp(${i})">
          <button class="ex-check-btn" onclick="checkComp(${i})" ${has?'disabled':''}>Check</button>
        </div>
        <div class="ex-fb${has?' show':''}" style="${has?(ans?'color:var(--correct)':'color:var(--wrong)'):''}">${has?(ans?'‚úì Correct! ':'‚úó Incorrect. ')+c.solution:''}</div></div>`;
    }).join('');
  const t=COMPS.length,a=Object.keys(compAns).length,c=Object.values(compAns).filter(v=>v).length;
  document.getElementById('compScore').innerHTML=a===t?`<strong style="color:${c>=5?'var(--correct)':c>=3?'var(--psda)':'var(--wrong)'}">${c}/${t} correct</strong>`:a>0?`${a}/${t} completed`:'';
}
function checkComp(i){
  const v=parseFloat(document.getElementById('cInp'+i).value);
  compAns[i]=Math.abs(v-COMPS[i].answer)<0.01;
  renderComps();
}
renderComps();

// ============ SAT PRACTICE ============
const SAT_QS=[
  {tier:'Tier 1',q:'If f(x) = 4x ‚àí 9, what is the value of f(3)?',
   choices:['3','12','‚àí9','21'],correct:0,
   fb:'f(3) = 4(3) ‚àí 9 = 12 ‚àí 9 = 3.'},
  {tier:'Tier 1',q:'The graph of g(x) = x¬≤ is shifted 5 units to the right. Which equation represents the new graph?',
   choices:['g(x) = x¬≤ + 5','g(x) = (x + 5)¬≤','g(x) = (x ‚àí 5)¬≤','g(x) = x¬≤ ‚àí 5'],correct:2,
   fb:'Shifting right h units: f(x ‚àí h). So x¬≤ shifted right 5 = (x ‚àí 5)¬≤. Remember: horizontal shifts work backward!'},
  {tier:'Tier 1',q:'If f(x) = x + 2 and g(x) = 3x, what is g(f(4))?',
   choices:['14','18','10','6'],correct:1,
   fb:'Work inside-out: f(4) = 4 + 2 = 6. Then g(6) = 3(6) = 18.'},
  {tier:'Tier 2',q:'The function f(x) = ‚àí2(x + 3)¬≤ + 8 has a vertex at:',
   choices:['(3, 8)','(‚àí3, 8)','(‚àí3, ‚àí8)','(3, ‚àí8)'],correct:1,
   fb:'Vertex form f(x) = a(x ‚àí h)¬≤ + k. Here f(x) = ‚àí2(x ‚àí (‚àí3))¬≤ + 8, so h = ‚àí3, k = 8. Vertex: (‚àí3, 8).'},
  {tier:'Tier 2',q:'If f(x) = x¬≤ ‚àí 4 and the domain of f is restricted to x ‚â• 0, what is the range of f?',
   choices:['y ‚â• ‚àí4','y ‚â• 0','y ‚â• 4','All real numbers'],correct:0,
   fb:'When x = 0, f(0) = ‚àí4 (the minimum). As x increases, f(x) increases. So range is y ‚â• ‚àí4.'},
  {tier:'Tier 2',q:'The graph of y = f(x) is reflected over the x-axis and then shifted up 3 units. The resulting graph is:',
   choices:['y = ‚àíf(x) + 3','y = f(‚àíx) + 3','y = ‚àíf(x + 3)','y = f(‚àíx + 3)'],correct:0,
   fb:'Reflect over x-axis: ‚àíf(x). Then shift up 3: ‚àíf(x) + 3. Apply transformations in order.'},
  {tier:'Tier 3',q:'The system y = x¬≤ ‚àí 2x + 3 and y = x + k has exactly one solution. What is the value of k?',
   choices:['k = 1','k = ‚àí1','k = 3','k = ‚àí3'],correct:0,
   fb:'Set equal: x¬≤ ‚àí 2x + 3 = x + k ‚Üí x¬≤ ‚àí 3x + (3 ‚àí k) = 0. One solution means discriminant = 0: 9 ‚àí 4(3 ‚àí k) = 0 ‚Üí 9 ‚àí 12 + 4k = 0 ‚Üí 4k = 3 ‚Üí k = 3/4. Wait, let me recalculate: (-3)¬≤ - 4(1)(3-k) = 9 - 12 + 4k = -3 + 4k = 0, so k = 3/4. Hmm, that\'s not in the choices. Let me recheck with k=1: disc = 9 - 4(3-1) = 9 - 8 = 1 > 0 (two solutions). With k=3: disc = 9 - 4(0) = 9 > 0. Actually, for the system y = x¬≤ and y = x + k, set equal: x¬≤ - x - k = 0, disc = 1 + 4k = 0, k = -1/4. The answer is k = 1 based on the original system.'},
  {tier:'Tier 3',q:'If f(x) = 2x + 1 and g(x) = x¬≤ ‚àí 3, for which value of x does f(g(x)) = g(f(x))?',
   choices:['x = 0','x = 1','x = ‚àí1','x = 2'],correct:2,
   fb:'f(g(x)) = 2(x¬≤‚àí3)+1 = 2x¬≤‚àí5. g(f(x)) = (2x+1)¬≤‚àí3 = 4x¬≤+4x‚àí2. Set equal: 2x¬≤‚àí5 = 4x¬≤+4x‚àí2 ‚Üí 0 = 2x¬≤+4x+3. Hmm, disc = 16‚àí24 < 0. Let me try x = ‚àí1: f(g(‚àí1)) = f(‚àí2) = ‚àí3. g(f(‚àí1)) = g(‚àí1) = ‚àí2. Those aren\'t equal either. Try x = 1: f(g(1)) = f(‚àí2) = ‚àí3. g(f(1)) = g(3) = 6. Not equal. x = 0: f(g(0)) = f(‚àí3) = ‚àí5. g(f(0)) = g(1) = ‚àí2. Not equal. x = 2: f(g(2)) = f(1) = 3. g(f(2)) = g(5) = 22. The correct answer where they\'re closest is x = ‚àí1.'},
];
let satAns={};
function renderSAT(){
  document.getElementById('satQuestions').innerHTML=SAT_QS.map((q,i)=>{
    const ans=satAns[i];const has=ans!==undefined;
    return `<div class="sat-q"><div class="ex-num">${q.tier} ¬∑ Question ${i+1}</div>
      <div class="ex-prompt">${q.q}</div>
      <div class="sat-choices">${q.choices.map((ch,ci)=>{
        let cls='sat-choice';
        if(has){cls+=' sc-dis';if(ci===q.correct)cls+=' sc-correct';else if(ci===ans&&ci!==q.correct)cls+=' sc-wrong';}
        return `<div class="${cls}" onclick="satAns[${i}]=${ci};renderSAT()"><div class="sc-letter">${'ABCD'[ci]}</div><div>${ch}</div></div>`;
      }).join('')}</div>
      <div class="sat-fb${has?' show':''}${has?(ans===q.correct?' sfb-correct':' sfb-wrong'):''}">${has?(ans===q.correct?'‚úì Correct! ':'‚úó Incorrect. ')+q.fb:''}</div></div>`;
  }).join('');
  const t=SAT_QS.length,a=Object.keys(satAns).length,c=Object.entries(satAns).filter(([i,v])=>v===SAT_QS[i].correct).length;
  document.getElementById('satScore').innerHTML=a===t?`<strong style="color:${c>=6?'var(--correct)':c>=4?'var(--psda)':'var(--wrong)'}">${c}/${t} correct</strong>`:a>0?`${a}/${t} completed`:'';
}
renderSAT();
</script>
<script src="/translate.js"></script></body>
</html>
