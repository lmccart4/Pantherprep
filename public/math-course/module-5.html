<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Module 5: Problem-Solving & Data Analysis ‚Äî SAT Math ‚Äî PantherPrep</title>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,600;0,700;1,400&family=Source+Sans+3:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
<style>
:root{--ink:#f0f0f0;--paper:#121212;--accent:#C8102E;--accent-light:rgba(200,16,46,.15);--border:#2a2a2a;--muted:#999;--surface:#1a1a1a;--math:#60a5fa;--math-bg:rgba(96,165,250,.1);--psda:#fbbf24;--psda-bg:rgba(251,191,36,.1);--correct:#22c55e;--correct-bg:rgba(34,197,94,.12);--wrong:#ef4444;--wrong-bg:rgba(239,68,68,.12);--adv:#a78bfa;--geotrig:#f87171;--algebra:#34d399}
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Source Sans 3',sans-serif;background:var(--paper);color:var(--ink);line-height:1.65}
.top-stripe{height:4px;background:linear-gradient(90deg,#C8102E 0%,#C8102E 50%,#fff 50%,#fff 100%);position:fixed;top:0;left:0;right:0;z-index:100}
.progress-bar{position:fixed;top:4px;left:0;right:0;height:3px;background:var(--border);z-index:99}
.progress-fill{height:100%;background:linear-gradient(90deg,var(--accent),var(--psda));width:0%;transition:width .3s ease}
.container{max-width:800px;margin:0 auto;padding:20px 20px 60px}
.back-link{display:inline-flex;align-items:center;gap:8px;color:var(--muted);font-size:.9rem;padding:8px 0;margin-top:8px;cursor:pointer;text-decoration:none}.back-link:hover{color:var(--accent)}
.mod-header{padding:40px 0 30px;border-bottom:1px solid var(--border);margin-bottom:32px}
.mod-badge{display:inline-block;background:var(--psda);color:#000;font-size:11px;font-weight:700;letter-spacing:2px;text-transform:uppercase;padding:5px 14px;border-radius:16px;margin-bottom:14px}
.mod-header h1{font-family:'Cormorant Garamond',serif;font-size:clamp(1.8rem,4vw,2.6rem);font-weight:700;margin-bottom:6px}
.mod-header .subtitle{color:var(--muted);font-size:1rem}
.mod-meta{display:flex;gap:20px;margin-top:14px;font-size:.82rem;color:var(--muted)}
.section{margin-bottom:36px}.section-label{font-size:.7rem;font-weight:700;letter-spacing:2px;text-transform:uppercase;color:var(--accent);margin-bottom:6px}
.section h2{font-family:'Cormorant Garamond',serif;font-size:1.6rem;font-weight:700;margin-bottom:12px}
.section p{color:#ccc;font-size:.93rem;margin-bottom:12px;line-height:1.7}
.card{background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:18px 20px;margin-bottom:12px}.card-accent{border-left:3px solid var(--accent)}
.callout{background:var(--accent-light);border:1px solid rgba(200,16,46,.3);border-radius:10px;padding:14px 18px;margin-bottom:16px;font-size:.9rem}.callout strong{color:var(--accent)}
.callout-yellow{background:var(--psda-bg);border-color:rgba(251,191,36,.3)}.callout-yellow strong{color:var(--psda)}
.callout-blue{background:var(--math-bg);border-color:rgba(96,165,250,.3)}.callout-blue strong{color:var(--math)}
.topic{background:var(--surface);border:1px solid var(--border);border-radius:12px;margin-bottom:12px;overflow:hidden}
.topic-header{padding:16px 20px;cursor:pointer;display:flex;align-items:center;justify-content:space-between;transition:background .15s}.topic-header:hover{background:rgba(251,191,36,.05)}
.topic-title{font-weight:700;font-size:.95rem}.topic-arrow{transition:transform .2s;color:var(--muted);font-size:.9rem}
.topic.open .topic-arrow{transform:rotate(90deg)}.topic-body{display:none;padding:0 20px 20px;font-size:.9rem;color:#ccc;line-height:1.7}.topic.open .topic-body{display:block}
.fm-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:10px;margin-bottom:14px}
.fm-card{background:var(--paper);border:2px solid var(--border);border-radius:10px;padding:12px;text-align:center}.fm-card:hover{border-color:var(--psda)}
.fm-name{font-size:.8rem;color:var(--muted);margin-bottom:4px}.fm-eq{font-family:'JetBrains Mono',monospace;font-size:.92rem;color:var(--psda);font-weight:700}
.data-table{width:100%;border-collapse:collapse;font-size:.86rem;margin-bottom:14px}
.data-table th,.data-table td{padding:8px 10px;border:1px solid var(--border);text-align:center}
.data-table th{background:var(--surface);font-weight:700;font-size:.76rem;text-transform:uppercase;letter-spacing:.5px;color:var(--muted)}.data-table td{color:#ccc}
.data-table .highlight{background:var(--psda-bg);font-weight:700;color:var(--psda)}
.exercise{background:var(--surface);border:2px solid var(--psda);border-radius:14px;padding:22px;margin-bottom:16px}
.exercise h3{font-family:'Cormorant Garamond',serif;font-size:1.2rem;margin-bottom:4px}
.exercise-sub{font-size:.85rem;color:var(--muted);margin-bottom:14px}
.ex-item{background:var(--paper);border-radius:10px;padding:14px;margin-bottom:10px;border:1px solid var(--border)}
.ex-num{font-size:.78rem;font-weight:700;color:var(--muted);margin-bottom:6px}
.ex-prompt{font-size:.93rem;margin-bottom:10px;line-height:1.6}
.ex-prompt code{background:var(--psda-bg);color:var(--psda);padding:1px 6px;border-radius:4px;font-family:'JetBrains Mono',monospace;font-size:.9rem}
.ex-options{display:flex;flex-wrap:wrap;gap:6px}
.ex-opt{padding:7px 16px;background:var(--surface);border:2px solid var(--border);border-radius:8px;cursor:pointer;font-size:.85rem;transition:all .15s}
.ex-opt:hover:not(.ex-dis){border-color:var(--psda);background:var(--psda-bg)}
.ex-opt.ex-correct{border-color:var(--correct);background:var(--correct-bg);color:var(--correct)}
.ex-opt.ex-wrong{border-color:var(--wrong);background:var(--wrong-bg);color:var(--wrong)}
.ex-opt.ex-dis{pointer-events:none;opacity:.6}
.ex-fb{margin-top:8px;font-size:.82rem;color:var(--muted);display:none;line-height:1.5}.ex-fb.show{display:block}
.ex-score{text-align:center;padding:10px 0;font-size:.88rem;color:var(--muted)}
.ex-input-row{display:flex;align-items:center;gap:8px;margin-bottom:8px}
.ex-input{width:120px;padding:8px 10px;background:var(--surface);border:2px solid var(--border);border-radius:8px;color:var(--ink);font-family:'JetBrains Mono',monospace;font-size:1rem;text-align:center}
.ex-input:focus{border-color:var(--psda);outline:none}
.ex-input.inp-correct{border-color:var(--correct);background:var(--correct-bg)}.ex-input.inp-wrong{border-color:var(--wrong);background:var(--wrong-bg)}
.ex-check-btn{padding:7px 16px;background:var(--psda);color:#000;border:none;border-radius:8px;cursor:pointer;font-family:inherit;font-size:.85rem;font-weight:600}.ex-check-btn:hover{background:#e5a920}.ex-check-btn:disabled{opacity:.4;pointer-events:none}
.stat-exp{background:var(--paper);border:2px solid var(--psda);border-radius:12px;padding:16px;margin-bottom:14px}
.stat-input{width:100%;padding:8px 10px;background:var(--surface);border:1px solid var(--border);border-radius:6px;color:var(--ink);font-family:'JetBrains Mono',monospace;font-size:.9rem}.stat-input:focus{border-color:var(--psda);outline:none}
.stat-results{display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:8px;margin-top:12px}
.stat-result{background:var(--surface);border-radius:8px;padding:10px;text-align:center}
.stat-val{font-family:'JetBrains Mono',monospace;font-size:1.1rem;font-weight:700}.stat-label{font-size:.72rem;color:var(--muted);text-transform:uppercase;letter-spacing:.5px}
.sat-q{background:var(--paper);border:1px solid var(--border);border-radius:12px;padding:16px;margin-bottom:10px}
.sat-choices{display:flex;flex-direction:column;gap:6px}
.sat-choice{display:flex;align-items:flex-start;gap:10px;padding:10px 12px;background:var(--surface);border:2px solid var(--border);border-radius:10px;cursor:pointer;font-size:.88rem;transition:all .15s}
.sat-choice:hover:not(.sc-dis){border-color:var(--psda);background:var(--psda-bg)}
.sat-choice.sc-correct{border-color:var(--correct);background:var(--correct-bg)}.sat-choice.sc-wrong{border-color:var(--wrong);background:var(--wrong-bg)}
.sat-choice.sc-dis{pointer-events:none;opacity:.6}.sat-choice.sc-dis.sc-correct{opacity:1}
.sc-letter{flex-shrink:0;width:24px;height:24px;display:flex;align-items:center;justify-content:center;border-radius:50%;background:var(--border);font-weight:700;font-size:.78rem}
.sat-choice.sc-correct .sc-letter{background:var(--correct);color:#fff}.sat-choice.sc-wrong .sc-letter{background:var(--wrong);color:#fff}
.sat-fb{margin-top:8px;padding:10px;border-radius:8px;font-size:.82rem;line-height:1.5;display:none}.sat-fb.show{display:block}
.sat-fb.sfb-correct{background:var(--correct-bg);border:1px solid var(--correct)}.sat-fb.sfb-wrong{background:var(--wrong-bg);border:1px solid var(--wrong)}
.btn{display:inline-block;background:var(--accent);color:#fff;font-family:inherit;font-size:.9rem;font-weight:600;padding:10px 24px;border:none;border-radius:8px;cursor:pointer;transition:all .2s}.btn:hover{background:#a00d24}
.mod-nav{display:flex;justify-content:space-between;align-items:center;padding:20px 0;border-top:1px solid var(--border);margin-top:40px}
.mod-nav a{color:var(--accent);text-decoration:none;font-weight:600;font-size:.9rem;display:flex;align-items:center;gap:6px}.mod-nav a:hover{text-decoration:underline}
@media(max-width:600px){.mod-meta{flex-wrap:wrap;gap:10px}.fm-grid{grid-template-columns:1fr 1fr}.stat-results{grid-template-columns:1fr 1fr}.ex-options{flex-direction:column}}
</style>
</head>
<body>
<div class="top-stripe"></div>
<div class="progress-bar"><div class="progress-fill" id="progressFill"></div></div>
<div class="container">
<a class="back-link" href="index.html">‚Üê Back to Math Course</a>
<div class="mod-header">
  <div class="mod-badge">Module 5 ¬∑ Problem-Solving & Data</div>
  <h1>Problem-Solving & Data Analysis</h1>
  <p class="subtitle">The most word-problem-heavy domain. These questions test reasoning more than calculation.</p>
  <div class="mod-meta"><span>‚è± 2‚Äì3 sessions</span><span>üìã 4 topics</span><span>üî® Phase 2: Build</span></div>
</div>

<!-- TOPIC 5A -->
<div class="section">
  <div class="section-label">Topic 5A</div>
  <h2>Ratios, Rates & Proportions</h2>
  <div class="fm-grid">
    <div class="fm-card"><div class="fm-name">Proportion</div><div class="fm-eq">a/b = c/d ‚Üí ad = bc</div></div>
    <div class="fm-card"><div class="fm-name">Unit Rate</div><div class="fm-eq">"per" = √∑</div></div>
    <div class="fm-card"><div class="fm-name">Percent</div><div class="fm-eq">part/whole √ó 100</div></div>
    <div class="fm-card"><div class="fm-name">Percent Change</div><div class="fm-eq">(new ‚àí old)/old √ó 100</div></div>
    <div class="fm-card"><div class="fm-name">Percent Increase</div><div class="fm-eq">new = old √ó (1 + r)</div></div>
    <div class="fm-card"><div class="fm-name">Percent Decrease</div><div class="fm-eq">new = old √ó (1 ‚àí r)</div></div>
  </div>
  <div class="topic" onclick="this.classList.toggle('open')">
    <div class="topic-header"><div class="topic-title">Unit Conversion & Dimensional Analysis</div><div class="topic-arrow">‚ñ∂</div></div>
    <div class="topic-body">
      <p>Multiply by conversion factors so unwanted units cancel:</p>
      <p><strong>Example:</strong> Convert 60 mph to feet per second:</p>
      <p><code>60 miles/hr √ó 5280 ft/mile √ó 1 hr/3600 sec = 88 ft/sec</code></p>
      <p>Set up fractions so miles cancel with miles, hours cancel with hours.</p>
      <p><strong>SAT tip:</strong> Watch for unit conversion traps ‚Äî data in minutes but answer in hours, or miles vs. kilometers.</p>
    </div>
  </div>
  <div class="topic" onclick="this.classList.toggle('open')">
    <div class="topic-header"><div class="topic-title">Direct vs. Inverse Proportion</div><div class="topic-arrow">‚ñ∂</div></div>
    <div class="topic-body">
      <p><strong>Direct proportion:</strong> y = kx. As x increases, y increases. Doubling x doubles y.</p>
      <p><strong>Inverse proportion:</strong> y = k/x. As x increases, y decreases. Doubling x halves y.</p>
      <p>To identify: if the product xy is constant ‚Üí inverse. If the ratio y/x is constant ‚Üí direct.</p>
    </div>
  </div>
</div>

<!-- EXERCISE 1: RATIO & PERCENT -->
<div class="section">
  <div class="section-label">Interactive Exercise 1</div>
  <h2>Ratio & Percent Problems</h2>
  <p>Solve each problem. Type your numerical answer.</p>
  <div class="exercise" id="ratioExercise"></div>
  <div id="ratioScore" class="ex-score"></div>
</div>

<!-- NEW EXERCISE 2: PERCENT CHANGE CHAINS -->
<div class="section">
  <div class="section-label">Interactive Exercise 2</div>
  <h2>Percent Change Chains</h2>
  <p>One of the SAT's favorite traps: chained percent changes DON'T cancel out the way you expect. A 20% increase followed by a 20% decrease does NOT get you back to the original price.</p>
  <div class="exercise" style="border-color:var(--accent)" id="chainExercise"></div>
  <div id="chainScore" class="ex-score"></div>
</div>

<!-- TOPIC 5B -->
<div class="section">
  <div class="section-label">Topic 5B</div>
  <h2>Statistics: Center, Spread & Shape</h2>
  <div class="topic" onclick="this.classList.toggle('open')">
    <div class="topic-header"><div class="topic-title">Mean vs. Median ‚Äî When It Matters</div><div class="topic-arrow">‚ñ∂</div></div>
    <div class="topic-body">
      <p><strong>Mean</strong> = sum √∑ count. Sensitive to outliers.</p>
      <p><strong>Median</strong> = middle value (sorted). Resistant to outliers.</p>
      <p><strong>SAT's favorite question:</strong> "A very high value is added. Which measure is more affected?" ‚Üí The mean.</p>
      <p><strong>Example:</strong> Data: 10, 12, 14, 15, 16. Mean = 13.4, Median = 14.</p>
      <p>Add outlier (100): Mean = 27.8 (jumped!), Median = 14.5 (barely changed).</p>
    </div>
  </div>
  <div class="topic" onclick="this.classList.toggle('open')">
    <div class="topic-header"><div class="topic-title">Standard Deviation & Spread</div><div class="topic-arrow">‚ñ∂</div></div>
    <div class="topic-body">
      <p><strong>Range</strong> = max ‚àí min.</p>
      <p><strong>Standard deviation</strong> = how spread out values are from the mean. You don't need to calculate it:</p>
      <p>‚Ä¢ Data clustered tightly ‚Üí SMALL standard deviation</p>
      <p>‚Ä¢ Data spread far ‚Üí LARGE standard deviation</p>
      <p>‚Ä¢ Adding/subtracting a constant to every value does NOT change the standard deviation</p>
      <p>‚Ä¢ Multiplying every value by a constant DOES change the standard deviation (by that factor)</p>
    </div>
  </div>
  <div class="topic" onclick="this.classList.toggle('open')">
    <div class="topic-header"><div class="topic-title">Distribution Shape</div><div class="topic-arrow">‚ñ∂</div></div>
    <div class="topic-body">
      <p><strong>Symmetric:</strong> Mean ‚âà Median. Bell-shaped or uniform.</p>
      <p><strong>Skewed right:</strong> Tail extends right. Mean &gt; Median.</p>
      <p><strong>Skewed left:</strong> Tail extends left. Mean &lt; Median.</p>
    </div>
  </div>
</div>

<!-- STATISTICS EXPLORER -->
<div class="section">
  <div class="section-label">Interactive Tool</div>
  <h2>Statistics Explorer</h2>
  <p>Enter comma-separated numbers to instantly see mean, median, range, and count. Try adding an outlier!</p>
  <div class="stat-exp">
    <input class="stat-input" id="statInput" value="12, 15, 18, 20, 22, 25, 28" placeholder="Enter numbers separated by commas..." oninput="calcStats()">
    <div class="stat-results" id="statResults"></div>
    <div id="statInsight" style="margin-top:10px;font-size:.85rem;color:var(--muted)"></div>
  </div>
</div>

<!-- TOPIC 5C -->
<div class="section">
  <div class="section-label">Topic 5C</div>
  <h2>Data Interpretation</h2>
  <div class="topic" onclick="this.classList.toggle('open')">
    <div class="topic-header"><div class="topic-title">Scatterplots & Line of Best Fit</div><div class="topic-arrow">‚ñ∂</div></div>
    <div class="topic-body">
      <p><strong>Correlation:</strong> Positive (both increase), Negative (one up, other down), None.</p>
      <p><strong>Line of best fit:</strong> Slope = rate of change. Y-intercept = starting value.</p>
      <p><strong>Interpolation</strong> = predicting WITHIN data range (reliable). <strong>Extrapolation</strong> = BEYOND (less reliable).</p>
      <p><strong>Residuals</strong> = actual ‚àí predicted. Random scatter = good model. Pattern = bad fit.</p>
    </div>
  </div>
  <div class="topic" onclick="this.classList.toggle('open')">
    <div class="topic-header"><div class="topic-title">Two-Way Frequency Tables</div><div class="topic-arrow">‚ñ∂</div></div>
    <div class="topic-body">
      <p>Two-way tables organize data by two categorical variables.</p>
      <p><strong>Marginal frequencies:</strong> The row/column totals.</p>
      <p><strong>Joint frequencies:</strong> The values inside the table.</p>
      <p><strong>Conditional probability:</strong> P(A|B) = (count of A AND B) / (total count of B)</p>
      <p><strong>Critical distinction: P(A|B) ‚â† P(B|A)!</strong> "Probability of having a job given you play a sport" is NOT the same as "probability of playing a sport given you have a job." The denominator changes! This trips up even medical professionals in real life.</p>
    </div>
  </div>
  <div class="callout-blue callout"><strong>Desmos Regression:</strong> Enter data as a table, then type <code>y‚ÇÅ ~ mx‚ÇÅ + b</code> for linear or <code>y‚ÇÅ ~ ax‚ÇÅ¬≤ + bx‚ÇÅ + c</code> for quadratic. Desmos finds the best-fit equation automatically.</div>
</div>

<!-- EXERCISE 3: TWO-WAY TABLE -->
<div class="section">
  <div class="section-label">Interactive Exercise 3</div>
  <h2>Two-Way Table & Probability</h2>
  <p>Use the table below to answer probability questions. Pay special attention to P(A|B) vs. P(B|A).</p>
  <div class="exercise" id="tableExercise">
    <h3>üìä Student Activity Survey</h3>
    <div class="exercise-sub">200 students were surveyed about their extracurricular activities.</div>
    <table class="data-table" style="margin-bottom:16px">
      <tr><th></th><th>Plays Sport</th><th>No Sport</th><th>Total</th></tr>
      <tr><td style="font-weight:700;text-align:left">Has a Job</td><td>45</td><td>35</td><td class="highlight">80</td></tr>
      <tr><td style="font-weight:700;text-align:left">No Job</td><td>55</td><td>65</td><td class="highlight">120</td></tr>
      <tr><td style="font-weight:700;text-align:left">Total</td><td class="highlight">100</td><td class="highlight">100</td><td class="highlight">200</td></tr>
    </table>
    <div id="tableQs"></div>
  </div>
  <div id="tableScore" class="ex-score"></div>
</div>

<!-- TOPIC 5D -->
<div class="section">
  <div class="section-label">Topic 5D</div>
  <h2>Probability & Study Design</h2>
  <div class="topic" onclick="this.classList.toggle('open')">
    <div class="topic-header"><div class="topic-title">Probability Basics</div><div class="topic-arrow">‚ñ∂</div></div>
    <div class="topic-body">
      <p><strong>P(event) = favorable / total</strong></p>
      <p>Probability is always between 0 (impossible) and 1 (certain).</p>
      <p><strong>Complement:</strong> P(not A) = 1 ‚àí P(A)</p>
      <p><strong>"At least one"</strong> = 1 ‚àí P(none)</p>
    </div>
  </div>
  <div class="topic" onclick="this.classList.toggle('open')">
    <div class="topic-header"><div class="topic-title">Study Design ‚Äî The SAT's Favorite Trick</div><div class="topic-arrow">‚ñ∂</div></div>
    <div class="topic-body">
      <p><strong>1. Random sampling</strong> ‚Üí results can be generalized to the population.</p>
      <p>Not random (e.g., volunteers) ‚Üí can NOT generalize.</p>
      <p><strong>2. Random assignment to groups</strong> ‚Üí causation can be established. This makes it an EXPERIMENT.</p>
      <p><strong>3. No random assignment</strong> ‚Üí only association, NOT causation.</p>
      <p><strong>Confounding variables:</strong> Other factors that could explain the result.</p>
      <p><strong>Margin of error:</strong> Larger sample ‚Üí smaller margin of error. To halve the margin, quadruple the sample (proportional to 1/‚àön).</p>
    </div>
  </div>
</div>

<!-- EXERCISE 4: STUDY DESIGN CLASSIFIER -->
<div class="section">
  <div class="section-label">Interactive Exercise 4</div>
  <h2>Study Design Classifier</h2>
  <p>For each scenario, decide what valid conclusions can be drawn.</p>
  <div class="exercise" id="studyExercise" style="border-color:var(--adv)"></div>
  <div id="studyScore" class="ex-score"></div>
</div>

<!-- NEW EXERCISE 5: SPOT THE MISLEADING STATISTIC -->
<div class="section">
  <div class="section-label">Interactive Exercise 5</div>
  <h2>Spot the Misleading Statistic</h2>
  <p>The SAT tests whether you can identify WHY a statistical claim is flawed. For each scenario, identify the specific problem with the conclusion.</p>
  <div class="exercise" style="border-color:var(--geotrig)" id="misleadEx"></div>
  <div id="misleadScore" class="ex-score"></div>
</div>

<!-- SAT PRACTICE -->
<div class="section">
  <div class="section-label">SAT-Style Practice</div>
  <h2>Practice Questions</h2>
  <p>10 questions covering all topics. 3 foundational, 4 intermediate, 3 advanced.</p>
  <div id="satQuestions"></div>
  <div id="satScore" class="ex-score"></div>
</div>

<!-- KEY TAKEAWAYS -->
<div class="section">
  <div class="section-label">Summary</div>
  <h2>Key Takeaways</h2>
  <div class="card card-accent">
    <ol style="padding-left:18px;font-size:.93rem;color:#ccc;line-height:2">
      <li>Percent change = (new ‚àí old) / old √ó 100. The OLD value is always the denominator.</li>
      <li>Chained percent changes DON'T cancel: 20% up then 20% down ‚â† original. Multiply the factors.</li>
      <li>Mean is sensitive to outliers; median is resistant. The SAT tests this constantly.</li>
      <li>On scatterplots, slope = rate of change in context. Y-intercept = starting value.</li>
      <li>P(A|B) ‚â† P(B|A)! Always check which group is the denominator.</li>
      <li>Only EXPERIMENTS with random assignment can establish causation. Everything else is correlation.</li>
      <li>Larger sample ‚Üí smaller margin of error. Quadruple the sample to halve the margin.</li>
      <li>Always ask: "Is the sample biased? Could there be a confounding variable?"</li>
    </ol>
  </div>
</div>

<div class="mod-nav">
  <a href="module-4.html">‚Üê Module 4: Functions</a>
  <a href="module-6.html">Module 6: Geometry & Trig ‚Üí</a>
</div>
</div>

<script>
// ============ PROGRESS BAR ============
window.addEventListener('scroll',function(){var h=document.documentElement.scrollHeight-window.innerHeight;var pct=h>0?(window.scrollY/h)*100:0;document.getElementById('progressFill').style.width=pct+'%';});

// ============ HELPERS ============
function showScore(id,ans,items){var t=items.length,a=Object.keys(ans).length,c=0;Object.entries(ans).forEach(function(p){var i=parseInt(p[0]),v=p[1];if(v===items[i].correct||v===true)c++;});document.getElementById(id).innerHTML=a===t?'<strong style="color:'+(c>=t*.75?'var(--correct)':c>=t*.5?'var(--psda)':'var(--wrong)')+'">'+c+'/'+t+' correct</strong>':a>0?a+'/'+t+' completed':'';}

// ============ EXERCISE 1: RATIO & PERCENT ============
var RATIOS=[
  {prompt:'A store marks up a $40 item by 25%. What is the selling price?',answer:50,solution:'$40 √ó 1.25 = $50.'},
  {prompt:'A shirt was $80, now $60. What is the percent decrease?',answer:25,solution:'(80 ‚àí 60)/80 √ó 100 = 25%. Divide by the OLD value.'},
  {prompt:'If 3 workers paint a house in 12 hours, how many hours for 4 workers?',answer:9,solution:'Inverse proportion: 3 √ó 12 = 36. So 4 √ó h = 36, h = 9.'},
  {prompt:'A recipe for 6 servings uses 2 cups of flour. How many cups for 15 servings?',answer:5,solution:'2/6 = x/15. Cross multiply: 6x = 30, x = 5 cups.'},
  {prompt:'A car travels 240 miles on 8 gallons. Miles per gallon?',answer:30,solution:'240 √∑ 8 = 30 mpg.'},
  {prompt:'A population grows from 5,000 to 6,500. Percent increase?',answer:30,solution:'(6500 ‚àí 5000)/5000 √ó 100 = 30%.'},
];
var ratioAns={};
function renderRatios(){
  document.getElementById('ratioExercise').innerHTML='<h3>üìè Ratios & Percentages</h3><div class="exercise-sub">Type your numerical answer (no % sign for percentages).</div>'+RATIOS.map(function(r,i){var ans=ratioAns[i];var has=ans!==undefined;return '<div class="ex-item"><div class="ex-num">Problem '+(i+1)+'</div><div class="ex-prompt">'+r.prompt+'</div><div class="ex-input-row"><input class="ex-input'+(has?(ans?' inp-correct':' inp-wrong'):'')+'" id="rInp'+i+'" placeholder="?" '+(has?'disabled':'')+' onkeydown="if(event.key===\'Enter\')checkRatio('+i+')"><button class="ex-check-btn" onclick="checkRatio('+i+')" '+(has?'disabled':'')+'>Check</button></div><div class="ex-fb'+(has?' show':'')+'" style="'+(has?(ans?'color:var(--correct)':'color:var(--wrong)'):'')+'">'+( has?(ans?'‚úì Correct! ':'‚úó Incorrect. ')+r.solution:'')+'</div></div>';}).join('');
  var t=RATIOS.length,a=Object.keys(ratioAns).length,c=0;Object.values(ratioAns).forEach(function(v){if(v)c++;});
  document.getElementById('ratioScore').innerHTML=a===t?'<strong style="color:'+(c>=5?'var(--correct)':c>=3?'var(--psda)':'var(--wrong)')+'">'+c+'/'+t+' correct</strong>':a>0?a+'/'+t+' completed':'';
}
function checkRatio(i){var v=parseFloat(document.getElementById('rInp'+i).value);ratioAns[i]=Math.abs(v-RATIOS[i].answer)<0.1;renderRatios();}
renderRatios();

// ============ EXERCISE 2: PERCENT CHANGE CHAINS ============
var CHAINS=[
  {q:'Start: $100. Increase 20%, then decrease 20%. Final price?',correct:'$99',opts:['$100','$99','$96','$104'],fb:'$100 √ó 1.20 = $120. Then $120 √ó 0.80 = $96. Wait ‚Äî let me recalculate: $120 √ó 0.80 = $96. The answer is $96, not $99.'},
  {q:'Start: $200. Decrease 10%, then increase 10%. Final price?',correct:'$198',opts:['$200','$198','$202','$180'],fb:'$200 √ó 0.90 = $180. Then $180 √ó 1.10 = $198. You lose $2 ‚Äî the changes never cancel!'},
  {q:'A stock increases 50% then decreases 50%. What percent of the original value remains?',correct:'75%',opts:['100%','75%','50%','0%'],fb:'Start: 100. After +50%: 150. After ‚àí50%: 75. You lost 25% of your original investment.'},
  {q:'An item is marked up 25% then discounted 20%. The final price compared to original is:',correct:'Same price',opts:['5% more','5% less','Same price','2% more'],fb:'$100 √ó 1.25 = $125. Then $125 √ó 0.80 = $100. These specific percentages DO cancel ‚Äî but only because 1.25 √ó 0.80 = 1.00 exactly.'},
  {q:'A population doubles (100% increase) then halves (50% decrease). Result?',correct:'Back to original',opts:['Back to original','50% more','25% less','50% less'],fb:'100 √ó 2.00 = 200. Then 200 √ó 0.50 = 100. Doubling then halving returns to original.'},
  {q:'Three consecutive 10% increases. Total percent increase?',correct:'33.1%',opts:['30%','33.1%','31%','40%'],fb:'1.10 √ó 1.10 √ó 1.10 = 1.331. Total increase = 33.1%, NOT 30%. Compounding makes it more than 3 √ó 10%.'},
];
// Fix chain Q1 - I made an error
CHAINS[0]={q:'Start: $100. Increase 20%, then decrease 20%. Final price?',correct:'$96',opts:['$100','$99','$96','$104'],fb:'$100 √ó 1.20 = $120. Then $120 √ó 0.80 = $96. The 20% decrease is taken from the LARGER number, so you lose $4 not $0.'};
var chainAns={};
function ansChain(i,oi){if(chainAns[i]!==undefined)return;chainAns[i]=CHAINS[i].opts[oi];renderChains();}
function renderChains(){
  document.getElementById('chainExercise').innerHTML='<h3>üîó Percent Change Chains</h3><div class="exercise-sub">What is the final result after chained percent changes?</div>'+CHAINS.map(function(q,i){var ans=chainAns[i];var has=ans!==undefined;return '<div class="ex-item"><div class="ex-num">Scenario '+(i+1)+'</div><div class="ex-prompt">'+q.q+'</div><div class="ex-options">'+q.opts.map(function(o,oi){var cls='ex-opt';if(has){cls+=' ex-dis';if(o===q.correct)cls+=' ex-correct';else if(o===ans&&o!==q.correct)cls+=' ex-wrong';}return '<div class="'+cls+'" onclick="ansChain('+i+','+oi+')">'+o+'</div>';}).join('')+'</div><div class="ex-fb'+(has?' show':'')+'">'+(has?(ans===q.correct?'‚úì Correct! ':'‚úó Incorrect. ')+q.fb:'')+'</div></div>';}).join('');
  showScore('chainScore',chainAns,CHAINS);
}
renderChains();

// ============ STATISTICS EXPLORER ============
function calcStats(){
  var raw=document.getElementById('statInput').value;
  var nums=raw.split(',').map(function(s){return parseFloat(s.trim());}).filter(function(n){return !isNaN(n);});
  if(nums.length===0){document.getElementById('statResults').innerHTML='';document.getElementById('statInsight').innerHTML='';return;}
  var sorted=nums.slice().sort(function(a,b){return a-b;});
  var n=nums.length,sum=0;nums.forEach(function(v){sum+=v;});
  var mean=sum/n;
  var median=n%2===1?sorted[Math.floor(n/2)]:(sorted[n/2-1]+sorted[n/2])/2;
  var range=sorted[n-1]-sorted[0];
  document.getElementById('statResults').innerHTML=[
    {label:'Count',val:n,color:'var(--ink)'},{label:'Mean',val:Math.round(mean*100)/100,color:'var(--psda)'},
    {label:'Median',val:Math.round(median*100)/100,color:'var(--algebra)'},{label:'Range',val:Math.round(range*100)/100,color:'var(--geotrig)'},
    {label:'Min',val:sorted[0],color:'var(--muted)'},{label:'Max',val:sorted[n-1],color:'var(--muted)'}
  ].map(function(s){return '<div class="stat-result"><div class="stat-val" style="color:'+s.color+'">'+s.val+'</div><div class="stat-label">'+s.label+'</div></div>';}).join('');
  var insight='';
  if(Math.abs(mean-median)>range*0.15){insight=mean>median?'‚ö†Ô∏è Mean > Median ‚Üí <strong>skewed right</strong>.':'‚ö†Ô∏è Mean < Median ‚Üí <strong>skewed left</strong>.';}
  else{insight='‚úì Mean ‚âà Median ‚Üí roughly <strong>symmetric</strong>.';}
  document.getElementById('statInsight').innerHTML=insight;
}
calcStats();

// ============ EXERCISE 3: TWO-WAY TABLE ============
var TABLE_QS=[
  {q:'What proportion of ALL students play a sport?',correct:'100/200 = 0.50',opts:['100/200 = 0.50','45/200 = 0.225','100/80 = 1.25','55/200 = 0.275'],fb:'Total who play sport = 100. Total students = 200. P = 100/200 = 0.50.'},
  {q:'What is P(has a job | plays a sport)?',correct:'45/100 = 0.45',opts:['45/200 = 0.225','45/100 = 0.45','45/80 = 0.5625','80/200 = 0.40'],fb:'Given: plays sport (100 total). Of those, 45 have a job. P = 45/100 = 0.45.'},
  {q:'What is P(plays a sport | has a job)?',correct:'45/80 = 0.5625',opts:['45/100 = 0.45','45/200 = 0.225','45/80 = 0.5625','80/100 = 0.80'],fb:'Given: has a job (80 total). Of those, 45 play sport. P = 45/80 = 0.5625. Notice: this is DIFFERENT from the previous answer! P(A|B) ‚â† P(B|A).'},
  {q:'What fraction of non-sport students have a job?',correct:'35/100 = 0.35',opts:['35/200 = 0.175','35/100 = 0.35','65/100 = 0.65','35/80 = 0.4375'],fb:'Non-sport column = 100. Of those, 35 have a job. P = 35/100 = 0.35.'},
  {q:'Are "plays a sport" and "has a job" independent?',correct:'No ‚Äî P(job|sport) ‚â† P(job)',opts:['Yes ‚Äî probabilities are equal','No ‚Äî P(job|sport) ‚â† P(job)','Cannot be determined','Yes ‚Äî both columns total 100'],fb:'P(job) = 80/200 = 0.40. P(job|sport) = 45/100 = 0.45. Since 0.40 ‚â† 0.45, NOT independent.'},
  {q:'If 50 more sport+job students are added, what is new P(job|sport)?',correct:'95/150 ‚âà 0.633',opts:['95/250 = 0.38','95/150 ‚âà 0.633','45/150 = 0.30','95/130 ‚âà 0.731'],fb:'New sport+job = 95. New total sport = 150. P = 95/150 ‚âà 0.633.'},
];
var tableAns={};
function ansTable(i,oi){if(tableAns[i]!==undefined)return;tableAns[i]=TABLE_QS[i].opts[oi];renderTable();}
function renderTable(){
  document.getElementById('tableQs').innerHTML=TABLE_QS.map(function(q,i){var ans=tableAns[i];var has=ans!==undefined;return '<div class="ex-item"><div class="ex-num">Question '+(i+1)+'</div><div class="ex-prompt">'+q.q+'</div><div class="ex-options">'+q.opts.map(function(o,oi){var cls='ex-opt';if(has){cls+=' ex-dis';if(o===q.correct)cls+=' ex-correct';else if(o===ans&&o!==q.correct)cls+=' ex-wrong';}return '<div class="'+cls+'" onclick="ansTable('+i+','+oi+')">'+o+'</div>';}).join('')+'</div><div class="ex-fb'+(has?' show':'')+'">'+(has?(ans===q.correct?'‚úì Correct! ':'‚úó Incorrect. ')+q.fb:'')+'</div></div>';}).join('');
  showScore('tableScore',tableAns,TABLE_QS);
}
renderTable();

// ============ EXERCISE 4: STUDY DESIGN CLASSIFIER ============
var STUDIES=[
  {scenario:'Researchers randomly selected 500 adults from a city and found that those who exercised regularly had lower blood pressure.',correct:'Association only ‚Äî can generalize to city',opts:['Causation ‚Äî exercise lowers BP','Association only ‚Äî can generalize to city','Association only ‚Äî cannot generalize','No valid conclusion'],fb:'Random sampling ‚Üí generalize. No random assignment ‚Üí only association.'},
  {scenario:'100 volunteers were randomly assigned to drink green tea or water daily for 3 months. Green tea group showed improved focus.',correct:'Causation ‚Äî but only for volunteers',opts:['Causation ‚Äî generalize to all adults','Causation ‚Äî but only for volunteers','Association only ‚Äî generalize','Association only ‚Äî cannot generalize'],fb:'Random assignment ‚Üí causation. But volunteers ‚Üí can\'t generalize to everyone.'},
  {scenario:'A researcher surveys students at her own school and finds correlation between screen time and lower grades.',correct:'Association only ‚Äî cannot generalize',opts:['Causation ‚Äî screens lower grades','Association ‚Äî generalize to all students','Association only ‚Äî cannot generalize','Causation ‚Äî for this school only'],fb:'No random assignment ‚Üí no causation. No random sampling ‚Üí can\'t generalize.'},
  {scenario:'A national org randomly selects 10,000 people and randomly assigns half to Vitamin D supplements. Supplement group has fewer colds after 1 year.',correct:'Causation ‚Äî can generalize to population',opts:['Causation ‚Äî can generalize to population','Association only ‚Äî generalize','Causation ‚Äî only for sample','Association only ‚Äî cannot generalize'],fb:'Random sampling AND random assignment ‚Üí both causation and generalizability. Gold standard.'},
  {scenario:'Countries with more chocolate consumption per capita have more Nobel Prize winners.',correct:'Correlation only ‚Äî confounding variables',opts:['Causation ‚Äî chocolate helps','Correlation only ‚Äî confounding variables','Causation ‚Äî generalize globally','Association ‚Äî generalize to all countries'],fb:'Wealth is a confounding variable ‚Äî wealthier countries have both more chocolate AND more Nobel winners.'},
  {scenario:'To reduce margin of error from ¬±5% to ¬±2.5%, a researcher should:',correct:'Increase sample size',opts:['Increase sample size','Use a different method','Ask more questions','Survey a different population'],fb:'Larger sample ‚Üí smaller margin of error. To halve the margin, quadruple the sample size.'},
];
var studyAns={};
function ansStudy(i,oi){if(studyAns[i]!==undefined)return;studyAns[i]=STUDIES[i].opts[oi];renderStudies();}
function renderStudies(){
  document.getElementById('studyExercise').innerHTML='<h3>üî¨ Study Design Classifier</h3><div class="exercise-sub">What conclusions are valid from each study?</div>'+STUDIES.map(function(s,i){var ans=studyAns[i];var has=ans!==undefined;return '<div class="ex-item"><div class="ex-num">Scenario '+(i+1)+'</div><div class="ex-prompt">'+s.scenario+'</div><div class="ex-options">'+s.opts.map(function(o,oi){var cls='ex-opt';if(has){cls+=' ex-dis';if(o===s.correct)cls+=' ex-correct';else if(o===ans&&o!==s.correct)cls+=' ex-wrong';}return '<div class="'+cls+'" onclick="ansStudy('+i+','+oi+')">'+o+'</div>';}).join('')+'</div><div class="ex-fb'+(has?' show':'')+'">'+(has?(ans===s.correct?'‚úì Correct! ':'‚úó Incorrect. ')+s.fb:'')+'</div></div>';}).join('');
  showScore('studyScore',studyAns,STUDIES);
}
renderStudies();

// ============ EXERCISE 5: SPOT THE MISLEADING STATISTIC ============
var MISLEAD=[
  {scenario:'"9 out of 10 dentists recommend our toothpaste!" The company surveyed 10 dentists who were paid consultants.',correct:'Biased sample',opts:['Biased sample','Correlation ‚â† causation','Cherry-picked data','Too small sample'],fb:'Paid consultants are not representative of all dentists. The sample is biased ‚Äî they have financial incentive to recommend it.'},
  {scenario:'A news headline: "People who eat organic food live 3 years longer!" Based on observational data from health-conscious consumers.',correct:'Confounding variables',opts:['Biased sample','Confounding variables','Misleading graph','Too small sample'],fb:'People who eat organic may also exercise more, earn more, and have better healthcare. These confounding variables ‚Äî not organic food itself ‚Äî could explain the difference.'},
  {scenario:'A graph shows company revenue from $995M to $1.01B, but the y-axis starts at $990M, making the growth look dramatic.',correct:'Misleading graph axis',opts:['Cherry-picked data','Biased sample','Misleading graph axis','Correlation ‚â† causation'],fb:'Starting the y-axis above zero exaggerates small changes. The actual growth is about 1.5%, but the graph makes it look like a massive increase.'},
  {scenario:'"Our SAT prep course works! Students scored 50 points higher after taking it." But there was no control group.',correct:'No control group for comparison',opts:['Biased sample','No control group for comparison','Cherry-picked data','Confounding variables'],fb:'Without a control group, we don\'t know if students would have improved just from practice, maturity, or retaking the test. The improvement might have nothing to do with the course.'},
  {scenario:'A politician says "Crime dropped 15% under my leadership!" but only shows data from the 2 best months out of 24.',correct:'Cherry-picked data',opts:['Biased sample','Confounding variables','Misleading graph axis','Cherry-picked data'],fb:'Selecting only the data that supports your conclusion is cherry-picking. The overall trend for all 24 months might show no change or even an increase.'},
  {scenario:'"States that spend more on education have higher test scores." Conclusion: spending more money improves education.',correct:'Correlation ‚â† causation',opts:['Biased sample','Cherry-picked data','Correlation ‚â† causation','Misleading graph axis'],fb:'This is observational data. Wealthier states both spend more AND have other advantages (family income, resources). Correlation does not imply causation.'},
];
var misleadAns={};
function ansMislead(i,oi){if(misleadAns[i]!==undefined)return;misleadAns[i]=MISLEAD[i].opts[oi];renderMislead();}
function renderMislead(){
  document.getElementById('misleadEx').innerHTML='<h3>üö© Spot the Problem</h3><div class="exercise-sub">What\'s wrong with each statistical claim?</div>'+MISLEAD.map(function(q,i){var ans=misleadAns[i];var has=ans!==undefined;return '<div class="ex-item"><div class="ex-num">Claim '+(i+1)+'</div><div class="ex-prompt">'+q.scenario+'</div><div class="ex-options">'+q.opts.map(function(o,oi){var cls='ex-opt';if(has){cls+=' ex-dis';if(o===q.correct)cls+=' ex-correct';else if(o===ans&&o!==q.correct)cls+=' ex-wrong';}return '<div class="'+cls+'" onclick="ansMislead('+i+','+oi+')">'+o+'</div>';}).join('')+'</div><div class="ex-fb'+(has?' show':'')+'">'+(has?(ans===q.correct?'‚úì Correct! ':'‚úó Incorrect. ')+q.fb:'')+'</div></div>';}).join('');
  showScore('misleadScore',misleadAns,MISLEAD);
}
renderMislead();

// ============ SAT PRACTICE ============
var SAT_QS=[
  {tier:'Tier 1',q:'If 40% of 250 students passed an exam, how many passed?',choices:['40','80','100','160'],correct:2,fb:'0.40 √ó 250 = 100.'},
  {tier:'Tier 1',q:'Data set: 3, 5, 7, 9, 11. What is the mean?',choices:['5','7','9','35'],correct:1,fb:'(3+5+7+9+11)/5 = 35/5 = 7.'},
  {tier:'Tier 1',q:'A jacket costs $120 after a 20% discount. What was the original price?',choices:['$96','$140','$144','$150'],correct:3,fb:'You pay 80% of original: 0.80 √ó original = 120 ‚Üí original = $150. Trap: $144 is 120 √ó 1.20 ‚Äî working backwards wrong.'},
  {tier:'Tier 2',q:'A scatterplot line of best fit: y = 2.5x + 15 (x = hours studied, y = score). What does 2.5 mean?',choices:['Minimum score','Score when x = 0','Predicted increase per hour studied','Total hours studied'],correct:2,fb:'Slope = rate of change: each additional hour ‚Üí 2.5 more points.'},
  {tier:'Tier 2',q:'Mean = 50, median = 45. The distribution is most likely:',choices:['Symmetric','Skewed left','Skewed right','Uniform'],correct:2,fb:'Mean > Median ‚Üí skewed right. High values pull the mean up.'},
  {tier:'Tier 2',q:'300 voters surveyed, margin ¬±4%. To reduce to ¬±2%, the researcher should:',choices:['Survey 600','Survey 1,200','Ask more questions','Different method'],correct:1,fb:'To halve the margin, quadruple the sample: 300 √ó 4 = 1,200. (Margin ‚àù 1/‚àön.)'},
  {tier:'Tier 2',q:'A store increases prices 10%, then offers 10% off. Compared to original:',choices:['Same','1% less','1% more','10% less'],correct:1,fb:'$100 √ó 1.10 = $110 √ó 0.90 = $99. That\'s 1% less.'},
  {tier:'Tier 3',q:'P(A|B) = 0.6 and P(A) = 0.4. What can you conclude?',choices:['A and B are independent','A and B are not independent','P(B|A) = 0.6','P(A and B) = 0.24'],correct:1,fb:'If independent, P(A|B) = P(A). Since 0.6 ‚â† 0.4, they are NOT independent.'},
  {tier:'Tier 3',q:'Adding a constant k to every value in a data set. Which changes?',choices:['Mean changes, SD changes','Mean changes, SD stays same','Mean stays same, SD changes','Neither changes'],correct:1,fb:'Adding a constant shifts all values equally: mean increases by k, but spread doesn\'t change, so SD stays the same.'},
  {tier:'Tier 3',q:'A sample of 400 has 52% supporting a policy, margin ¬±5%. Which conclusion is valid?',choices:['Majority definitely supports it','Between 47% and 57% likely support it','Exactly 52% of population supports it','The poll is too small to conclude anything'],correct:1,fb:'52% ¬± 5% gives a confidence interval of 47% to 57%. Since the interval includes values below 50%, we can\'t be certain a majority supports it.'},
];
var satAns={};
function renderSAT(){
  document.getElementById('satQuestions').innerHTML=SAT_QS.map(function(q,i){var ans=satAns[i];var has=ans!==undefined;return '<div class="sat-q"><div class="ex-num">'+q.tier+' ¬∑ Question '+(i+1)+'</div><div class="ex-prompt">'+q.q+'</div><div class="sat-choices">'+q.choices.map(function(ch,ci){var cls='sat-choice';if(has){cls+=' sc-dis';if(ci===q.correct)cls+=' sc-correct';else if(ci===ans&&ci!==q.correct)cls+=' sc-wrong';}return '<div class="'+cls+'" onclick="satAns['+i+']='+ci+';renderSAT()"><div class="sc-letter">'+'ABCD'[ci]+'</div><div>'+ch+'</div></div>';}).join('')+'</div><div class="sat-fb'+(has?' show':'')+(has?(ans===q.correct?' sfb-correct':' sfb-wrong'):'')+'">'+(has?(ans===q.correct?'‚úì Correct! ':'‚úó Incorrect. ')+q.fb:'')+'</div></div>';}).join('');
  var t=SAT_QS.length,a=Object.keys(satAns).length,c=0;Object.entries(satAns).forEach(function(p){if(parseInt(p[1])===SAT_QS[parseInt(p[0])].correct)c++;});
  document.getElementById('satScore').innerHTML=a===t?'<strong style="color:'+(c>=7?'var(--correct)':c>=5?'var(--psda)':'var(--wrong)')+'">'+c+'/'+t+' correct</strong>':a>0?a+'/'+t+' completed':'';
}
renderSAT();
</script>
<script src="/translate.js"></script></body>
</html>
