<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Session 4: Practice Set 2 (Q11‚Äì20) & Progress Tracking ‚Äî PSAT 8/9 R&W ‚Äî PantherPrep</title>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,600;0,700;1,400&family=Source+Sans+3:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
<style>
:root{--ink:#f0f0f0;--paper:#121212;--accent:#C8102E;--accent-light:rgba(200,16,46,.15);--border:#2a2a2a;--muted:#999;--surface:#1a1a1a;--craft:#60a5fa;--craft-bg:rgba(96,165,250,.1);--info:#34d399;--info-bg:rgba(52,211,153,.1);--express:#fbbf24;--express-bg:rgba(251,191,36,.1);--convention:#f87171;--convention-bg:rgba(248,113,113,.1);--correct:#22c55e;--correct-bg:rgba(34,197,94,.12);--wrong:#ef4444;--wrong-bg:rgba(239,68,68,.12)}
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Source Sans 3',sans-serif;background:var(--paper);color:var(--ink);line-height:1.65}
.top-stripe{height:4px;background:linear-gradient(90deg,#C8102E 0%,#C8102E 50%,#fff 50%,#fff 100%);position:fixed;top:0;left:0;right:0;z-index:100}
.container{max-width:800px;margin:0 auto;padding:20px 20px 60px}
.back-link{display:inline-flex;align-items:center;gap:8px;color:var(--muted);font-size:.9rem;padding:8px 0;margin-top:8px;cursor:pointer;text-decoration:none}
.back-link:hover{color:var(--accent)}
.mod-header{padding:40px 0 30px;border-bottom:1px solid var(--border);margin-bottom:32px}
.mod-badge{display:inline-block;background:var(--express);color:#000;font-size:11px;font-weight:700;letter-spacing:2px;text-transform:uppercase;padding:5px 14px;border-radius:16px;margin-bottom:14px}
.mod-header h1{font-family:'Cormorant Garamond',serif;font-size:clamp(1.8rem,4vw,2.6rem);font-weight:700;margin-bottom:6px}
.mod-header .subtitle{color:var(--muted);font-size:1rem}
.mod-meta{display:flex;gap:20px;margin-top:14px;font-size:.82rem;color:var(--muted)}
.section{margin-bottom:36px}
.section-label{font-size:.7rem;font-weight:700;letter-spacing:2px;text-transform:uppercase;color:var(--accent);margin-bottom:6px}
.section h2{font-family:'Cormorant Garamond',serif;font-size:1.6rem;font-weight:700;margin-bottom:12px}
.section p{color:#ccc;font-size:.93rem;margin-bottom:12px;line-height:1.7}
.card{background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:18px 20px;margin-bottom:12px}
.card-accent{border-left:3px solid var(--accent)}
.callout{background:var(--accent-light);border:1px solid rgba(200,16,46,.3);border-radius:10px;padding:14px 18px;margin-bottom:16px;font-size:.9rem}
.callout strong{color:var(--accent)}

/* STRATEGY RECAP */
.strat-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:8px;margin-bottom:16px}
.strat-card{background:var(--surface);border:1px solid var(--border);border-radius:10px;padding:12px;font-size:.85rem;cursor:pointer;transition:all .2s;position:relative}
.strat-card:hover{border-color:var(--accent)}
.strat-name{font-weight:700;color:var(--accent);margin-bottom:3px;font-size:.9rem}
.strat-desc{color:var(--muted);font-size:.82rem;line-height:1.5}
.strat-example{display:none;margin-top:8px;padding:8px 10px;background:var(--paper);border-radius:6px;font-size:.8rem;color:#ddd;line-height:1.5;border:1px solid var(--border)}
.strat-card.open .strat-example{display:block}

/* TIMER */
.timer-bar{background:var(--surface);border:2px solid var(--accent);border-radius:12px;padding:16px;text-align:center;margin-bottom:16px}
.timer-display{font-family:'JetBrains Mono',monospace;font-size:2.2rem;font-weight:700;margin-bottom:8px}
.timer-display.running{color:var(--express)}
.timer-display.done{color:var(--correct)}
.timer-display.warning{color:var(--wrong)}
.timer-btn{display:inline-block;padding:8px 24px;border:2px solid var(--accent);border-radius:8px;background:var(--accent);color:#fff;font-family:inherit;font-size:.9rem;font-weight:600;cursor:pointer;margin:0 4px;transition:all .15s}
.timer-btn:hover{background:#a00d24}
.timer-btn.outline{background:transparent;color:var(--accent)}
.timer-btn.outline:hover{background:var(--accent-light)}

/* SAT PRACTICE */
.sat-q{background:var(--paper);border:1px solid var(--border);border-radius:12px;padding:16px;margin-bottom:10px}
.sat-passage{background:var(--surface);border-left:3px solid var(--craft);padding:12px 14px;border-radius:0 8px 8px 0;font-size:.9rem;line-height:1.75;margin-bottom:12px;color:#ddd;font-style:italic}
.sat-stem{font-size:.95rem;font-weight:600;margin-bottom:10px}
.sat-choices{display:flex;flex-direction:column;gap:6px}
.sat-choice{display:flex;align-items:flex-start;gap:10px;padding:10px 12px;background:var(--surface);border:2px solid var(--border);border-radius:10px;cursor:pointer;font-size:.88rem;transition:all .15s}
.sat-choice:hover:not(.sc-dis){border-color:var(--accent);background:var(--accent-light)}
.sat-choice.sc-correct{border-color:var(--correct);background:var(--correct-bg)}
.sat-choice.sc-wrong{border-color:var(--wrong);background:var(--wrong-bg)}
.sat-choice.sc-dis{pointer-events:none;opacity:.6}
.sat-choice.sc-correct.sc-dis,.sat-choice.sc-wrong.sc-dis{opacity:1}
.sc-letter{flex-shrink:0;width:24px;height:24px;display:flex;align-items:center;justify-content:center;border-radius:50%;background:var(--border);font-weight:700;font-size:.78rem}
.sat-choice.sc-correct .sc-letter{background:var(--correct);color:#fff}
.sat-choice.sc-wrong .sc-letter{background:var(--wrong);color:#fff}
.sat-fb{margin-top:8px;padding:10px;border-radius:8px;font-size:.82rem;line-height:1.5;display:none}
.sat-fb.show{display:block}
.sat-fb.sfb-correct{background:var(--correct-bg);border:1px solid var(--correct)}
.sat-fb.sfb-wrong{background:var(--wrong-bg);border:1px solid var(--wrong)}
.domain-tag{display:inline-block;font-size:.68rem;font-weight:700;letter-spacing:.5px;text-transform:uppercase;padding:2px 8px;border-radius:10px;margin-right:6px}
.ex-num{font-size:.78rem;font-weight:700;color:var(--muted);margin-bottom:6px}
.ex-score{text-align:center;padding:10px 0;font-size:.88rem;color:var(--muted)}

/* ERROR CODES */
.ec-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:8px;margin-bottom:16px}
.ec-card{background:var(--surface);border:1px solid var(--border);border-radius:10px;padding:12px;text-align:center}
.ec-code{font-family:'JetBrains Mono',monospace;font-size:1.4rem;font-weight:700;margin-bottom:2px}
.ec-name{font-weight:700;font-size:.85rem;margin-bottom:2px}
.ec-desc{font-size:.78rem;color:var(--muted);line-height:1.4}

/* ERROR LOG */
.elog{background:var(--surface);border:2px solid var(--convention);border-radius:14px;padding:22px;margin-bottom:16px}
.elog h3{font-family:'Cormorant Garamond',serif;font-size:1.2rem;margin-bottom:4px}
.elog-sub{font-size:.85rem;color:var(--muted);margin-bottom:14px}
.elog-row{display:grid;grid-template-columns:50px 1fr 1fr 1fr;gap:8px;align-items:center;padding:8px 0;border-bottom:1px solid var(--border);font-size:.84rem}
.elog-row:last-child{border-bottom:none}
.elog-head{font-weight:700;font-size:.72rem;text-transform:uppercase;letter-spacing:.5px;color:var(--muted)}
.elog-qnum{font-weight:700;font-family:'JetBrains Mono',monospace;text-align:center}
.elog-sel{padding:5px 8px;background:var(--paper);border:1px solid var(--border);border-radius:6px;color:var(--ink);font-family:inherit;font-size:.82rem;width:100%}
.elog-sel:focus{border-color:var(--convention);outline:none}
.elog-summary{margin-top:16px;padding:14px;background:var(--paper);border-radius:10px;border:1px solid var(--border)}
.elog-summary h4{margin-bottom:8px;font-size:.95rem}
.elog-bar-row{display:flex;align-items:center;gap:8px;margin-bottom:6px}
.elog-bar-label{width:120px;font-size:.82rem;color:#ccc;flex-shrink:0}
.elog-bar{flex:1;height:10px;background:var(--border);border-radius:5px;overflow:hidden}
.elog-bar-fill{height:100%;border-radius:5px;transition:width .3s}
.elog-bar-val{font-family:'JetBrains Mono',monospace;font-size:.78rem;color:var(--muted);width:30px;text-align:right;flex-shrink:0}

/* PROGRESS TRACKER */
.progress-ring-wrap{display:flex;align-items:center;gap:16px;margin-bottom:16px}
.progress-ring{position:relative;width:80px;height:80px}
.progress-ring svg{transform:rotate(-90deg)}
.progress-ring circle{fill:none;stroke-width:6}
.progress-ring .bg{stroke:var(--border)}
.progress-ring .fg{stroke:var(--correct);stroke-linecap:round;transition:stroke-dashoffset .5s ease}
.progress-ring .ring-label{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;font-family:'JetBrains Mono',monospace;font-size:1.1rem;font-weight:700}
.progress-stats{font-size:.88rem;color:#ccc;line-height:1.7}

/* COMPARISON TABLE */
.compare-table{width:100%;border-collapse:separate;border-spacing:0;margin-bottom:16px;font-size:.88rem}
.compare-table th{background:var(--surface);padding:10px 12px;text-align:left;font-size:.75rem;text-transform:uppercase;letter-spacing:1px;color:var(--muted);border-bottom:2px solid var(--border)}
.compare-table th:first-child{border-radius:10px 0 0 0}
.compare-table th:last-child{border-radius:0 10px 0 0}
.compare-table td{padding:10px 12px;border-bottom:1px solid var(--border)}
.compare-table tr:last-child td{border-bottom:none}
.compare-table tr:last-child td:first-child{border-radius:0 0 0 10px}
.compare-table tr:last-child td:last-child{border-radius:0 0 10px 0}
.compare-table .row-total{font-weight:700;background:var(--surface)}
.compare-input{width:50px;padding:4px 6px;background:var(--paper);border:1px solid var(--border);border-radius:6px;color:var(--ink);font-family:'JetBrains Mono',monospace;font-size:.85rem;text-align:center}
.compare-input:focus{border-color:var(--accent);outline:none}
.change-val{font-family:'JetBrains Mono',monospace;font-weight:700}
.change-pos{color:var(--correct)}
.change-neg{color:var(--wrong)}
.change-zero{color:var(--muted)}

/* REFLECTION */
.reflect-q{background:var(--paper);border-radius:10px;padding:14px;margin-bottom:8px;border:1px solid var(--border)}
.reflect-num{display:inline-flex;align-items:center;justify-content:center;width:24px;height:24px;border-radius:50%;background:var(--accent);color:#fff;font-weight:700;font-size:.75rem;margin-right:8px}
.reflect-text{font-size:.9rem;color:#ccc;display:inline}
.reflect-input{width:100%;padding:8px 10px;background:var(--surface);border:1px solid var(--border);border-radius:6px;color:var(--ink);font-family:inherit;font-size:.85rem;margin-top:8px;resize:vertical;min-height:40px}
.reflect-input:focus{border-color:var(--accent);outline:none}

/* CONFIDENCE METER */
.conf-meter{background:var(--surface);border:2px solid var(--express);border-radius:14px;padding:20px;margin-bottom:16px}
.conf-meter h3{font-family:'Cormorant Garamond',serif;font-size:1.15rem;margin-bottom:4px}
.conf-sub{font-size:.85rem;color:var(--muted);margin-bottom:14px}
.conf-row{display:flex;align-items:center;gap:10px;padding:8px 0;border-bottom:1px solid var(--border);font-size:.85rem}
.conf-row:last-child{border-bottom:none}
.conf-qnum{font-family:'JetBrains Mono',monospace;font-weight:700;width:36px;text-align:center;flex-shrink:0}
.conf-btns{display:flex;gap:4px;flex-shrink:0}
.conf-btn{padding:4px 10px;border:1px solid var(--border);border-radius:6px;background:var(--paper);color:var(--muted);font-size:.78rem;cursor:pointer;transition:all .15s;font-family:inherit}
.conf-btn:hover{border-color:var(--express)}
.conf-btn.cb-active{border-color:var(--express);background:var(--express-bg);color:var(--express);font-weight:600}
.conf-result{font-size:.78rem;color:var(--muted);flex:1;text-align:right}
.conf-summary{margin-top:14px;padding:12px;background:var(--paper);border-radius:10px;border:1px solid var(--border);font-size:.85rem;color:#ccc;line-height:1.7}

.btn{display:inline-block;background:var(--accent);color:#fff;font-family:inherit;font-size:.9rem;font-weight:600;padding:10px 24px;border:none;border-radius:8px;cursor:pointer;transition:all .2s}
.btn:hover{background:#a00d24}
.btn-sm{padding:8px 16px;font-size:.82rem}

.mod-nav{display:flex;justify-content:space-between;align-items:center;padding:20px 0;border-top:1px solid var(--border);margin-top:40px}
.mod-nav a{color:var(--accent);text-decoration:none;font-weight:600;font-size:.9rem;display:flex;align-items:center;gap:6px}
.mod-nav a:hover{text-decoration:underline}

@media(max-width:600px){.mod-meta{flex-wrap:wrap;gap:10px}.strat-grid{grid-template-columns:1fr}.ec-grid{grid-template-columns:1fr 1fr}.elog-row{grid-template-columns:40px 1fr 1fr}.compare-table{font-size:.8rem}.compare-input{width:42px}.conf-row{flex-wrap:wrap;gap:6px}}
</style>
</head>
<body>
<div class="top-stripe"></div>
<div class="container">
<a class="back-link" href="index.html">‚Üê Back to R&W Course</a>

<div class="mod-header">
  <div class="mod-badge">Session 4 ¬∑ Practice + Tracking</div>
  <h1>Practice Set 2 (Q11‚Äì20) & Progress Tracking</h1>
  <p class="subtitle">Expression of Ideas and Standard English Conventions, plus Set 1 vs. Set 2 comparison.</p>
  <div class="mod-meta">
    <span>‚è± 60 minutes</span>
    <span>üìã 6 sections</span>
    <span>üî® Phase 2: Building Confidence</span>
  </div>
</div>

<!-- STRATEGY RECAP -->
<div class="section">
  <div class="section-label">Part 1 ¬∑ 3 min</div>
  <h2>Quick Strategy Recap</h2>
  <p>Tap any card for a worked example.</p>
  <div class="strat-grid">
    <div class="strat-card" onclick="this.classList.toggle('open')">
      <div class="strat-name">Transitions</div>
      <div class="strat-desc">Read the sentence before AND after the blank. Determine the relationship: addition, contrast, cause-effect, or example.</div>
      <div class="strat-example">üí° "The data shows X. _____ Y is also evident." ‚Üí Both sentences point the same way = addition ‚Üí <strong>Moreover</strong>, not "However."</div>
    </div>
    <div class="strat-card" onclick="this.classList.toggle('open')">
      <div class="strat-name">Rhetorical Synthesis</div>
      <div class="strat-desc">Match the stated GOAL. Every element of the answer must serve that goal ‚Äî not just be true.</div>
      <div class="strat-example">üí° Goal: "emphasize personal benefits." An answer about community impact is true but doesn't match the goal ‚Üí eliminate.</div>
    </div>
    <div class="strat-card" onclick="this.classList.toggle('open')">
      <div class="strat-name">Subject-Verb Agreement</div>
      <div class="strat-desc">Find the TRUE subject ‚Äî ignore prepositional phrases, appositives, and interrupters.</div>
      <div class="strat-example">üí° "Each of the paintings ___" ‚Üí Subject = "Each" (singular), not "paintings." ‚Üí <strong>represents</strong>, not "represent."</div>
    </div>
    <div class="strat-card" onclick="this.classList.toggle('open')">
      <div class="strat-name">Comma Rules</div>
      <div class="strat-desc">Introductory clause ‚Üí comma. Never separate subject from verb. Serial comma before "and" in a list.</div>
      <div class="strat-example">üí° "After months of deliberation___the council agreed." ‚Üí Intro phrase = comma after "deliberation," ‚Üí <strong>deliberation,</strong></div>
    </div>
  </div>
</div>

<!-- CONFIDENCE PRE-ASSESSMENT -->
<div class="section">
  <div class="section-label">Part 1b ¬∑ Interactive</div>
  <h2>Confidence Tracker</h2>
  <p>As you answer each question, rate your confidence. After grading, you'll see where your confidence matches (or doesn't match) your accuracy ‚Äî a powerful self-awareness tool.</p>
  <div class="conf-meter" id="confMeter"></div>
</div>

<!-- TIMED PRACTICE -->
<div class="section">
  <div class="section-label">Part 2 ¬∑ 15 min</div>
  <h2>Practice Questions 11‚Äì20</h2>
  <p>This set covers <strong>Expression of Ideas</strong> (Q11‚Äì14) and <strong>Standard English Conventions</strong> (Q15‚Äì20). Try to answer all 10 within 15 minutes.</p>
  <div class="callout"><strong>Self-Correction Protocol:</strong> Try all questions FIRST without peeking at explanations. Use the confidence tracker above as you go. After you finish, click "Show Answers" to review.</div>
  <div class="timer-bar" id="timerBar">
    <div class="timer-display" id="timerDisplay">15:00</div>
    <button class="timer-btn" id="timerStart" onclick="startTimer()">‚ñ∂ Start Timer</button>
    <button class="timer-btn outline" onclick="resetTimer()">‚Ü∫ Reset</button>
  </div>
  <div id="satQuestions"></div>
  <div style="text-align:center;margin:12px 0">
    <button class="btn" id="showBtn" onclick="showAllAnswers()">Show All Answers</button>
  </div>
  <div id="satScore" class="ex-score"></div>
</div>

<!-- PROGRESS SNAPSHOT -->
<div class="section" id="progressSection" style="display:none">
  <div class="section-label">Score Snapshot</div>
  <h2>Your Performance</h2>
  <div class="progress-ring-wrap">
    <div class="progress-ring">
      <svg width="80" height="80"><circle class="bg" cx="40" cy="40" r="34"/><circle class="fg" id="ringFg" cx="40" cy="40" r="34" stroke-dasharray="213.6" stroke-dashoffset="213.6"/></svg>
      <div class="ring-label" id="ringLabel">‚Äî</div>
    </div>
    <div class="progress-stats" id="progressStats"></div>
  </div>
</div>

<!-- ERROR TYPE CODES -->
<div class="section">
  <div class="section-label">Part 3</div>
  <h2>Error Type Codes</h2>
  <p>Use these codes to classify every error in your error log below.</p>
  <div class="ec-grid">
    <div class="ec-card"><div class="ec-code" style="color:var(--wrong)">MR</div><div class="ec-name">Misread</div><div class="ec-desc">Didn't read the passage or question carefully enough</div></div>
    <div class="ec-card"><div class="ec-code" style="color:var(--craft)">CG</div><div class="ec-name">Content Gap</div><div class="ec-desc">Didn't know the grammar rule or vocabulary</div></div>
    <div class="ec-card"><div class="ec-code" style="color:var(--express)">TF</div><div class="ec-name">Trap/Distractor</div><div class="ec-desc">Wrong answer seemed right because it sounded logical</div></div>
    <div class="ec-card"><div class="ec-code" style="color:#f97316">RS</div><div class="ec-name">Rushed</div><div class="ec-desc">Went too fast and made a careless mistake</div></div>
    <div class="ec-card"><div class="ec-code" style="color:var(--info)">OT</div><div class="ec-name">Overthought</div><div class="ec-desc">Talked myself out of the right answer</div></div>
    <div class="ec-card"><div class="ec-code" style="color:var(--muted)">GS</div><div class="ec-name">Guessed</div><div class="ec-desc">Ran out of time or had no idea</div></div>
  </div>
</div>

<!-- ERROR LOG -->
<div class="section">
  <div class="section-label">Part 4 ¬∑ Interactive</div>
  <h2>Error Log</h2>
  <p>For every question you got wrong, select the domain and error type.</p>
  <div class="elog" id="errorLog"></div>
</div>

<!-- PROGRESS COMPARISON -->
<div class="section">
  <div class="section-label">Part 5 ¬∑ Progress Tracking</div>
  <h2>Compare Your Scores: Set 1 vs. Set 2</h2>
  <p>Enter your scores from Session 2 (Set 1) and this session (Set 2) to see your growth by domain. Set 2 scores auto-fill after grading.</p>
  <div class="card">
    <table class="compare-table" id="compareTable">
      <thead><tr><th>Domain</th><th>Set 1</th><th>Set 2</th><th>Change</th></tr></thead>
      <tbody id="compareBody"></tbody>
    </table>
  </div>
</div>

<!-- REFLECTION -->
<div class="section">
  <div class="section-label">Part 6</div>
  <h2>Reflection Questions</h2>
  <p>Answer these honestly ‚Äî they guide your study plan going forward.</p>
  <div id="reflections"></div>
  <div style="text-align:center;margin-top:12px">
    <button class="btn btn-sm" onclick="exportAll()">üìã Export Everything</button>
  </div>
</div>

<!-- KEY TAKEAWAYS -->
<div class="section">
  <div class="section-label">Summary</div>
  <h2>Key Takeaways</h2>
  <div class="card card-accent">
    <ol style="padding-left:18px;font-size:.93rem;color:#ccc;line-height:2">
      <li>Transitions must match the <em>logical relationship</em> between sentences ‚Äî not just sound good.</li>
      <li>Rhetorical Synthesis: the answer must serve the <em>stated goal</em>, not just be factually correct.</li>
      <li>Subject-verb agreement traps hide the true subject behind prepositional phrases ‚Äî always find the real subject.</li>
      <li>Never separate a subject from its verb with a comma. If you see "Subject, verb" ‚Äî that's wrong.</li>
      <li>Track your confidence: questions where you felt sure but got wrong reveal your biggest blind spots.</li>
    </ol>
  </div>
</div>

<div class="mod-nav">
  <a href="module-3.html">‚Üê Session 3: Set 2 (Q1‚Äì10)</a>
  <a href="module-5.html">Session 5: Advanced Challenge ‚Üí</a>
</div>
</div>

<script>
// ============ TIMER ============
let timerSec=900,timerInt=null,timerRunning=false;
function updateTimerUI(){
  const m=Math.floor(timerSec/60),s=timerSec%60;
  const el=document.getElementById('timerDisplay');
  el.textContent=`${m}:${s.toString().padStart(2,'0')}`;
  el.className='timer-display'+(timerRunning?' running':'')+(timerSec===0?' done':'')+(timerSec<=120&&timerSec>0?' warning':'');
}
function startTimer(){
  if(timerRunning)return;timerRunning=true;
  document.getElementById('timerStart').textContent='‚è∏ Running';
  timerInt=setInterval(()=>{
    if(timerSec>0){timerSec--;updateTimerUI();}
    else{clearInterval(timerInt);timerRunning=false;document.getElementById('timerStart').textContent='‚è∞ Time!';}
  },1000);
}
function resetTimer(){clearInterval(timerInt);timerRunning=false;timerSec=900;updateTimerUI();document.getElementById('timerStart').textContent='‚ñ∂ Start Timer';}
updateTimerUI();

// ============ PRACTICE QUESTIONS ============
const QS=[
  {domain:'Expression of Ideas',skill:'Transitions',
   passage:'The Great Barrier Reef supports enormous marine diversity: 1,500+ fish species, 400 coral species, 4,000 mollusk species. _________ the reef generates ~$6.4 billion annually through tourism, fishing, and research.',
   stem:'Which transition best completes the text?',
   choices:['On the other hand,','In addition to its ecological importance,','As a result of this diversity,','Despite these numbers,'],
   correct:1,fb:'"On the other hand" = contrast, but both sentences are positive (A). B is correct: first = ecological value, second = economic value ‚Äî "In addition to" connects two complementary dimensions. "As a result" implies causation that isn\'t stated (C). "Despite" implies contradiction that doesn\'t exist (D).'},
  {domain:'Expression of Ideas',skill:'Transitions',
   passage:'Students who broke assignments into smaller tasks completed work 3.2 days earlier. _________ those students also reported 40% lower stress levels.',
   stem:'Which transition best completes the text?',
   choices:['Surprisingly,','In contrast,','Moreover,','Nevertheless,'],
   correct:2,fb:'"Surprisingly" implies lower stress is unexpected ‚Äî but finishing earlier logically reduces stress (A). "In contrast" = opposition, but both findings point the same way (B). C is correct: "Moreover" adds a further supporting point. "Nevertheless" = concession, but the stress finding reinforces, not contradicts (D).'},
  {domain:'Expression of Ideas',skill:'Rhetorical Synthesis',
   passage:'Notes on space exploration: Gagarin orbited Earth 1961 (Soviet Union), Armstrong walked Moon 1969 (NASA), ISS occupied since 2000, SpaceX Crew Dragon carried astronauts to ISS 2020, Artemis aims to return to Moon by 2026.<br><br><em>Goal: Emphasize the shift from government-only to private company involvement.</em>',
   stem:'Which choice most effectively accomplishes this goal?',
   choices:['Space exploration achieved many milestones, from Gagarin\'s orbit to the ISS.','NASA\'s Artemis represents the next chapter in lunar exploration, building on Apollo.','For decades, space exploration was government-only ‚Äî Gagarin for USSR, Armstrong for NASA ‚Äî but in 2020, SpaceX became the first private company to transport astronauts to ISS, signaling a new era.','Gagarin orbited 1961, Armstrong walked 1969, ISS occupied 2000 ‚Äî humanity\'s ongoing commitment.'],
   correct:2,fb:'A lists government milestones but never introduces private companies. B discusses two NASA programs ‚Äî both government. C is correct: establishes the government era (Gagarin/USSR, Armstrong/NASA), then pivots to private sector (SpaceX 2020). "New era" explicitly frames the shift. D lists chronology as continuity, not a shift.'},
  {domain:'Expression of Ideas',skill:'Rhetorical Synthesis',
   passage:'A school newspaper editor wants to persuade students to volunteer in a community garden by emphasizing personal benefits.',
   stem:'Which choice most effectively accomplishes this goal?',
   choices:['The garden was established through a school-city partnership with a $15,000 state grant.','Volunteering offers hands-on biology experience, looks impressive on college apps, and provides an outdoor break from screens ‚Äî all while beautifying the neighborhood.','Community gardens reduce urban heat islands and increase property values by 9.4%.','The garden needs 20+ volunteers or it may not survive past its first year.'],
   correct:1,fb:'A describes institutional origins ‚Äî no personal benefits. B is correct: every element targets students personally ‚Äî academic enrichment, college prep, wellbeing. C gives community/economic benefits ‚Äî doesn\'t motivate teens personally. D uses guilt/urgency ‚Äî tells students what garden needs FROM them, not what they\'d GET.'},
  {domain:'Standard English',skill:'Noun Forms',
   passage:'The committee included the principal, two parents, three _________ and a student council representative.',
   stem:'Which conforms to Standard English?',
   choices:["teacher's,","teachers,","teachers',","teacher,"],
   correct:1,fb:'"Three" requires plural, and no possession is indicated ‚Äî they\'re committee members. B "teachers," is the simple plural. A is singular possessive, C is plural possessive, and D "three teacher" is grammatically impossible.'},
  {domain:'Standard English',skill:'Sentence Structure',
   passage:'The documentary about Arctic migration was praised by _________ for its cinematography and scientific accuracy.',
   stem:'Which conforms to Standard English?',
   choices:['critics, it was also nominated','critics and was also nominated','critics. Being also nominated','critics, also being nominated'],
   correct:1,fb:'A is a comma splice (two independent clauses joined only by comma). B is correct: compound predicate ‚Äî the documentary (1) was praised and (2) was also nominated. Both verbs share the same subject. C creates a fragment after the period. D grammatically attaches "nominated" to "critics" instead of the documentary.'},
  {domain:'Standard English',skill:'Comma Usage',
   passage:'By the time the rescue team arrived at the _________ already been evacuated to a nearby community center.',
   stem:'Which conforms to Standard English?',
   choices:['village, most residents had','village most residents had','village; most residents had','village. Most residents had'],
   correct:0,fb:'A is correct: comma correctly separates the introductory dependent clause ("By the time...village") from the main clause. B has no comma = run-on. C uses a semicolon, but "By the time..." is dependent, not independent. D creates a fragment: "By the time the rescue team arrived at the village." is not a complete thought.'},
  {domain:'Standard English',skill:'Essential Clauses',
   passage:'The architect who designed the new city _________ known for incorporating natural light and green spaces into urban buildings.',
   stem:'Which conforms to Standard English?',
   choices:['library, she is','library is','library, is','library; is'],
   correct:1,fb:'A is a comma splice ‚Äî "she" starts a new clause when the subject "architect" is already established. B is correct: "who designed the new city library" is an essential clause (no commas needed), and "is" directly follows as the main verb. C incorrectly separates subject from verb. D creates a fragment after the semicolon.'},
  {domain:'Standard English',skill:'Subject-Verb Agreement',
   passage:'Each of the paintings in the museum\'s new exhibit _________ a different period in the artist\'s career.',
   stem:'Which conforms to Standard English?',
   choices:['represent','are representing','represents','have represented'],
   correct:2,fb:'"Each" is always singular ‚Äî don\'t be tricked by "paintings." A "represent" is plural. B "are representing" is plural progressive. C is correct: "Each" = singular indefinite pronoun ‚Üí "represents." D "have represented" uses plural "have" instead of singular "has."'},
  {domain:'Standard English',skill:'Comma Usage',
   passage:'After months of _________ the student council finally agreed on a plan to redesign the school courtyard.',
   stem:'Which conforms to Standard English?',
   choices:['deliberation,','deliberation;','deliberation','deliberation.'],
   correct:0,fb:'A is correct: comma after introductory prepositional phrase ("After months of deliberation") separates it from the main clause. B uses a semicolon, but this is a prepositional phrase, not an independent clause. C has no punctuation, creating an unclear boundary. D creates a fragment.'},
];
const DOM_COLORS={
  'Expression of Ideas':{bg:'rgba(251,191,36,.15)',color:'#fbbf24'},
  'Standard English':{bg:'rgba(248,113,113,.15)',color:'#f87171'},
};
let satAns={};let answersShown=false;
function renderSAT(){
  document.getElementById('satQuestions').innerHTML=QS.map((q,i)=>{
    const ans=satAns[i];const has=ans!==undefined;const showFb=answersShown&&has;
    const dc=DOM_COLORS[q.domain]||{bg:'rgba(200,16,46,.15)',color:'#C8102E'};
    return `<div class="sat-q">
      <div class="ex-num"><span class="domain-tag" style="background:${dc.bg};color:${dc.color}">${q.domain}</span> ${q.skill} ¬∑ Q${i+11}</div>
      <div class="sat-passage">${q.passage}</div>
      <div class="sat-stem">${q.stem}</div>
      <div class="sat-choices">${q.choices.map((ch,ci)=>{
        let cls='sat-choice';
        if(answersShown&&has){cls+=' sc-dis';if(ci===q.correct)cls+=' sc-correct';else if(ci===ans&&ci!==q.correct)cls+=' sc-wrong';}
        return `<div class="${cls}" style="${has&&ci===ans&&!answersShown?'border-color:var(--accent);background:var(--accent-light)':''}" onclick="pickAns(${i},${ci})"><div class="sc-letter">${'ABCD'[ci]}</div><div>${ch}</div></div>`;
      }).join('')}</div>
      <div class="sat-fb${showFb?' show':''}${showFb?(ans===q.correct?' sfb-correct':' sfb-wrong'):''}">${showFb?(ans===q.correct?'‚úì Correct! ':'‚úó Incorrect. ')+q.fb:''}</div></div>`;
  }).join('');
  if(answersShown){
    const t=QS.length,c=Object.entries(satAns).filter(([i,v])=>v===QS[i].correct).length;
    document.getElementById('satScore').innerHTML=`<strong style="color:${c>=8?'var(--correct)':c>=5?'var(--express)':'var(--wrong)'}">${c}/${t} correct</strong> (${Math.round(c/t*100)}%)`;
    document.getElementById('showBtn').style.display='none';
    showProgress(c,t);
    renderErrorLog();
    renderConfidence();
    autoFillSet2();
  }
}
function pickAns(i,ci){if(answersShown)return;satAns[i]=ci;renderSAT();}
function showAllAnswers(){
  if(Object.keys(satAns).length<QS.length){
    const missing=QS.length-Object.keys(satAns).length;
    if(!confirm(`You have ${missing} unanswered question${missing>1?'s':''}. Show answers anyway?`))return;
  }
  answersShown=true;if(timerRunning){clearInterval(timerInt);timerRunning=false;}
  renderSAT();
}
renderSAT();

// ============ PROGRESS RING ============
function showProgress(correct,total){
  const pct=Math.round(correct/total*100);
  const circ=213.6;const offset=circ-(pct/100*circ);
  document.getElementById('progressSection').style.display='block';
  document.getElementById('ringLabel').textContent=pct+'%';
  setTimeout(()=>{document.getElementById('ringFg').style.strokeDashoffset=offset;},100);
  const domStats={};
  QS.forEach((q,i)=>{
    if(!domStats[q.domain])domStats[q.domain]={total:0,correct:0};
    domStats[q.domain].total++;
    if(satAns[i]===q.correct)domStats[q.domain].correct++;
  });
  let h=`<strong>${correct}/${total}</strong> overall<br>`;
  Object.entries(domStats).forEach(([dom,s])=>{
    const dc=DOM_COLORS[dom]||{color:'#ccc'};
    h+=`<span style="color:${dc.color}">${dom}:</span> ${s.correct}/${s.total}<br>`;
  });
  document.getElementById('progressStats').innerHTML=h;
}

// ============ CONFIDENCE TRACKER ============
const CONF_LEVELS=['Sure','Maybe','Guess'];
const confData={};const CFK='pp_p89rw_s4_conf';
function loadConf(){const d=localStorage.getItem(CFK);return d?JSON.parse(d):{};}
function saveConf(){localStorage.setItem(CFK,JSON.stringify(confData));}
function setConf(i,level){confData[i]=level;saveConf();renderConfidence();}

function renderConfidence(){
  const cd=Object.keys(confData).length>0?confData:loadConf();
  Object.assign(confData,cd);
  let h=`<h3>üéØ Confidence Tracker</h3><div class="conf-sub">For each question, mark how confident you felt in your answer.</div>`;
  QS.forEach((q,i)=>{
    h+=`<div class="conf-row"><div class="conf-qnum">Q${i+11}</div><div class="conf-btns">`;
    CONF_LEVELS.forEach(lv=>{
      const active=confData[i]===lv?' cb-active':'';
      h+=`<button class="conf-btn${active}" onclick="setConf(${i},'${lv}')">${lv}</button>`;
    });
    h+=`</div>`;
    if(answersShown&&satAns[i]!==undefined&&confData[i]){
      const correct=satAns[i]===QS[i].correct;
      const conf=confData[i];
      let tag='';
      if(correct&&conf==='Sure')tag='<span style="color:var(--correct)">‚úì Calibrated</span>';
      else if(!correct&&conf==='Sure')tag='<span style="color:var(--wrong)">‚ö† Blind spot</span>';
      else if(correct&&conf==='Guess')tag='<span style="color:var(--info)">‚òÖ Lucky or instinct?</span>';
      else if(!correct&&conf==='Guess')tag='<span style="color:var(--muted)">Expected</span>';
      else if(correct)tag='<span style="color:var(--correct)">‚úì Nice</span>';
      else tag='<span style="color:var(--express)">Review this one</span>';
      h+=`<div class="conf-result">${tag}</div>`;
    }
    h+=`</div>`;
  });
  if(answersShown){
    const blindSpots=QS.filter((_,i)=>confData[i]==='Sure'&&satAns[i]!==undefined&&satAns[i]!==QS[i].correct).length;
    const calibrated=QS.filter((_,i)=>confData[i]==='Sure'&&satAns[i]!==undefined&&satAns[i]===QS[i].correct).length;
    const luckyGuesses=QS.filter((_,i)=>confData[i]==='Guess'&&satAns[i]!==undefined&&satAns[i]===QS[i].correct).length;
    h+=`<div class="conf-summary"><strong>Confidence Summary:</strong><br>`;
    h+=`‚úì Calibrated (sure & correct): <strong>${calibrated}</strong><br>`;
    h+=`‚ö† Blind spots (sure & wrong): <strong style="color:${blindSpots>0?'var(--wrong)':'var(--correct)'};">${blindSpots}</strong>${blindSpots>0?' ‚Äî these are your highest-priority review items':''}<br>`;
    h+=`‚òÖ Lucky guesses (guessed & correct): <strong>${luckyGuesses}</strong>${luckyGuesses>0?' ‚Äî study the underlying skill to lock in this knowledge':''}`;
    h+=`</div>`;
  }
  document.getElementById('confMeter').innerHTML=h;
}
renderConfidence();

// ============ ERROR LOG ============
const DOMAINS=['Expression of Ideas','Standard English','Info & Ideas','Craft & Structure'];
const ETYPES=['MR ‚Äî Misread','CG ‚Äî Content Gap','TF ‚Äî Trap/Distractor','RS ‚Äî Rushed','OT ‚Äî Overthought','GS ‚Äî Guessed'];
const ETYPE_COLORS={'MR':'var(--wrong)','CG':'var(--craft)','TF':'var(--express)','RS':'#f97316','OT':'var(--info)','GS':'var(--muted)'};
const ELK='pp_p89rw_s4_elog';
function loadEL(){return JSON.parse(localStorage.getItem(ELK)||'{}');}
function saveEL(d){localStorage.setItem(ELK,JSON.stringify(d));}

function renderErrorLog(){
  const el=loadEL();
  const wrongQs=[];
  if(answersShown){QS.forEach((q,i)=>{if(satAns[i]!==undefined&&satAns[i]!==q.correct)wrongQs.push(i);});}
  let html=`<h3>üìã Error Log</h3><div class="elog-sub">${wrongQs.length===0&&answersShown?'No errors! Great work!':'Log each error with its domain and error type.'}</div>`;
  if(wrongQs.length>0){
    html+=`<div class="elog-row"><div class="elog-head">Q#</div><div class="elog-head">Domain</div><div class="elog-head">Error Type</div><div class="elog-head">Skill</div></div>`;
    wrongQs.forEach(i=>{
      const q=QS[i];
      html+=`<div class="elog-row"><div class="elog-qnum">${i+11}</div><div><select class="elog-sel" onchange="updateEL(${i},'dom',this.value)"><option value="">‚Äî</option>${DOMAINS.map(d=>`<option${el[i]?.dom===d?' selected':''}>${d}</option>`).join('')}</select></div><div><select class="elog-sel" onchange="updateEL(${i},'et',this.value)"><option value="">‚Äî</option>${ETYPES.map(e=>`<option${el[i]?.et===e?' selected':''}>${e}</option>`).join('')}</select></div><div style="font-size:.8rem;color:var(--muted)">${q.skill}</div></div>`;
    });
    const etCounts={};const domCounts={};
    wrongQs.forEach(i=>{const d=el[i];if(!d)return;if(d.et){const code=d.et.split(' ‚Äî ')[0];etCounts[code]=(etCounts[code]||0)+1;}if(d.dom){domCounts[d.dom]=(domCounts[d.dom]||0)+1;}});
    const maxET=Math.max(1,...Object.values(etCounts));const maxDom=Math.max(1,...Object.values(domCounts));
    html+=`<div class="elog-summary"><h4>Error Summary</h4>`;
    if(Object.keys(etCounts).length>0){
      html+=`<div style="font-size:.78rem;font-weight:700;color:var(--muted);margin-bottom:6px;text-transform:uppercase;letter-spacing:1px">By Type</div>`;
      Object.entries(etCounts).sort((a,b)=>b[1]-a[1]).forEach(([k,v])=>{html+=`<div class="elog-bar-row"><div class="elog-bar-label" style="color:${ETYPE_COLORS[k]||'var(--muted)'}">${k}</div><div class="elog-bar"><div class="elog-bar-fill" style="width:${v/maxET*100}%;background:${ETYPE_COLORS[k]||'var(--muted)'}"></div></div><div class="elog-bar-val">${v}</div></div>`;});
    }
    if(Object.keys(domCounts).length>0){
      html+=`<div style="font-size:.78rem;font-weight:700;color:var(--muted);margin:10px 0 6px;text-transform:uppercase;letter-spacing:1px">By Domain</div>`;
      const dc2={'Expression of Ideas':'var(--express)','Standard English':'var(--convention)','Info & Ideas':'var(--info)','Craft & Structure':'var(--craft)'};
      Object.entries(domCounts).sort((a,b)=>b[1]-a[1]).forEach(([k,v])=>{html+=`<div class="elog-bar-row"><div class="elog-bar-label" style="color:${dc2[k]||'#ccc'}">${k}</div><div class="elog-bar"><div class="elog-bar-fill" style="width:${v/maxDom*100}%;background:${dc2[k]||'var(--muted)'}"></div></div><div class="elog-bar-val">${v}</div></div>`;});
    }
    html+=`</div>`;
  } else if(!answersShown){
    html+=`<p style="color:var(--muted);font-size:.88rem;text-align:center;padding:20px 0">Complete the practice questions and click "Show Answers" to populate the error log.</p>`;
  }
  document.getElementById('errorLog').innerHTML=html;
}
function updateEL(i,field,val){const d=loadEL();if(!d[i])d[i]={};d[i][field]=val;saveEL(d);renderErrorLog();}
renderErrorLog();

// ============ COMPARISON TABLE ============
const COMP_ROWS=[
  {domain:'Information & Ideas',s1Max:5,s2Max:6},
  {domain:'Craft & Structure',s1Max:3,s2Max:4},
  {domain:'Expression of Ideas',s1Max:4,s2Max:4},
  {domain:'Std. English Conventions',s1Max:8,s2Max:6},
];
const COMPK='pp_p89rw_s4_compare';
function loadComp(){return JSON.parse(localStorage.getItem(COMPK)||'{}');}
function saveComp(d){localStorage.setItem(COMPK,JSON.stringify(d));}

function autoFillSet2(){
  // auto-calculate set 2 domain scores from Q1-10 (session 3) + Q11-20 (this session)
  // This session's domains: Expression of Ideas Q11-14 (4), Standard English Q15-20 (6)
  // Session 3 had: Info & Ideas Q1-6 (6), Craft & Structure Q7-10 (4)
  const d=loadComp();
  // Set 2 Expression of Ideas: Q11-14 (indices 0-3 here)
  let eoiCorrect=0;for(let i=0;i<4;i++){if(satAns[i]===QS[i].correct)eoiCorrect++;}
  d['Expression of Ideas_s2']=eoiCorrect;
  // Set 2 Standard English: Q15-20 (indices 4-9 here)
  let seCorrect=0;for(let i=4;i<10;i++){if(satAns[i]===QS[i].correct)seCorrect++;}
  d['Std. English Conventions_s2']=seCorrect;
  saveComp(d);
  renderCompare();
}

function renderCompare(){
  const d=loadComp();
  let html='';let s1Total=0,s2Total=0,s1Max=0,s2Max=0;
  COMP_ROWS.forEach(r=>{
    const s1=d[r.domain+'_s1'];const s2=d[r.domain+'_s2'];
    const s1v=s1!==undefined?parseInt(s1):NaN;const s2v=s2!==undefined?parseInt(s2):NaN;
    const diff=(!isNaN(s1v)&&!isNaN(s2v))?(s2v-s1v):NaN;
    if(!isNaN(s1v))s1Total+=s1v;if(!isNaN(s2v))s2Total+=s2v;
    s1Max+=r.s1Max;s2Max+=r.s2Max;
    const diffStr=isNaN(diff)?'‚Äî':(diff>0?`<span class="change-val change-pos">+${diff}</span>`:diff<0?`<span class="change-val change-neg">${diff}</span>`:`<span class="change-val change-zero">0</span>`);
    html+=`<tr>
      <td style="color:#ccc">${r.domain}</td>
      <td><input class="compare-input" type="number" min="0" max="${r.s1Max}" value="${s1!==undefined?s1:''}" placeholder="‚Äî" onchange="updateComp('${r.domain}_s1',this.value)"> <span style="color:var(--muted);font-size:.78rem">/ ${r.s1Max}</span></td>
      <td><input class="compare-input" type="number" min="0" max="${r.s2Max}" value="${s2!==undefined?s2:''}" placeholder="‚Äî" onchange="updateComp('${r.domain}_s2',this.value)"> <span style="color:var(--muted);font-size:.78rem">/ ${r.s2Max}</span></td>
      <td>${diffStr}</td></tr>`;
  });
  const totalDiff=(!isNaN(s1Total)&&!isNaN(s2Total)&&s1Total+s2Total>0)?(s2Total-s1Total):NaN;
  const totalStr=isNaN(totalDiff)?'‚Äî':(totalDiff>0?`<span class="change-val change-pos">+${totalDiff}</span>`:totalDiff<0?`<span class="change-val change-neg">${totalDiff}</span>`:`<span class="change-val change-zero">0</span>`);
  html+=`<tr class="row-total"><td>TOTAL</td><td>${s1Total||'‚Äî'} / ${s1Max}</td><td>${s2Total||'‚Äî'} / ${s2Max}</td><td>${totalStr}</td></tr>`;
  document.getElementById('compareBody').innerHTML=html;
}
function updateComp(key,val){const d=loadComp();d[key]=val?parseInt(val):undefined;saveComp(d);renderCompare();}
renderCompare();

// ============ REFLECTIONS ============
const REFLECT_QS=[
  'Which domain improved the most from Set 1? Why do you think?',
  'Which domain still needs the most work? What specific skills?',
  'Did you use "Second Half First" strategy? Did it help pacing?',
  'Were there questions where you narrowed to two choices? What decided it?',
  'Look at your confidence tracker: did any "blind spots" surprise you?',
  'What is ONE thing you\'ll do differently on Practice Set 3?',
];
const RK='pp_p89rw_s4_reflect';
function loadR(){return JSON.parse(localStorage.getItem(RK)||'{}');}
function saveR(d){localStorage.setItem(RK,JSON.stringify(d));}
function renderReflect(){
  const d=loadR();
  document.getElementById('reflections').innerHTML=REFLECT_QS.map((q,i)=>`
    <div class="reflect-q"><span class="reflect-num">${i+1}</span><span class="reflect-text">${q}</span>
    <textarea class="reflect-input" placeholder="Your answer..." oninput="saveReflect(${i},this.value)">${d[i]||''}</textarea></div>`).join('');
}
function saveReflect(i,v){const d=loadR();d[i]=v;saveR(d);}
renderReflect();

// ============ EXPORT ============
function exportAll(){
  const el=loadEL();const r=loadR();const comp=loadComp();
  let t='SESSION 4 ‚Äî FULL REPORT ‚Äî PantherPrep PSAT 8/9 R&W\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n\n';
  if(answersShown){
    const c=Object.entries(satAns).filter(([i,v])=>v===QS[i].correct).length;
    t+=`SET 2 (Q11-20) SCORE: ${c}/${QS.length} (${Math.round(c/QS.length*100)}%)\n\n`;
  }
  t+='CONFIDENCE TRACKER:\n';
  QS.forEach((_,i)=>{
    const conf=confData[i]||'‚Äî';
    const correct=answersShown&&satAns[i]!==undefined?satAns[i]===QS[i].correct:'?';
    t+=`  Q${i+11}: ${conf} ‚Üí ${correct===true?'‚úì':correct===false?'‚úó':'?'}\n`;
  });
  t+='\nERROR LOG:\n';
  Object.entries(el).forEach(([i,d])=>{t+=`  Q${parseInt(i)+11}: ${d.dom||'‚Äî'} | ${d.et||'‚Äî'} | ${QS[i]?.skill||''}\n`;});
  t+='\nSET 1 vs SET 2 COMPARISON:\n';
  COMP_ROWS.forEach(r=>{
    const s1=comp[r.domain+'_s1'];const s2=comp[r.domain+'_s2'];
    t+=`  ${r.domain}: Set1=${s1!==undefined?s1:'‚Äî'}/${r.s1Max}  Set2=${s2!==undefined?s2:'‚Äî'}/${r.s2Max}\n`;
  });
  t+='\nREFLECTIONS:\n';
  const rd=loadR();
  REFLECT_QS.forEach((q,i)=>{t+=`  ${i+1}. ${q}\n     ‚Üí ${rd[i]||'(not answered)'}\n\n`;});
  navigator.clipboard.writeText(t).then(()=>alert('Copied to clipboard!')).catch(()=>{const a=document.createElement('textarea');a.value=t;document.body.appendChild(a);a.select();document.execCommand('copy');document.body.removeChild(a);alert('Copied!');});
}
</script>
<script src="/translate.js"></script></body>
</html>
