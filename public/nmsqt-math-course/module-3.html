<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Module 3: Advanced Math â€” PSAT/NMSQT Math â€” PantherPrep</title>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,600;0,700;1,400&family=Source+Sans+3:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
<style>
:root{--ink:#f0f0f0;--paper:#121212;--accent:#C8102E;--accent-light:rgba(200,16,46,.15);--border:#2a2a2a;--muted:#999;--surface:#1a1a1a;--math:#60a5fa;--math-bg:rgba(96,165,250,.1);--algebra:#34d399;--algebra-bg:rgba(52,211,153,.1);--advanced:#a78bfa;--adv-bg:rgba(167,139,250,.1);--psda:#fbbf24;--geotrig:#f87171;--correct:#22c55e;--correct-bg:rgba(34,197,94,.12);--wrong:#ef4444;--wrong-bg:rgba(239,68,68,.12);--danger:#ef4444;--danger-bg:rgba(239,68,68,.08)}
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Source Sans 3',sans-serif;background:var(--paper);color:var(--ink);line-height:1.65;overflow-x:hidden}
.top-stripe{height:4px;background:linear-gradient(90deg,#C8102E 0%,#C8102E 50%,#fff 50%,#fff 100%);position:fixed;top:0;left:0;right:0;z-index:100}

/* â”€â”€ Screen System â”€â”€ */
.screen{display:none;opacity:0;transition:opacity .4s ease;min-height:100vh}
.screen.active{display:block;opacity:1}
.screen.fade-in{animation:fadeIn .4s ease forwards}
.screen.fade-out{animation:fadeOut .3s ease forwards}
@keyframes fadeIn{from{opacity:0;transform:translateY(12px)}to{opacity:1;transform:translateY(0)}}
@keyframes fadeOut{from{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(-12px)}}

/* â”€â”€ Progress Dots â”€â”€ */
.screen-progress{position:fixed;top:12px;left:50%;transform:translateX(-50%);display:flex;gap:8px;z-index:101;padding:6px 14px;background:rgba(18,18,18,.85);backdrop-filter:blur(8px);border-radius:20px;border:1px solid var(--border)}
.screen-dot{width:8px;height:8px;border-radius:50%;background:var(--border);transition:all .3s;cursor:pointer}
.screen-dot.completed{background:var(--advanced)}
.screen-dot.current{background:var(--accent);box-shadow:0 0 8px rgba(200,16,46,.5);transform:scale(1.25)}
.screen-dot:hover{transform:scale(1.3)}

/* â”€â”€ Container â”€â”€ */
.container{max-width:800px;margin:0 auto;padding:20px 20px 60px}

/* â”€â”€ Welcome Screen â”€â”€ */
.welcome-screen{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100vh;padding:40px 20px;text-align:center}
.welcome-badge{display:inline-block;background:var(--advanced);color:#fff;font-size:11px;font-weight:700;letter-spacing:2px;text-transform:uppercase;padding:5px 14px;border-radius:16px;margin-bottom:18px}
.welcome-screen h1{font-family:'Cormorant Garamond',serif;font-size:clamp(2rem,5vw,3rem);font-weight:700;margin-bottom:8px;max-width:600px}
.welcome-sub{color:var(--muted);font-size:1.05rem;max-width:500px;margin:0 auto 32px}
.welcome-meta{display:flex;gap:24px;justify-content:center;margin-bottom:36px;font-size:.85rem;color:var(--muted)}
.preview-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:12px;max-width:600px;width:100%;margin-bottom:40px}
.preview-card{background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:16px 14px;text-align:left;transition:all .2s}
.preview-card:hover{border-color:var(--advanced);transform:translateY(-2px)}
.preview-icon{font-size:1.4rem;margin-bottom:8px}
.preview-title{font-size:.82rem;font-weight:700;margin-bottom:3px}
.preview-desc{font-size:.72rem;color:var(--muted);line-height:1.4}
.start-btn{padding:14px 36px;background:var(--advanced);color:#fff;border:none;border-radius:10px;font-size:1rem;font-weight:700;cursor:pointer;transition:all .2s;font-family:'Source Sans 3',sans-serif}
.start-btn:hover{filter:brightness(1.15);transform:translateY(-1px);box-shadow:0 6px 20px rgba(167,139,250,.3)}

/* â”€â”€ Retrieval Warm-Up â”€â”€ */
.warmup-container{max-width:600px;margin:0 auto;padding:60px 20px}
.warmup-header{text-align:center;margin-bottom:32px}
.warmup-badge{display:inline-block;background:var(--psda);color:#000;font-size:10px;font-weight:700;letter-spacing:2px;text-transform:uppercase;padding:4px 12px;border-radius:12px;margin-bottom:12px}
.warmup-dots{display:flex;gap:8px;justify-content:center;margin-top:16px}
.warmup-dot{width:10px;height:10px;border-radius:50%;background:var(--border);transition:all .3s}
.warmup-dot.done-correct{background:var(--correct)}
.warmup-dot.done-wrong{background:var(--wrong)}
.warmup-dot.active{background:var(--psda);box-shadow:0 0 8px rgba(251,191,36,.4)}
.warmup-q{background:var(--surface);border:1px solid var(--border);border-radius:14px;padding:24px;margin-bottom:16px}
.warmup-q .source-tag{font-size:.7rem;color:var(--psda);font-weight:700;letter-spacing:1px;text-transform:uppercase;margin-bottom:8px}
.warmup-q .q-text{font-size:.95rem;line-height:1.7;margin-bottom:14px}
.warmup-choices{display:flex;flex-direction:column;gap:8px}
.warmup-choice{display:flex;align-items:center;gap:10px;padding:11px 14px;background:var(--paper);border:2px solid var(--border);border-radius:8px;cursor:pointer;font-size:.88rem;transition:all .15s}
.warmup-choice:hover:not(.wu-dis){border-color:var(--psda);background:rgba(251,191,36,.05)}
.warmup-choice.wu-correct{border-color:var(--correct);background:var(--correct-bg)}
.warmup-choice.wu-wrong{border-color:var(--wrong);background:var(--wrong-bg)}
.warmup-choice.wu-dis{pointer-events:none;opacity:.7}
.warmup-choice.wu-correct{opacity:1}
.warmup-fb{font-size:.85rem;color:var(--muted);line-height:1.6;margin-top:12px;padding:10px;background:var(--paper);border-radius:8px;border-left:3px solid var(--correct)}
.warmup-next{padding:10px 24px;background:var(--psda);color:#000;border:none;border-radius:8px;font-weight:700;cursor:pointer;font-size:.88rem;margin-top:12px;font-family:'Source Sans 3',sans-serif}
.warmup-next:hover{filter:brightness(1.1)}
.warmup-summary{text-align:center;padding:40px 20px}
.warmup-score{font-family:'JetBrains Mono',monospace;font-size:2.4rem;font-weight:700;color:var(--psda);margin:12px 0}
.warmup-continue{padding:12px 28px;background:var(--advanced);color:#fff;border:none;border-radius:8px;font-weight:700;cursor:pointer;font-size:.95rem;margin-top:20px;font-family:'Source Sans 3',sans-serif}
.warmup-continue:hover{filter:brightness(1.15)}

/* â”€â”€ Lesson Content â”€â”€ */
.back-link{display:inline-flex;align-items:center;gap:8px;color:var(--muted);font-size:.9rem;padding:8px 0;margin-top:8px;cursor:pointer;text-decoration:none}
.back-link:hover{color:var(--accent)}
.mod-header{padding:40px 0 30px;border-bottom:1px solid var(--border);margin-bottom:32px}
.mod-badge{display:inline-block;background:var(--advanced);color:#fff;font-size:11px;font-weight:700;letter-spacing:2px;text-transform:uppercase;padding:5px 14px;border-radius:16px;margin-bottom:14px}
.mod-header h1{font-family:'Cormorant Garamond',serif;font-size:clamp(1.8rem,4vw,2.6rem);font-weight:700;margin-bottom:6px}
.mod-header .subtitle{color:var(--muted);font-size:1rem}
.mod-meta{display:flex;gap:20px;margin-top:14px;font-size:.82rem;color:var(--muted)}
.section{margin-bottom:36px}
.section-label{font-size:.7rem;font-weight:700;letter-spacing:2px;text-transform:uppercase;color:var(--advanced);margin-bottom:6px}
.section h2{font-family:'Cormorant Garamond',serif;font-size:1.6rem;font-weight:700;margin-bottom:12px}
.section p{color:#ccc;font-size:.93rem;margin-bottom:12px;line-height:1.7}
.card{background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:18px 20px;margin-bottom:12px}
.card-accent{border-left:3px solid var(--accent)}
.callout{background:var(--accent-light);border:1px solid rgba(200,16,46,.3);border-radius:10px;padding:14px 18px;margin-bottom:16px;font-size:.9rem}
.callout strong{color:var(--accent)}
.callout-blue{background:var(--math-bg);border-color:rgba(96,165,250,.3)}
.callout-blue strong{color:var(--math)}
.callout-purple{background:var(--adv-bg);border-color:rgba(167,139,250,.3)}
.callout-purple strong{color:var(--advanced)}
.topic{background:var(--surface);border:1px solid var(--border);border-radius:14px;margin-bottom:10px;overflow:hidden;transition:all .2s}
.topic-header{display:flex;align-items:center;gap:12px;padding:14px 18px;cursor:pointer}
.topic-header:hover{background:rgba(167,139,250,.05)}
.topic-badge{width:36px;height:36px;border-radius:8px;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:.82rem;color:#fff;flex-shrink:0}
.topic-info{flex:1}
.topic-title{font-weight:700;font-size:.95rem}
.topic-sub{font-size:.82rem;color:var(--muted)}
.topic-arrow{color:var(--muted);font-size:.9rem;transition:transform .2s;flex-shrink:0}
.topic.open .topic-arrow{transform:rotate(90deg)}
.topic-body{display:none;padding:0 18px 18px;font-size:.93rem;color:#ccc;line-height:1.7}
.topic.open .topic-body{display:block}
.topic-body h4{color:var(--ink);font-size:.9rem;margin:14px 0 6px;text-transform:uppercase;letter-spacing:.5px}
.topic-body ul{padding-left:18px;margin-bottom:10px}
.topic-body li{margin-bottom:6px}

/* â”€â”€ Forms Grid â”€â”€ */
.forms-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-bottom:16px}
.form-card{background:var(--surface);border:2px solid var(--border);border-radius:12px;padding:16px;text-align:center;transition:all .3s}
.form-card:hover{transform:translateY(-2px)}
.form-name{font-weight:700;font-size:.9rem;margin-bottom:6px}
.form-eq{font-family:'JetBrains Mono',monospace;font-size:1rem;margin-bottom:8px}
.form-reveals{font-size:.82rem;color:var(--muted);line-height:1.5}

/* â”€â”€ Formula & Rules â”€â”€ */
.formula-box{background:var(--paper);border:2px solid var(--advanced);border-radius:10px;padding:14px 18px;margin:10px 0 14px;font-family:'JetBrains Mono',monospace;font-size:.88rem;line-height:2}
.formula-box .fn{color:var(--advanced);font-weight:700}
.formula{background:var(--paper);border:2px solid var(--advanced);border-radius:10px;padding:16px;text-align:center;margin:12px 0 16px}
.formula-main{font-family:'JetBrains Mono',monospace;font-size:1.15rem;color:var(--advanced);font-weight:700}
.formula-note{font-size:.82rem;color:var(--muted);margin-top:6px}
.rules-table{width:100%;border-collapse:collapse;font-size:.88rem;margin-bottom:16px}
.rules-table th,.rules-table td{padding:10px 12px;border:1px solid var(--border);text-align:left;vertical-align:top}
.rules-table th{background:var(--surface);font-weight:700;font-size:.78rem;text-transform:uppercase;letter-spacing:.5px;color:var(--muted)}
.rules-table td{color:#ccc}
.rules-table code{background:var(--adv-bg);color:var(--advanced);padding:1px 6px;border-radius:4px;font-family:'JetBrains Mono',monospace;font-size:.82rem}

/* â”€â”€ Exercises â”€â”€ */
.exercise{background:var(--surface);border:2px solid var(--advanced);border-radius:14px;padding:22px;margin-bottom:16px}
.exercise h3{font-family:'Cormorant Garamond',serif;font-size:1.15rem;margin-bottom:4px}
.exercise-sub{font-size:.82rem;color:var(--muted);margin-bottom:14px}
.ex-item{background:var(--paper);border-radius:10px;padding:14px;margin-bottom:10px;border:1px solid var(--border)}
.ex-prompt{font-size:.93rem;margin-bottom:10px;line-height:1.6;color:#ddd}
.ex-prompt code{background:var(--adv-bg);color:var(--advanced);padding:1px 6px;border-radius:4px;font-family:'JetBrains Mono',monospace;font-size:.85rem}
.ex-input-row{display:flex;align-items:center;gap:8px;flex-wrap:wrap}
.ex-input{padding:8px 12px;background:var(--surface);border:1px solid var(--border);border-radius:6px;color:var(--ink);font-family:'JetBrains Mono',monospace;font-size:.95rem;width:180px}
.ex-input:focus{border-color:var(--advanced);outline:none}
.ex-btn{padding:8px 16px;background:var(--advanced);color:#fff;border:none;border-radius:6px;cursor:pointer;font-family:inherit;font-size:.85rem;font-weight:600;transition:background .15s}
.ex-btn:hover{background:#8b6fe0}
.ex-fb{font-size:.85rem;padding:8px 12px;border-radius:6px;margin-top:8px;display:none;line-height:1.5}
.ex-fb.show{display:block}
.ex-fb.correct{background:var(--correct-bg);color:var(--correct);border:1px solid var(--correct)}
.ex-fb.wrong{background:var(--wrong-bg);color:var(--wrong);border:1px solid var(--wrong)}
.tier{font-size:.68rem;font-weight:700;letter-spacing:1px;text-transform:uppercase;padding:2px 8px;border-radius:4px;margin-right:8px}
.tier-1{background:rgba(52,211,153,.15);color:var(--algebra)}.tier-2{background:var(--math-bg);color:var(--math)}.tier-3{background:var(--adv-bg);color:var(--advanced)}

/* â”€â”€ Classify Options â”€â”€ */
.classify-opts{display:flex;flex-wrap:wrap;gap:6px;margin-bottom:4px}
.classify-opt{padding:6px 14px;background:var(--surface);border:2px solid var(--border);border-radius:8px;cursor:pointer;font-size:.82rem;transition:all .15s}
.classify-opt:hover:not(.cl-dis){border-color:var(--advanced);background:var(--adv-bg)}
.classify-opt.cl-correct{border-color:var(--correct);background:var(--correct-bg);color:var(--correct)}
.classify-opt.cl-wrong{border-color:var(--wrong);background:var(--wrong-bg);color:var(--wrong)}
.classify-opt.cl-dis{pointer-events:none;opacity:.7}

/* â”€â”€ MC Choices â”€â”€ */
.mc-choices{display:flex;flex-direction:column;gap:6px}
.mc-choice{padding:10px 14px;background:var(--surface);border:2px solid var(--border);border-radius:8px;cursor:pointer;font-size:.88rem;transition:all .15s;display:flex;align-items:center;gap:10px}
.mc-choice:hover:not(.mc-dis){border-color:var(--advanced);background:var(--adv-bg)}
.mc-letter{font-weight:700;color:var(--muted);min-width:24px;font-family:'JetBrains Mono',monospace}
.mc-choice.mc-correct{border-color:var(--correct);background:var(--correct-bg)}
.mc-choice.mc-wrong{border-color:var(--wrong);background:var(--wrong-bg)}
.mc-choice.mc-dis{pointer-events:none;opacity:.7}
.mc-choice.mc-correct .mc-letter{color:var(--correct)}.mc-choice.mc-wrong .mc-letter{color:var(--wrong)}
.mc-fb{font-size:.85rem;color:var(--muted);line-height:1.6;margin-top:8px;display:none;border-left:3px solid var(--correct);background:var(--paper);padding:8px 12px;border-radius:6px}.mc-fb.show{display:block}

/* â”€â”€ Score Bar â”€â”€ */
.score-bar{display:flex;align-items:center;gap:10px;margin-top:14px;padding-top:10px;border-top:1px solid var(--border)}
.score-bar-label{font-size:.72rem;font-weight:700;text-transform:uppercase;letter-spacing:1px;color:var(--muted)}
.score-bar-track{flex:1;height:6px;border-radius:3px;background:var(--border);overflow:hidden}
.score-bar-fill{height:100%;border-radius:3px;background:var(--correct);transition:width .4s ease}
.score-bar-val{font-family:'JetBrains Mono',monospace;font-size:.85rem;font-weight:700;color:var(--correct);min-width:36px;text-align:right}

/* â”€â”€ Speed Drill Timer â”€â”€ */
.drill-timer{font-family:'JetBrains Mono',monospace;font-size:1.1rem;text-align:center;padding:8px;border-radius:8px;margin-bottom:14px;background:var(--paper);color:var(--muted)}
.drill-timer.running{color:var(--psda)}
.drill-timer.done{color:var(--correct)}

/* â”€â”€ Discriminant â”€â”€ */
.disc-inputs{display:flex;gap:12px;align-items:center;flex-wrap:wrap;margin-bottom:14px}
.disc-inputs label{display:flex;align-items:center;gap:6px;font-weight:700;font-size:.9rem}
.disc-inputs input{width:60px;padding:6px;background:var(--paper);border:1px solid var(--border);border-radius:6px;color:var(--ink);font-family:'JetBrains Mono',monospace;text-align:center}
.disc-inputs input:focus{border-color:var(--advanced);outline:none}

/* â”€â”€ Trap Taxonomy â”€â”€ */
.trap-taxonomy{margin-bottom:24px}
.trap-card{background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:16px 18px;margin-bottom:10px;display:flex;gap:14px;align-items:flex-start;transition:all .2s}
.trap-card:hover{border-color:var(--accent);transform:translateX(3px)}
.trap-number{width:32px;height:32px;border-radius:8px;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:.78rem;color:#fff;flex-shrink:0}
.trap-card-body{flex:1}
.trap-card-name{font-weight:700;font-size:.92rem;margin-bottom:3px}
.trap-card-desc{font-size:.82rem;color:var(--muted);line-height:1.5}
.trap-card-example{font-size:.78rem;color:var(--math);font-family:'JetBrains Mono',monospace;margin-top:4px}

/* â”€â”€ Confidence Tags â”€â”€ */
.confidence-row{display:flex;gap:6px;margin-bottom:10px;flex-wrap:wrap}
.conf-tag{padding:5px 12px;border-radius:6px;font-size:.75rem;font-weight:600;cursor:pointer;border:2px solid var(--border);background:var(--surface);transition:all .15s;letter-spacing:.5px}
.conf-tag:hover{border-color:var(--advanced)}
.conf-tag.selected{border-color:var(--advanced);background:rgba(167,139,250,.12);color:var(--advanced)}
.conf-tag[data-conf="guessing"].selected{border-color:var(--psda);background:rgba(251,191,36,.12);color:var(--psda)}
.conf-tag[data-conf="unsure"].selected{border-color:var(--math);background:var(--math-bg);color:var(--math)}
.conf-tag[data-conf="confident"].selected{border-color:var(--advanced);background:rgba(167,139,250,.12);color:var(--advanced)}

/* â”€â”€ Timed Practice â”€â”€ */
.timer-bar{position:sticky;top:8px;z-index:50;background:rgba(18,18,18,.92);backdrop-filter:blur(8px);border:1px solid var(--border);border-radius:12px;padding:10px 16px;margin-bottom:20px;display:flex;align-items:center;gap:14px}
.timer-display{font-family:'JetBrains Mono',monospace;font-size:1.1rem;font-weight:700;color:var(--advanced);min-width:60px}
.timer-display.warning{color:var(--psda)}
.timer-display.danger{color:var(--wrong);animation:pulse 1s ease infinite}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:.5}}
.timer-track{flex:1;height:4px;background:var(--border);border-radius:2px;overflow:hidden}
.timer-fill{height:100%;background:var(--advanced);transition:width 1s linear;border-radius:2px}
.timer-fill.warning{background:var(--psda)}
.timer-fill.danger{background:var(--wrong)}
.timer-toggle{padding:5px 12px;background:var(--surface);border:1px solid var(--border);border-radius:6px;font-size:.75rem;color:var(--muted);cursor:pointer;font-family:'Source Sans 3',sans-serif;font-weight:600}
.timer-toggle:hover{border-color:var(--accent);color:var(--ink)}
.timer-toggle.active{background:var(--accent-light);border-color:var(--accent);color:var(--accent)}
.q-dots{display:flex;gap:4px}
.q-dot{width:8px;height:8px;border-radius:50%;background:var(--border)}
.q-dot.correct{background:var(--correct)}
.q-dot.wrong{background:var(--wrong)}

/* â”€â”€ Results â”€â”€ */
.results-section{margin-top:24px;padding:20px;background:var(--surface);border:1px solid var(--border);border-radius:14px}
.results-section h3{font-family:'Cormorant Garamond',serif;font-size:1.3rem;margin-bottom:14px}
.results-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:2px;margin-bottom:16px;background:var(--border);border-radius:10px;overflow:hidden}
.results-grid-header{background:var(--surface);padding:8px;text-align:center;font-size:.68rem;font-weight:700;text-transform:uppercase;letter-spacing:1px;color:var(--muted)}
.results-grid-cell{background:var(--paper);padding:10px 8px;text-align:center;font-size:.78rem;min-height:50px;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:4px}
.results-grid-cell.danger-cell{background:var(--danger-bg);border:1px solid rgba(239,68,68,.3)}
.cell-label{font-size:.65rem;color:var(--muted);font-weight:600}
.cell-dots{display:flex;gap:3px;flex-wrap:wrap;justify-content:center}
.cell-dot{width:8px;height:8px;border-radius:50%}
.difficulty-bars{display:flex;flex-direction:column;gap:8px;margin-bottom:16px}
.diff-row{display:flex;align-items:center;gap:10px}
.diff-label{font-size:.78rem;font-weight:600;min-width:60px}
.diff-track{flex:1;height:8px;background:var(--border);border-radius:4px;overflow:hidden}
.diff-fill{height:100%;border-radius:4px;transition:width .5s ease}
.diff-val{font-family:'JetBrains Mono',monospace;font-size:.78rem;font-weight:700;min-width:40px;text-align:right}
.error-category{padding:12px 16px;border-radius:10px;margin-bottom:8px;font-size:.85rem;line-height:1.6}
.error-category .error-label{font-weight:700;margin-bottom:4px}
.error-category .error-items{color:var(--muted);font-size:.82rem}

/* â”€â”€ Module Complete â”€â”€ */
.complete-screen{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100vh;padding:40px 20px;text-align:center}
.complete-icon{font-size:4rem;margin-bottom:16px;animation:celebrateBounce .6s ease}
@keyframes celebrateBounce{0%{transform:scale(0)}50%{transform:scale(1.2)}100%{transform:scale(1)}}
.complete-screen h1{font-family:'Cormorant Garamond',serif;font-size:clamp(1.8rem,4vw,2.4rem);margin-bottom:8px}
.complete-sub{color:var(--muted);font-size:1rem;margin-bottom:28px}
.takeaway-list{text-align:left;max-width:500px;width:100%;margin-bottom:32px}
.takeaway-item{display:flex;gap:10px;align-items:flex-start;padding:8px 0;font-size:.88rem;color:#ccc}
.takeaway-check{color:var(--correct);flex-shrink:0;font-weight:700}
.nav-cards{display:grid;grid-template-columns:1fr 1fr;gap:12px;max-width:500px;width:100%}
.nav-card{background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:18px;text-align:center;cursor:pointer;transition:all .2s;text-decoration:none;color:var(--ink)}
.nav-card:hover{border-color:var(--advanced);transform:translateY(-2px)}
.nav-card-label{font-size:.7rem;color:var(--muted);text-transform:uppercase;letter-spacing:1px;margin-bottom:4px}
.nav-card-title{font-weight:700;font-size:.95rem}

@media(max-width:600px){
  .mod-meta{flex-wrap:wrap;gap:10px}
  .forms-grid{grid-template-columns:1fr}
  .classify-opts{gap:4px}
  .preview-grid{grid-template-columns:1fr 1fr}
  .welcome-meta{flex-wrap:wrap;gap:12px}
  .results-grid{grid-template-columns:1fr;gap:1px}
  .nav-cards{grid-template-columns:1fr}
  .timer-bar{flex-wrap:wrap;gap:8px}
  .disc-inputs{flex-direction:column;align-items:flex-start}
}
</style>
</head>
<body>
<div class="top-stripe"></div>
<div class="screen-progress" id="screenProgress"></div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<!-- SCREEN 1: WELCOME                             -->
<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="screen active fade-in" id="screen-welcome">
  <div class="welcome-screen">
    <div class="welcome-badge">Module 3</div>
    <h1>Advanced Math â€” Quadratics, Polynomials & Nonlinear Functions</h1>
    <p class="welcome-sub">The backbone of Advanced Math â€” master these and you control ~35% of the test.</p>
    <div class="welcome-meta">
      <span>â± ~60 min</span>
      <span>ğŸ“‹ 4 topics</span>
      <span>ğŸ”¨ 5 exercises</span>
      <span>ğŸ¯ 8 practice Qs</span>
    </div>
    <div class="preview-grid">
      <div class="preview-card"><div class="preview-icon">ğŸ”„</div><div class="preview-title">Retrieval Warm-Up</div><div class="preview-desc">5 questions from Module 2 to activate prior knowledge</div></div>
      <div class="preview-card"><div class="preview-icon">ğŸ“</div><div class="preview-title">4 Core Topics</div><div class="preview-desc">Quadratics, polynomials, exponents, rational expressions</div></div>
      <div class="preview-card"><div class="preview-icon">ğŸ¯</div><div class="preview-title">Trap Taxonomy</div><div class="preview-desc">4 named traps that recur in Advanced Math</div></div>
      <div class="preview-card"><div class="preview-icon">ğŸ§®</div><div class="preview-title">5 Exercises</div><div class="preview-desc">Form ID, decision tree, factoring, speed drill, growth/decay</div></div>
      <div class="preview-card"><div class="preview-icon">â±</div><div class="preview-title">Timed Practice</div><div class="preview-desc">8 PSAT-style questions with optional timer</div></div>
      <div class="preview-card"><div class="preview-icon">ğŸ“Š</div><div class="preview-title">Error Analysis</div><div class="preview-desc">Difficulty breakdown + confidence matrix + trap patterns</div></div>
    </div>
    <button class="start-btn" onclick="goScreen(1)">Start Learning â†’</button>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<!-- SCREEN 2: RETRIEVAL WARM-UP                   -->
<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="screen" id="screen-warmup">
  <div class="warmup-container">
    <div class="warmup-header">
      <div class="warmup-badge">Retrieval Warm-Up</div>
      <h2 style="font-family:'Cormorant Garamond',serif;font-size:1.6rem">Module 2 Review</h2>
      <p style="color:var(--muted);font-size:.9rem;margin-top:4px">Quick recall from what you learned last time.</p>
      <div class="warmup-dots" id="warmupDots"></div>
    </div>
    <div id="warmupContent"></div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<!-- SCREEN 3: LESSON CONTENT                      -->
<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="screen" id="screen-lesson">
<div class="container">
<a class="back-link" href="index.html">â† Back to PSAT/NMSQT Math Course</a>
<div class="mod-header">
  <div class="mod-badge">Module 3</div>
  <h1>Advanced Math â€” Quadratics, Polynomials & Nonlinear Functions</h1>
  <p class="subtitle">The backbone of Advanced Math â€” master these and you control ~35% of the test.</p>
  <div class="mod-meta"><span>â± ~60 min</span><span>ğŸ“‹ 4 topics</span><span>ğŸ”¨ Phase 2: Build</span></div>
</div>

<div class="callout-purple callout"><strong>Quadratics are the single most tested topic in Advanced Math.</strong> If you learn nothing else in this module, learn the three quadratic forms and when to use each one. That single skill can be worth 40â€“60 points.</div>

<!-- ==================== TOPIC 3A: QUADRATICS ==================== -->
<div class="section">
  <div class="section-label">Topic 3A</div>
  <h2>Quadratic Equations â€” The Three Forms</h2>
  <p>The PSAT loves quadratics because they can be expressed in three different forms â€” and each form reveals different information. The key skill is knowing which form to use for each question.</p>

  <div class="forms-grid">
    <div class="form-card" style="border-color:var(--advanced)">
      <div class="form-name">Standard Form</div>
      <div class="form-eq" style="color:var(--advanced)">f(x) = axÂ² + bx + c</div>
      <div class="form-reveals">Reveals: <strong>y-intercept</strong> (c)<br>Direction (a &gt; 0 opens up)</div>
    </div>
    <div class="form-card" style="border-color:var(--algebra)">
      <div class="form-name">Factored Form</div>
      <div class="form-eq" style="color:var(--algebra)">f(x) = a(x âˆ’ r)(x âˆ’ s)</div>
      <div class="form-reveals">Reveals: <strong>x-intercepts</strong><br>(zeros/roots: r and s)</div>
    </div>
    <div class="form-card" style="border-color:var(--psda)">
      <div class="form-name">Vertex Form</div>
      <div class="form-eq" style="color:var(--psda)">f(x) = a(x âˆ’ h)Â² + k</div>
      <div class="form-reveals">Reveals: <strong>vertex</strong> (h, k)<br>(min or max point)</div>
    </div>
  </div>

  <div class="topic" onclick="this.classList.toggle('open')">
    <div class="topic-header"><div class="topic-title">Converting Between Forms</div><div class="topic-arrow">â–¸</div></div>
    <div class="topic-body">
      <p><strong>Standard â†’ Factored:</strong> Factor the expression. For xÂ² + 5x + 6, find two numbers that multiply to 6 and add to 5 â†’ (x + 2)(x + 3).</p>
      <p><strong>Standard â†’ Vertex:</strong> Complete the square, OR use the shortcut: vertex x-coordinate = âˆ’b/2a, then plug back in for y.</p>
      <p><strong>Factored â†’ Standard:</strong> FOIL (multiply it out).</p>
      <p><strong>Any form â†’ Solutions:</strong> Use the Quadratic Formula if factoring is difficult.</p>
    </div>
  </div>

  <div class="formula">
    <div class="formula-main">x = (âˆ’b Â± âˆš(bÂ² âˆ’ 4ac)) / 2a</div>
    <div class="formula-note">The Quadratic Formula â€” works for ALL quadratics in standard form</div>
  </div>

  <div class="topic" onclick="this.classList.toggle('open')">
    <div class="topic-header"><div class="topic-title">The Discriminant: How Many Solutions?</div><div class="topic-arrow">â–¸</div></div>
    <div class="topic-body">
      <p>The expression under the square root â€” <code>bÂ² âˆ’ 4ac</code> â€” is called the <strong>discriminant</strong>. It tells you how many real solutions:</p>
      <ul>
        <li><strong>bÂ² âˆ’ 4ac &gt; 0</strong> â†’ Two distinct real solutions (parabola crosses x-axis twice)</li>
        <li><strong>bÂ² âˆ’ 4ac = 0</strong> â†’ Exactly one real solution (parabola touches x-axis at vertex)</li>
        <li><strong>bÂ² âˆ’ 4ac &lt; 0</strong> â†’ No real solutions (parabola doesn't cross x-axis)</li>
      </ul>
      <p>The PSAT frequently asks: "How many solutions?" or "For what value of k does the equation have no real solutions?" Both are discriminant questions.</p>
    </div>
  </div>

  <div class="topic" onclick="this.classList.toggle('open')">
    <div class="topic-header"><div class="topic-title">Vertex Shortcut (Faster Than Completing the Square)</div><div class="topic-arrow">â–¸</div></div>
    <div class="topic-body">
      <p>For any quadratic in standard form f(x) = axÂ² + bx + c:</p>
      <div class="formula-box">
        <div><span class="fn">Vertex x:</span> x = âˆ’b / 2a</div>
        <div><span class="fn">Vertex y:</span> Plug that x back into f(x)</div>
        <div><span class="fn">Min or Max?</span> a &gt; 0 â†’ vertex is minimum. a &lt; 0 â†’ vertex is maximum.</div>
      </div>
      <p>This is MUCH faster than completing the square. When the PSAT asks for the minimum or maximum value of a quadratic â€” that's the vertex y-coordinate.</p>
    </div>
  </div>

  <div class="callout-blue callout"><strong>Desmos Power Move:</strong> Graph any quadratic and Desmos labels the vertex, x-intercepts, and y-intercept. Click them for exact coordinates. Use sliders to explore how changing a, b, or c transforms the parabola.</div>
</div>

<!-- ==================== EXERCISE 1: FORM IDENTIFIER ==================== -->
<div class="section">
  <div class="section-label">Interactive Exercise 1</div>
  <h2>Quadratic Form Identifier</h2>
  <p>For each equation, identify which form it's in and what information it reveals.</p>
  <div class="exercise" id="formEx"></div>
</div>

<!-- ==================== EXERCISE 2: WHICH FORM? DECISION TREE ==================== -->
<div class="section">
  <div class="section-label">Interactive Exercise 2 â€” New!</div>
  <h2>Which Form Do I Need?</h2>
  <p>The PSAT gives you a question, and you need to pick which quadratic form is most useful. This is the critical thinking skill that separates fast solvers from slow ones.</p>
  <div class="exercise" style="border-color:var(--psda)" id="whichFormEx"></div>
</div>

<!-- ==================== TOPIC 3B: POLYNOMIALS ==================== -->
<div class="section">
  <div class="section-label">Topic 3B</div>
  <h2>Polynomials & Factoring</h2>

  <div class="topic open" onclick="if(event.target.closest('.topic-body'))return;this.classList.toggle('open')">
    <div class="topic-header"><div class="topic-title">Five Factoring Techniques</div><div class="topic-arrow">â–¸</div></div>
    <div class="topic-body">
      <ul>
        <li><strong>1. GCF (Greatest Common Factor):</strong> Always check first. Factor out the largest shared term.<br>Example: 6xÂ³ + 9xÂ² = 3xÂ²(2x + 3)</li>
        <li><strong>2. Difference of Squares:</strong> aÂ² âˆ’ bÂ² = (a + b)(a âˆ’ b)<br>Example: xÂ² âˆ’ 49 = (x + 7)(x âˆ’ 7)</li>
        <li><strong>3. Perfect Square Trinomial:</strong> aÂ² + 2ab + bÂ² = (a + b)Â²<br>Example: xÂ² + 6x + 9 = (x + 3)Â²</li>
        <li><strong>4. Standard Trinomial:</strong> Find two numbers that multiply to ac and add to b.<br>Example: xÂ² + 5x + 6 â†’ numbers 2 and 3 â†’ (x + 2)(x + 3)</li>
        <li><strong>5. Factor by Grouping:</strong> For 4-term expressions, group pairs and factor each.<br>Example: xÂ³ + 3xÂ² + 2x + 6 = xÂ²(x + 3) + 2(x + 3) = (xÂ² + 2)(x + 3)</li>
      </ul>
    </div>
  </div>

  <div class="topic" onclick="this.classList.toggle('open')">
    <div class="topic-header"><div class="topic-title">Zeros, Factors & End Behavior</div><div class="topic-arrow">â–¸</div></div>
    <div class="topic-body">
      <p><strong>Zeros = x-intercepts = roots = solutions.</strong> These are all the same thing: values where f(x) = 0.</p>
      <p>If (x âˆ’ r) is a factor, then r is a zero. And vice versa.</p>
      <h4>Remainder Theorem</h4>
      <p>When p(x) is divided by (x âˆ’ a), the remainder = p(a). If p(3) = 0, then (x âˆ’ 3) is a factor.</p>
      <h4>End Behavior</h4>
      <ul>
        <li><strong>Even degree, positive leading coefficient:</strong> both ends UP â†‘â†‘</li>
        <li><strong>Even degree, negative:</strong> both ends DOWN â†“â†“</li>
        <li><strong>Odd degree, positive:</strong> left DOWN, right UP â†“â†‘</li>
        <li><strong>Odd degree, negative:</strong> left UP, right DOWN â†‘â†“</li>
      </ul>
    </div>
  </div>
</div>

<!-- ==================== EXERCISE 3: FACTORING WORKSHOP ==================== -->
<div class="section">
  <div class="section-label">Interactive Exercise 3</div>
  <h2>Factoring Workshop</h2>
  <p>Identify which factoring technique to use, then factor each expression.</p>
  <div class="exercise" id="factorEx"></div>
</div>

<!-- ==================== TOPIC 3C: EXPONENTS ==================== -->
<div class="section">
  <div class="section-label">Topic 3C</div>
  <h2>Exponent Rules & Exponential Functions</h2>

  <table class="rules-table">
    <tr><th>Rule</th><th>Formula</th><th>Example</th></tr>
    <tr><td>Product Rule</td><td><code>aáµ Â· aâ¿ = aáµâºâ¿</code></td><td>xÂ³ Â· xâ´ = xâ·</td></tr>
    <tr><td>Power Rule</td><td><code>(aáµ)â¿ = aáµâ¿</code></td><td>(xÂ²)Â³ = xâ¶</td></tr>
    <tr><td>Quotient Rule</td><td><code>aáµ / aâ¿ = aáµâ»â¿</code></td><td>xâµ / xÂ² = xÂ³</td></tr>
    <tr><td>Zero Exponent</td><td><code>aâ° = 1</code></td><td>7â° = 1</td></tr>
    <tr><td>Negative Exponent</td><td><code>aâ»â¿ = 1/aâ¿</code></td><td>xâ»Â² = 1/xÂ²</td></tr>
    <tr><td>Fractional Exponent</td><td><code>a^(1/n) = â¿âˆša</code></td><td>8^(1/3) = âˆ›8 = 2</td></tr>
    <tr><td>Combined Fractional</td><td><code>a^(m/n) = (â¿âˆša)áµ</code></td><td>27^(2/3) = (âˆ›27)Â² = 9</td></tr>
  </table>

  <div class="topic" onclick="this.classList.toggle('open')">
    <div class="topic-header"><div class="topic-title">Exponential Growth vs. Decay</div><div class="topic-arrow">â–¸</div></div>
    <div class="topic-body">
      <div class="formula-box">
        <div><span class="fn">Growth:</span> f(x) = a(1 + r)Ë£ â€” multiplier &gt; 1</div>
        <div><span class="fn">Decay:</span> f(x) = a(1 âˆ’ r)Ë£ â€” multiplier between 0 and 1</div>
      </div>
      <p><strong>Key difference from linear:</strong> Linear = constant <em>amount</em> of change (add 5 each time). Exponential = constant <em>percent</em> change (grow by 10% each time).</p>
      <p><strong>PSAT tip:</strong> If a table shows values increasing by the same amount â†’ linear. If values increase by the same multiplier â†’ exponential.</p>
    </div>
  </div>

  <div class="topic" onclick="this.classList.toggle('open')">
    <div class="topic-header"><div class="topic-title">Function Notation & Transformations</div><div class="topic-arrow">â–¸</div></div>
    <div class="topic-body">
      <p><strong>f(x) is NOT "f times x".</strong> It means "the output of function f when the input is x."</p>
      <p><strong>f(3)</strong> = plug in x = 3 and evaluate.</p>
      <p><strong>f(g(x))</strong> = composition: plug g(x) into f.</p>
      <h4>Transformations</h4>
      <ul>
        <li><strong>f(x) + k:</strong> shift UP by k</li>
        <li><strong>f(x) âˆ’ k:</strong> shift DOWN by k</li>
        <li><strong>f(x âˆ’ h):</strong> shift RIGHT by h (counterintuitive!)</li>
        <li><strong>f(x + h):</strong> shift LEFT by h</li>
        <li><strong>âˆ’f(x):</strong> reflect over x-axis</li>
        <li><strong>af(x):</strong> vertical stretch (a &gt; 1) or compression (0 &lt; a &lt; 1)</li>
      </ul>
      <div class="callout"><strong>PSAT Trap:</strong> f(x âˆ’ 3) shifts RIGHT, not left. The sign is opposite to what most students expect. Remember: "minus goes right."</div>
    </div>
  </div>
</div>

<!-- ==================== EXERCISE 4: EXPONENT SPEED DRILL ==================== -->
<div class="section">
  <div class="section-label">Interactive Exercise 4</div>
  <h2>Exponent Rules Speed Drill</h2>
  <p>Simplify each expression as fast as you can. Timer starts on your first answer.</p>
  <div class="exercise" id="expDrill"></div>
</div>

<!-- ==================== EXERCISE 5: GROWTH vs DECAY ==================== -->
<div class="section">
  <div class="section-label">Interactive Exercise 5 â€” New!</div>
  <h2>Linear, Growth, or Decay?</h2>
  <p>Classify each function or scenario. This distinction is tested on nearly every PSAT.</p>
  <div class="exercise" style="border-color:var(--psda)" id="growthEx"></div>
</div>

<!-- ==================== TOPIC 3D: RATIONAL EXPRESSIONS ==================== -->
<div class="section">
  <div class="section-label">Topic 3D</div>
  <h2>Rational Expressions & Equations</h2>

  <div class="topic open" onclick="if(event.target.closest('.topic-body'))return;this.classList.toggle('open')">
    <div class="topic-header"><div class="topic-title">Simplifying Rational Expressions</div><div class="topic-arrow">â–¸</div></div>
    <div class="topic-body">
      <p>A rational expression is a fraction with polynomials. To simplify:</p>
      <ul>
        <li><strong>1.</strong> Factor both numerator and denominator completely.</li>
        <li><strong>2.</strong> Cancel any common factors.</li>
      </ul>
      <p>Example: (xÂ² âˆ’ 9) / (xÂ² + 5x + 6) = (x+3)(xâˆ’3) / (x+2)(x+3) = (xâˆ’3) / (x+2)</p>
      <p><strong>Domain restrictions:</strong> Any value making the denominator zero is excluded. Above: x â‰  âˆ’2 and x â‰  âˆ’3.</p>
    </div>
  </div>

  <div class="topic" onclick="this.classList.toggle('open')">
    <div class="topic-header"><div class="topic-title">Solving Rational Equations</div><div class="topic-arrow">â–¸</div></div>
    <div class="topic-body">
      <ul>
        <li><strong>1.</strong> Find the LCD of all fractions.</li>
        <li><strong>2.</strong> Multiply every term by the LCD to clear fractions.</li>
        <li><strong>3.</strong> Solve the resulting equation.</li>
        <li><strong>4.</strong> CHECK for extraneous solutions â€” plug back in to make sure no denominator = 0.</li>
      </ul>
      <p>Example: 1/x + 1/3 = 1/2 â†’ LCD = 6x â†’ 6 + 2x = 3x â†’ x = 6 âœ“</p>
    </div>
  </div>

  <div class="callout"><strong>PSAT Trap:</strong> Rational equation questions almost always include an <strong>extraneous solution</strong> â€” an answer that makes a denominator zero. Always check your work.</div>
</div>

<!-- ==================== DISCRIMINANT EXPLORER ==================== -->
<div class="section">
  <div class="section-label">Interactive Tool</div>
  <h2>Discriminant Explorer</h2>
  <p>Enter values for a, b, and c from any standard-form quadratic (axÂ² + bx + c = 0) to see the number of solutions, the discriminant value, and the actual solutions.</p>
  <div class="exercise" style="border-color:var(--psda)">
    <div class="disc-inputs">
      <label>a = <input type="number" id="discA" value="1" oninput="calcDisc()"></label>
      <label>b = <input type="number" id="discB" value="0" oninput="calcDisc()"></label>
      <label>c = <input type="number" id="discC" value="-4" oninput="calcDisc()"></label>
    </div>
    <div id="discResult" style="font-size:.92rem;line-height:1.7"></div>
  </div>
</div>

<!-- â”€â”€ Trap Taxonomy â”€â”€ -->
<div class="section">
  <div class="section-label">Math Trap Taxonomy</div>
  <h2>Four Traps That Recur in Advanced Math</h2>
  <p>Learn these by name. When you spot one in a problem, you'll know exactly what to watch for.</p>
  <div class="trap-taxonomy">
    <div class="trap-card"><div class="trap-number" style="background:var(--wrong)">1</div><div class="trap-card-body"><div class="trap-card-name">ğŸ¯ The Wrong Target</div><div class="trap-card-desc">Solved for x when they asked for xÂ² + 1. Always underline exactly what the question asks for.</div><div class="trap-card-example">Asked: "What is 2x âˆ’ 3?" You solved: x = 5, picked 5. Answer: 7</div></div></div>
    <div class="trap-card"><div class="trap-number" style="background:var(--math)">2</div><div class="trap-card-body"><div class="trap-card-name">ğŸ‘» The Distribution Ghost</div><div class="trap-card-desc">Forgot to distribute to ALL terms when expanding. Especially dangerous with negative signs and squared binomials.</div><div class="trap-card-example">(x + 3)Â² = xÂ² + 6x + 9 (not xÂ² + 9)</div></div></div>
    <div class="trap-card"><div class="trap-number" style="background:var(--geotrig)">3</div><div class="trap-card-body"><div class="trap-card-name">ğŸ”€ The One-Case Trap</div><div class="trap-card-desc">Only found one solution when there were two. Quadratics can have two roots â€” check both.</div><div class="trap-card-example">xÂ² = 25 â†’ x = 5 AND x = âˆ’5 (two answers)</div></div></div>
    <div class="trap-card"><div class="trap-number" style="background:var(--advanced)">4</div><div class="trap-card-body"><div class="trap-card-name">ğŸ“ Form Mismatch</div><div class="trap-card-desc">Used the wrong quadratic form for the question. Vertex form for intercepts? Standard form for the vertex? Wrong tool, slow solve.</div><div class="trap-card-example">Asked for zeros â†’ use factored form, not vertex form</div></div></div>
  </div>
</div>

<div style="text-align:center;padding:24px 0">
  <button class="start-btn" onclick="goScreen(3)">Continue to Practice Questions â†’</button>
</div>
</div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<!-- SCREEN 4: TIMED PRACTICE                      -->
<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="screen" id="screen-practice">
<div class="container">
  <div class="section-label">PSAT/NMSQT Practice</div>
  <h2 style="font-family:'Cormorant Garamond',serif;font-size:1.6rem;margin-bottom:4px">Practice Questions</h2>
  <p style="color:var(--muted);font-size:.9rem;margin-bottom:16px">8 questions at three difficulty tiers. Tag your confidence before answering.</p>
  <div class="timer-bar" id="timerBar">
    <div class="timer-display" id="timerDisplay">--:--</div>
    <div class="timer-track"><div class="timer-fill" id="timerFill"></div></div>
    <div class="q-dots" id="qDots"></div>
    <button class="timer-toggle" id="timerToggle" onclick="toggleTimer()">â± Timer OFF</button>
  </div>
  <div id="psatPractice"></div>
  <div id="practiceResults" style="display:none"></div>
  <div id="practiceNav" style="display:none;text-align:center;padding:24px 0">
    <button class="start-btn" onclick="goScreen(4)">View Summary & Complete Module â†’</button>
  </div>
</div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<!-- SCREEN 5: MODULE COMPLETE                     -->
<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="screen" id="screen-complete">
  <div class="complete-screen">
    <div class="complete-icon">ğŸ‰</div>
    <h1>Module 3 Complete!</h1>
    <p class="complete-sub">You've mastered Advanced Math â€” quadratics, polynomials, exponents, and more.</p>
    <div class="takeaway-list">
      <div style="font-weight:700;margin-bottom:12px;font-size:.85rem;color:var(--advanced);text-transform:uppercase;letter-spacing:1px">Key Takeaways</div>
      <div class="takeaway-item"><span class="takeaway-check">âœ“</span> Know the three quadratic forms and what each reveals: <strong>standard</strong> (y-intercept), <strong>factored</strong> (zeros), <strong>vertex</strong> (min/max).</div>
      <div class="takeaway-item"><span class="takeaway-check">âœ“</span> The discriminant (bÂ² âˆ’ 4ac) tells you how many solutions â€” positive = 2, zero = 1, negative = 0.</div>
      <div class="takeaway-item"><span class="takeaway-check">âœ“</span> Vertex x-coordinate shortcut: <strong>x = âˆ’b/2a</strong>. The y-coordinate is always the min or max value.</div>
      <div class="takeaway-item"><span class="takeaway-check">âœ“</span> Master all five factoring techniques â€” GCF, difference of squares, perfect square, trinomial, grouping.</div>
      <div class="takeaway-item"><span class="takeaway-check">âœ“</span> Memorize the exponent rules cold. They show up in nearly every Advanced Math question.</div>
      <div class="takeaway-item"><span class="takeaway-check">âœ“</span> <strong>Linear = constant amount of change. Exponential = constant percent change.</strong></div>
      <div class="takeaway-item"><span class="takeaway-check">âœ“</span> f(x âˆ’ 3) shifts RIGHT (not left). "Minus goes right."</div>
      <div class="takeaway-item"><span class="takeaway-check">âœ“</span> On rational equations, ALWAYS check for extraneous solutions.</div>
    </div>
    <div id="completePracticeStats"></div>
    <div class="nav-cards">
      <a class="nav-card" href="module-2.html"><div class="nav-card-label">â† Previous</div><div class="nav-card-title">Module 2: Algebra</div></a>
      <a class="nav-card" href="module-4.html" style="border-color:var(--advanced)"><div class="nav-card-label">Next â†’</div><div class="nav-card-title">Module 4: Problem-Solving & Data</div></a>
    </div>
  </div>
</div>

<script>
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// SCREEN NAVIGATION SYSTEM
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const SCREENS = ['screen-welcome','screen-warmup','screen-lesson','screen-practice','screen-complete'];
let currentScreen = 0;

function goScreen(idx) {
  if (idx < 0 || idx >= SCREENS.length) return;
  const cur = document.getElementById(SCREENS[currentScreen]);
  const nxt = document.getElementById(SCREENS[idx]);
  cur.classList.remove('fade-in');
  cur.classList.add('fade-out');
  setTimeout(() => {
    cur.classList.remove('active','fade-out');
    nxt.classList.add('active','fade-in');
    currentScreen = idx;
    updateProgressDots();
    window.scrollTo(0, 0);
    if (idx === 3 && timerEnabled) startTimer();
  }, 300);
}

function updateProgressDots() {
  document.getElementById('screenProgress').innerHTML = SCREENS.map((s, i) => {
    let cls = 'screen-dot';
    if (i < currentScreen) cls += ' completed';
    if (i === currentScreen) cls += ' current';
    return `<div class="${cls}" onclick="${i <= currentScreen ? 'goScreen('+i+')' : ''}" title="${['Welcome','Warm-Up','Lesson','Practice','Complete'][i]}"></div>`;
  }).join('');
}
updateProgressDots();

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// RETRIEVAL WARM-UP (Module 2 content)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const WARMUP_QS = [
  {source:'Module 2 â€” Slope', q:'What is the slope of the line y = âˆ’3x + 7?',
   ch:['7','âˆ’3','3','âˆ’7'], c:1,
   fb:'In y = mx + b, the slope is m. Here m = âˆ’3. The 7 is the y-intercept.'},
  {source:'Module 2 â€” Systems', q:'If two lines have the same slope but different y-intercepts, how many solutions does the system have?',
   ch:['One solution','Infinite solutions','No solution','Cannot determine'], c:2,
   fb:'Same slope + different y-intercepts = parallel lines = no solution. They never intersect.'},
  {source:'Module 2 â€” Inequalities', q:'When solving âˆ’5x > 20, what happens to the inequality sign?',
   ch:['It stays the same','It flips direction','It becomes an equals sign','It disappears'], c:1,
   fb:'When you divide (or multiply) by a negative number, you must FLIP the inequality sign. âˆ’5x > 20 â†’ x < âˆ’4.'},
  {source:'Module 2 â€” Sign Flip Trap', q:'Which trap involves forgetting to flip the inequality sign?',
   ch:['The Wrong Target','The Distribution Ghost','The Sign Flip','The Imposter Subject'], c:2,
   fb:'The Sign Flip trap: forgetting to flip the inequality when multiplying or dividing by a negative number.'},
  {source:'Module 2 â€” Word Problems', q:'In the equation C = 8m + 12, the "8" represents:',
   ch:['The y-intercept (starting value)','The slope (rate per month)','The total cost','The number of months'], c:1,
   fb:'In C = 8m + 12, the 8 is the coefficient of m (slope) â€” the rate per month. The 12 is the fixed starting cost (y-intercept).'}
];

let warmupIdx = 0, warmupAnswers = [], warmupAnswered = false;

function renderWarmup() {
  document.getElementById('warmupDots').innerHTML = WARMUP_QS.map((_, i) => {
    let cls = 'warmup-dot';
    if (i < warmupIdx) cls += warmupAnswers[i] ? ' done-correct' : ' done-wrong';
    if (i === warmupIdx && warmupIdx < WARMUP_QS.length) cls += ' active';
    return `<div class="${cls}"></div>`;
  }).join('');
  const cont = document.getElementById('warmupContent');
  if (warmupIdx >= WARMUP_QS.length) {
    const cor = warmupAnswers.filter(Boolean).length;
    cont.innerHTML = `<div class="warmup-summary"><div class="warmup-badge">Warm-Up Complete</div><div class="warmup-score">${cor} / ${WARMUP_QS.length}</div><p style="color:var(--muted);font-size:.9rem;margin-bottom:8px">${cor===5?'Perfect recall! Module 2 knowledge is locked in.':cor>=3?'Good recall! A couple topics to revisit.':'Some gaps from Module 2 â€” consider a quick review.'}</p><button class="warmup-continue" onclick="goScreen(2)">Continue to Lesson â†’</button></div>`;
    return;
  }
  const q = WARMUP_QS[warmupIdx];
  warmupAnswered = false;
  cont.innerHTML = `<div class="warmup-q"><div class="source-tag">From ${q.source}</div><div class="q-text">${q.q}</div><div class="warmup-choices" id="warmupChoices">${q.ch.map((ch, ci) => `<div class="warmup-choice" onclick="answerWarmup(${ci})">${ch}</div>`).join('')}</div><div id="warmupFb" style="display:none"></div></div>`;
}

function answerWarmup(ci) {
  if (warmupAnswered) return;
  warmupAnswered = true;
  const q = WARMUP_QS[warmupIdx], correct = ci === q.c;
  warmupAnswers.push(correct);
  document.querySelectorAll('.warmup-choice').forEach((ch, i) => {
    ch.classList.add('wu-dis');
    if (i === q.c) ch.classList.add('wu-correct');
    else if (i === ci && !correct) ch.classList.add('wu-wrong');
  });
  const fb = document.getElementById('warmupFb');
  fb.style.display = 'block';
  fb.innerHTML = `<div class="warmup-fb">${correct ? 'âœ“ ' : 'âœ— '}${q.fb}</div><button class="warmup-next" onclick="warmupIdx++;renderWarmup()">${warmupIdx < WARMUP_QS.length - 1 ? 'Next Question â†’' : 'See Results â†’'}</button>`;
  document.getElementById('warmupDots').innerHTML = WARMUP_QS.map((_, i) => {
    let cls = 'warmup-dot';
    if (i < warmupAnswers.length) cls += warmupAnswers[i] ? ' done-correct' : ' done-wrong';
    else if (i === warmupIdx + 1) cls += ' active';
    return `<div class="${cls}"></div>`;
  }).join('');
}
renderWarmup();

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// HELPERS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function mkScore(id, correct, total) {
  return `<div class="score-bar"><div class="score-bar-label">Score</div><div class="score-bar-track"><div class="score-bar-fill" style="width:${total ? correct/total*100 : 0}%"></div></div><div class="score-bar-val">${correct}/${total}</div></div>`;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// EXERCISE 1: FORM IDENTIFIER
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const FORM_QS=[
  {eq:'f(x) = 2(x âˆ’ 3)(x + 1)',correct:'Factored',reveal:'x-intercepts at x = 3 and x = âˆ’1'},
  {eq:'f(x) = xÂ² âˆ’ 6x + 8',correct:'Standard',reveal:'y-intercept at (0, 8), opens upward (a = 1 > 0)'},
  {eq:'f(x) = âˆ’3(x + 2)Â² + 7',correct:'Vertex',reveal:'Vertex at (âˆ’2, 7), opens downward, so 7 is the maximum'},
  {eq:'g(x) = (x âˆ’ 5)(x âˆ’ 5)',correct:'Factored',reveal:'Double root at x = 5 â€” parabola touches x-axis once. Also vertex form: (xâˆ’5)Â²'},
  {eq:'h(x) = 4xÂ² + 12x âˆ’ 7',correct:'Standard',reveal:'y-intercept at (0, âˆ’7), opens upward (a = 4 > 0)'},
  {eq:'y = âˆ’(x âˆ’ 1)Â² âˆ’ 4',correct:'Vertex',reveal:'Vertex at (1, âˆ’4), opens downward, âˆ’4 is the maximum'},
  {eq:'p(x) = Â½(x + 6)(x âˆ’ 2)',correct:'Factored',reveal:'x-intercepts at x = âˆ’6 and x = 2'},
  {eq:'f(x) = 5(x âˆ’ 4)Â² + 0',correct:'Vertex',reveal:'Vertex at (4, 0) â€” the vertex IS on the x-axis. Min value is 0.'},
];
const FORM_OPTS=['Standard','Factored','Vertex'];
let formAns={};
function renderForms(){
  const total=FORM_QS.length;const correct=Object.entries(formAns).filter(([i,v])=>v===FORM_QS[i].correct).length;
  document.getElementById('formEx').innerHTML=`<h3>ğŸ“ Identify the Form</h3><div class="exercise-sub">Click the correct quadratic form for each equation.</div>`+
    FORM_QS.map((q,i)=>{
      const a=formAns[i];const has=a!==undefined;
      return `<div class="ex-item">
        <div class="ex-prompt" style="font-family:'JetBrains Mono',monospace;color:var(--advanced)">${q.eq}</div>
        <div class="classify-opts">${FORM_OPTS.map(f=>{
          let cls='classify-opt';
          if(has){cls+=' cl-dis';if(f===q.correct)cls+=' cl-correct';else if(f===a&&f!==q.correct)cls+=' cl-wrong';}
          return `<div class="${cls}" onclick="ansForm(${i},'${f}')">${f} Form</div>`;
        }).join('')}</div>
        <div class="ex-fb${has?' show':''}${has?(a===q.correct?' correct':' wrong'):''}">${has?(a===q.correct?'âœ“ Correct! ':'âœ— Incorrect. ')+q.reveal:''}</div>
      </div>`;
    }).join('')+mkScore('f',correct,total);
}
function ansForm(i,v){if(formAns[i]!==undefined)return;formAns[i]=v;renderForms();}
renderForms();

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// EXERCISE 2: WHICH FORM DO I NEED?
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const WF_QS=[
  {q:'The question asks: "What is the y-intercept of the parabola?"',correct:'Standard',fb:'Standard form f(x) = axÂ² + bx + c gives you the y-intercept directly: it\'s c.'},
  {q:'The question asks: "What is the maximum value of the function?"',correct:'Vertex',fb:'Vertex form f(x) = a(xâˆ’h)Â² + k gives you the max/min directly: it\'s k (when a < 0, k is the max).'},
  {q:'The question asks: "What are the zeros of the function?"',correct:'Factored',fb:'Factored form f(x) = a(xâˆ’r)(xâˆ’s) gives you the zeros directly: x = r and x = s.'},
  {q:'The question asks: "At what x-value does the function reach its minimum?"',correct:'Vertex',fb:'Vertex form gives you the vertex (h, k). The min occurs at x = h. Or from standard: x = âˆ’b/2a.'},
  {q:'The question asks: "Does the graph cross the x-axis?"',correct:'Standard',fb:'Use the discriminant from standard form: bÂ²âˆ’4ac > 0 means yes (two crossings), = 0 means touches once, < 0 means no.'},
  {q:'The question asks: "For what values of x is f(x) = 0?"',correct:'Factored',fb:'This is asking for zeros/roots. Factored form gives these directly. Set each factor = 0.'},
  {q:'The question gives you: "f(x) has a vertex at (3, âˆ’5)" and asks you to write the equation.',correct:'Vertex',fb:'You know h = 3 and k = âˆ’5, so start with vertex form: f(x) = a(x âˆ’ 3)Â² âˆ’ 5. Then use another point to find a.'},
  {q:'The question asks: "What is the value of f(0)?"',correct:'Standard',fb:'f(0) IS the y-intercept. In standard form, f(0) = a(0)Â² + b(0) + c = c. Just read it off.'},
];
let wfAns={};
function renderWF(){
  const total=WF_QS.length;const correct=Object.entries(wfAns).filter(([i,v])=>v===WF_QS[i].correct).length;
  document.getElementById('whichFormEx').innerHTML=`<h3>ğŸ§­ Which Form?</h3><div class="exercise-sub">Which quadratic form would be most useful for answering each question?</div>`+
    WF_QS.map((q,i)=>{
      const a=wfAns[i];const has=a!==undefined;
      return `<div class="ex-item">
        <div class="ex-prompt">${q.q}</div>
        <div class="classify-opts">${FORM_OPTS.map(f=>{
          let cls='classify-opt';
          if(has){cls+=' cl-dis';if(f===q.correct)cls+=' cl-correct';else if(f===a&&f!==q.correct)cls+=' cl-wrong';}
          return `<div class="${cls}" onclick="ansWF(${i},'${f}')">${f}</div>`;
        }).join('')}</div>
        <div class="ex-fb${has?' show':''}${has?(a===q.correct?' correct':' wrong'):''}">${has?(a===q.correct?'âœ“ ':'âœ— ')+q.fb:''}</div>
      </div>`;
    }).join('')+mkScore('wf',correct,total);
}
function ansWF(i,v){if(wfAns[i]!==undefined)return;wfAns[i]=v;renderWF();}
renderWF();

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// EXERCISE 3: FACTORING WORKSHOP
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const FACTOR_QS=[
  {expr:'xÂ² âˆ’ 25',technique:'Difference of Squares',answers:['(x+5)(x-5)','(x-5)(x+5)'],solution:'xÂ² âˆ’ 25 = (x + 5)(x âˆ’ 5)'},
  {expr:'xÂ² + 7x + 12',technique:'Standard Trinomial',answers:['(x+3)(x+4)','(x+4)(x+3)'],solution:'Find numbers that multiply to 12 and add to 7: 3 and 4 â†’ (x + 3)(x + 4)'},
  {expr:'3xÂ² + 6x',technique:'GCF',answers:['3x(x+2)'],solution:'GCF = 3x â†’ 3x(x + 2)'},
  {expr:'xÂ² âˆ’ 10x + 25',technique:'Perfect Square',answers:['(x-5)^2','(x-5)(x-5)'],solution:'xÂ² âˆ’ 10x + 25 = (x âˆ’ 5)Â² [perfect square: (âˆ’5)Â² = 25, 2(âˆ’5) = âˆ’10]'},
  {expr:'2xÂ² âˆ’ 8',technique:'GCF + Difference of Squares',answers:['2(x+2)(x-2)','2(x-2)(x+2)'],solution:'GCF first: 2(xÂ² âˆ’ 4), then difference of squares: 2(x + 2)(x âˆ’ 2)'},
  {expr:'xÂ² + 3x âˆ’ 10',technique:'Standard Trinomial',answers:['(x+5)(x-2)','(x-2)(x+5)'],solution:'Numbers that multiply to âˆ’10 and add to 3: 5 and âˆ’2 â†’ (x + 5)(x âˆ’ 2)'},
];
let factorChecked={};
function renderFactors(){
  document.getElementById('factorEx').innerHTML=`<h3>ğŸ”§ Factor It</h3><div class="exercise-sub">Type your answer like (x+3)(x-2) or 3x(x+5). Don't use spaces.</div>`+
    FACTOR_QS.map((q,i)=>{
      return `<div class="ex-item">
        <div style="margin-bottom:6px;font-size:.78rem"><span style="color:var(--advanced);font-weight:700">${q.technique}</span></div>
        <div class="ex-prompt">Factor: <code>${q.expr}</code></div>
        <div class="ex-input-row">
          <input class="ex-input" type="text" id="fInp${i}" placeholder="(x+?)(x-?)" style="width:200px">
          <button class="ex-btn" onclick="checkFactor(${i})">Check</button>
        </div>
        <div class="ex-fb" id="fFb${i}"></div>
      </div>`;
    }).join('');
}
function checkFactor(i){
  const inp=document.getElementById('fInp'+i).value.replace(/\s/g,'').toLowerCase();
  const fb=document.getElementById('fFb'+i);
  const q=FACTOR_QS[i];
  if(!inp){fb.className='ex-fb show wrong';fb.textContent='Enter your factored expression.';return;}
  const correct=q.answers.some(a=>inp===a.replace(/\s/g,'').toLowerCase());
  if(correct){fb.className='ex-fb show correct';fb.textContent='âœ“ Correct! '+q.solution;}
  else{fb.className='ex-fb show wrong';fb.textContent='âœ— Not quite. '+q.solution;}
}
renderFactors();

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// EXERCISE 4: EXPONENT SPEED DRILL
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const EXPS=[
  {expr:'xÂ³ Â· xâµ',display:'xâ¸',opts:['xâ¸','xÂ¹âµ','xÂ²','8x']},
  {expr:'(xâ´)Â²',display:'xâ¸',opts:['xâ¶','xâ¸','xÂ²','4xÂ²']},
  {expr:'xâ· / xÂ³',display:'xâ´',opts:['xâ´','xÂ¹â°','xÂ²Â¹','xÂ³']},
  {expr:'5â°',display:'1',opts:['0','1','5','undefined']},
  {expr:'xâ»Â³',display:'1/xÂ³',opts:['1/xÂ³','âˆ’xÂ³','xÂ³','âˆ’3x']},
  {expr:'8^(1/3)',display:'2',opts:['2','4','2.67','8/3']},
  {expr:'27^(2/3)',display:'9',opts:['9','18','3','81']},
  {expr:'(2xÂ³)Â²',display:'4xâ¶',opts:['2xâ¶','4xâ¶','4xâµ','2xâµ']},
  {expr:'xâ´ Â· xâ»â´',display:'1',opts:['xâ¸','0','1','xâ°']},
  {expr:'(xÂ²yÂ³)â´',display:'xâ¸yÂ¹Â²',opts:['xâ¸yÂ¹Â²','xâ¶yâ·','xâ¸yâ·','xÂ²yÂ¹Â²']},
];
let expAns={};let expStart=null;let expTimer=null;
function renderExps(){
  const elapsed=expStart?((Date.now()-expStart)/1000).toFixed(1):'0.0';
  const allDone=Object.keys(expAns).length===EXPS.length;
  const correct=Object.entries(expAns).filter(([i,v])=>v===EXPS[i].display).length;
  if(allDone&&expTimer){clearInterval(expTimer);expTimer=null;}
  document.getElementById('expDrill').innerHTML=
    `<h3>âš¡ Speed Drill</h3><div class="exercise-sub">Simplify each expression. How fast can you go?</div>
    <div class="drill-timer ${expStart&&!allDone?'running':''}${allDone?' done':''}">${allDone?elapsed+'s â€” '+correct+'/'+EXPS.length+' correct!'+(correct===EXPS.length?' ğŸ”¥ Perfect!':''):expStart?elapsed+'s':'Ready â€” click any answer to start'}</div>`+
    EXPS.map((e,i)=>{
      const ans=expAns[i];const has=ans!==undefined;
      return `<div class="ex-item" style="display:flex;align-items:center;gap:12px;flex-wrap:wrap;padding:10px 14px">
        <div style="flex:1;min-width:100px;font-family:'JetBrains Mono',monospace;color:var(--advanced)">${e.expr} = ?</div>
        <div class="classify-opts" style="flex:2">${e.opts.map(o=>{
          let cls='classify-opt';
          if(has){cls+=' cl-dis';if(o===e.display)cls+=' cl-correct';else if(o===ans&&o!==e.display)cls+=' cl-wrong';}
          return `<div class="${cls}" onclick="ansExp(${i},'${o}')">${o}</div>`;
        }).join('')}</div></div>`;
    }).join('')+
    (allDone?mkScore('exp',correct,EXPS.length):'');
}
function ansExp(i,v){
  if(expAns[i]!==undefined)return;
  if(!expStart){expStart=Date.now();expTimer=setInterval(()=>renderExps(),100);}
  expAns[i]=v;renderExps();
}
renderExps();

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// EXERCISE 5: GROWTH vs DECAY vs LINEAR
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const GROWTH_QS=[
  {scenario:'A population doubles every 5 years.',correct:'Exponential Growth',fb:'Doubling = multiplying by 2 each period. That\'s exponential growth.'},
  {scenario:'A car loses $2,000 in value each year.',correct:'Linear Decay',fb:'Constant dollar amount decrease = linear (not exponential). The graph is a straight line going down.'},
  {scenario:'f(x) = 500(0.85)Ë£',correct:'Exponential Decay',fb:'The base 0.85 is between 0 and 1, so this is exponential decay (losing 15% each period).'},
  {scenario:'A bank account earns 3% interest compounded annually.',correct:'Exponential Growth',fb:'Compound interest = exponential growth. Amount Ã— 1.03 each year.'},
  {scenario:'f(x) = 200 + 15x',correct:'Linear Growth',fb:'Adding a constant (15) each time = linear growth. Slope = 15.'},
  {scenario:'A radioactive sample has a half-life of 10 years.',correct:'Exponential Decay',fb:'Half-life = multiplying by 0.5 each period. Exponential decay.'},
  {scenario:'A taxi charges $3 base fee plus $2.50 per mile.',correct:'Linear Growth',fb:'Fixed fee + constant rate per mile = linear. C = 2.50m + 3.'},
  {scenario:'f(x) = 1000(1.08)Ë£',correct:'Exponential Growth',fb:'Base 1.08 > 1, so this is exponential growth (8% increase each period).'},
];
const GROWTH_OPTS=['Linear Growth','Linear Decay','Exponential Growth','Exponential Decay'];
let growthAns={};
function renderGrowth(){
  const total=GROWTH_QS.length;const correct=Object.entries(growthAns).filter(([i,v])=>v===GROWTH_QS[i].correct).length;
  document.getElementById('growthEx').innerHTML=`<h3>ğŸ“ˆğŸ“‰ Classify It</h3><div class="exercise-sub">Is each scenario linear or exponential? Growth or decay?</div>`+
    GROWTH_QS.map((q,i)=>{
      const a=growthAns[i];const has=a!==undefined;
      return `<div class="ex-item">
        <div class="ex-prompt">${q.scenario}</div>
        <div class="classify-opts">${GROWTH_OPTS.map(o=>{
          let cls='classify-opt';
          if(has){cls+=' cl-dis';if(o===q.correct)cls+=' cl-correct';else if(o===a&&o!==q.correct)cls+=' cl-wrong';}
          return `<div class="${cls}" onclick="ansGrowth(${i},\`${o}\`)">${o}</div>`;
        }).join('')}</div>
        <div class="ex-fb${has?' show':''}${has?(a===q.correct?' correct':' wrong'):''}">${has?(a===q.correct?'âœ“ ':'âœ— ')+q.fb:''}</div>
      </div>`;
    }).join('')+mkScore('g',correct,total);
}
function ansGrowth(i,v){if(growthAns[i]!==undefined)return;growthAns[i]=v;renderGrowth();}
renderGrowth();

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// DISCRIMINANT EXPLORER
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function calcDisc(){
  const a=parseFloat(document.getElementById('discA').value)||0;
  const b=parseFloat(document.getElementById('discB').value)||0;
  const c=parseFloat(document.getElementById('discC').value)||0;
  const el=document.getElementById('discResult');
  if(a===0){el.innerHTML='<span style="color:var(--wrong)">a cannot be 0 (that would make it linear, not quadratic)</span>';return;}
  const disc=b*b-4*a*c;
  let solutions,color,icon;
  if(disc>0){solutions='Two distinct real solutions';color='var(--correct)';icon='âœ“âœ“';}
  else if(disc===0){solutions='Exactly one real solution (double root)';color='var(--psda)';icon='âœ“';}
  else{solutions='No real solutions';color='var(--wrong)';icon='âœ—';}
  let solStr='';
  if(disc>=0){
    const x1=(-b+Math.sqrt(disc))/(2*a),x2=(-b-Math.sqrt(disc))/(2*a);
    solStr=disc>0?`<br>xâ‚ = ${+(x1.toFixed(3))}, xâ‚‚ = ${+(x2.toFixed(3))}`:`<br>x = ${+(x1.toFixed(3))}`;
  }
  el.innerHTML=`
    <div style="margin-bottom:8px"><strong>Equation:</strong> <code style="background:var(--adv-bg);color:var(--advanced);padding:2px 8px;border-radius:4px;font-family:'JetBrains Mono',monospace">${a}xÂ² ${b>=0?'+ '+b:'âˆ’ '+Math.abs(b)}x ${c>=0?'+ '+c:'âˆ’ '+Math.abs(c)} = 0</code></div>
    <div style="margin-bottom:6px"><strong>Discriminant:</strong> bÂ² âˆ’ 4ac = ${b}Â² âˆ’ 4(${a})(${c}) = ${b*b} âˆ’ ${4*a*c} = <span style="font-family:'JetBrains Mono',monospace;font-weight:700;color:${color}">${disc}</span></div>
    <div><strong>Result:</strong> <span style="color:${color};font-weight:700">${icon} ${solutions}</span>${solStr}</div>
    <div style="margin-top:6px;font-size:.82rem;color:var(--muted)">Vertex: x = âˆ’b/2a = ${+( (-b/(2*a)).toFixed(3) )}</div>`;
}
calcDisc();

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// TIMED PRACTICE WITH CONFIDENCE & ERROR ANALYSIS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const PST=[
  {t:1,tp:'3A',q:'What are the solutions of <code>xÂ² âˆ’ 5x + 6 = 0</code>?',ch:['x = 2 and x = 3','x = âˆ’2 and x = âˆ’3','x = 1 and x = 6','x = âˆ’1 and x = âˆ’6'],c:0,fb:'Factor: (x âˆ’ 2)(x âˆ’ 3) = 0, so x = 2 or x = 3.',
   trap:null,trapAnswer:1,trapDesc:'Sign error on factors'},
  {t:1,tp:'3A',q:'What is the y-intercept of <code>f(x) = 3xÂ² âˆ’ 7x + 4</code>?',ch:['(0, 3)','(0, âˆ’7)','(0, 4)','(0, 0)'],c:2,fb:'In standard form, the y-intercept is c. Here c = 4, so the y-intercept is (0, 4).',
   trap:'wrong_target',trapAnswer:0,trapDesc:'Confused leading coefficient with y-intercept â€” The Wrong Target'},
  {t:1,tp:'3C',q:'Simplify: <code>xâµ Â· xÂ³ / xÂ²</code>',ch:['xâ¶','xâ¸','xâ´','xÂ¹â°'],c:0,fb:'xâµ Â· xÂ³ = xâ¸, then xâ¸ / xÂ² = xâ¶.',
   trap:null,trapAnswer:1,trapDesc:'Forgot to subtract quotient exponent'},
  {t:2,tp:'3A',q:'The function <code>f(x) = âˆ’2(x âˆ’ 4)Â² + 18</code> models the height of a ball. What is the maximum height?',ch:['4','18','âˆ’2','20'],c:1,fb:'Vertex form: vertex is (4, 18). Since a = âˆ’2 < 0, the parabola opens downward, so 18 is the maximum.',
   trap:'wrong_target',trapAnswer:0,trapDesc:'Picked the x-coordinate instead of the y-coordinate â€” The Wrong Target'},
  {t:2,tp:'3A',q:'For what value of k does <code>2xÂ² + kx + 8 = 0</code> have exactly one real solution?',ch:['k = 4','k = 8','k = Â±8','k = 16'],c:2,fb:'One solution means discriminant = 0. kÂ² âˆ’ 4(2)(8) = kÂ² âˆ’ 64 = 0 â†’ kÂ² = 64 â†’ k = Â±8.',
   trap:'one_case',trapAnswer:1,trapDesc:'Only found the positive value â€” The One-Case Trap'},
  {t:2,tp:'3D',q:'Which expression is equivalent to <code>(xÂ² âˆ’ 9)/(x + 3)</code>?',ch:['x âˆ’ 3','x + 3','xÂ² âˆ’ 3','(x âˆ’ 3)/(x + 3)'],c:0,fb:'Factor numerator: xÂ² âˆ’ 9 = (x + 3)(x âˆ’ 3). Cancel (x + 3): result is (x âˆ’ 3).',
   trap:null,trapAnswer:2,trapDesc:'Failed to factor before simplifying'},
  {t:3,tp:'3A',q:'If <code>f(x) = axÂ² + bx + c</code> has roots at x = âˆ’1 and x = 5, and passes through (0, âˆ’10), what is the value of a?',ch:['a = 2','a = âˆ’2','a = 1','a = âˆ’10'],c:0,fb:'Factored form: f(x) = a(x + 1)(x âˆ’ 5). Plug in (0, âˆ’10): âˆ’10 = a(1)(âˆ’5) = âˆ’5a â†’ a = 2.',
   trap:'distribution_ghost',trapAnswer:1,trapDesc:'Sign error when plugging in â€” The Distribution Ghost'},
  {t:3,tp:'3C',q:'A population of 2,000 bacteria triples every 4 hours. Which function models the population P after t hours?',ch:['P = 2000(3)^(t/4)','P = 2000 + 3t','P = 2000(3)^(4t)','P = 6000t'],c:0,fb:'Triples = multiply by 3. Every 4 hours means the exponent is t/4 (so when t=4, one full tripling). P = 2000(3)^(t/4).',
   trap:'form_mismatch',trapAnswer:1,trapDesc:'Used linear model for exponential situation â€” Form Mismatch'},
];

const TRAP_NAMES = {'wrong_target':'ğŸ¯ Wrong Target','distribution_ghost':'ğŸ‘» Distribution Ghost','one_case':'ğŸ”€ One-Case','form_mismatch':'ğŸ“ Form Mismatch'};

let pstA = {}, pstConf = {}, pstTime = {}, pstStartTime = null;

// Timer system
let timerEnabled = false;
let timerInterval = null;
let timerSeconds = 0;
const SECS_PER_Q = 95;
let totalTimerSecs = PST.length * SECS_PER_Q;

function toggleTimer() {
  timerEnabled = !timerEnabled;
  const btn = document.getElementById('timerToggle');
  btn.textContent = timerEnabled ? 'â± Timer ON' : 'â± Timer OFF';
  btn.classList.toggle('active', timerEnabled);
  if (!timerEnabled && timerInterval) {
    clearInterval(timerInterval); timerInterval = null;
    document.getElementById('timerDisplay').textContent = '--:--';
    document.getElementById('timerFill').style.width = '100%';
  } else if (timerEnabled && currentScreen === 3) { startTimer(); }
}

function startTimer() {
  if (timerInterval) clearInterval(timerInterval);
  timerSeconds = totalTimerSecs;
  updateTimerDisplay();
  timerInterval = setInterval(() => {
    timerSeconds--;
    updateTimerDisplay();
    if (timerSeconds <= 0) { clearInterval(timerInterval); timerInterval = null; }
  }, 1000);
  pstStartTime = Date.now();
}

function updateTimerDisplay() {
  const disp = document.getElementById('timerDisplay');
  const fill = document.getElementById('timerFill');
  const mins = Math.floor(timerSeconds / 60), secs = timerSeconds % 60;
  disp.textContent = `${mins}:${secs.toString().padStart(2, '0')}`;
  const pct = (timerSeconds / totalTimerSecs) * 100;
  fill.style.width = pct + '%';
  disp.className = 'timer-display'; fill.className = 'timer-fill';
  if (pct < 15) { disp.classList.add('danger'); fill.classList.add('danger'); }
  else if (pct < 35) { disp.classList.add('warning'); fill.classList.add('warning'); }
}

function renderPST() {
  const answered = Object.keys(pstA).length;
  document.getElementById('qDots').innerHTML = PST.map((_, i) => {
    let cls = 'q-dot';
    if (pstA[i] !== undefined) cls += pstA[i] === PST[i].c ? ' correct' : ' wrong';
    return `<div class="${cls}"></div>`;
  }).join('');

  document.getElementById('psatPractice').innerHTML = PST.map((q, i) => {
    const a = pstA[i], h = a !== undefined;
    const conf = pstConf[i];
    const tierLabel = q.t === 1 ? 'Easy' : q.t === 2 ? 'Medium' : 'Hard';
    const trapName = q.trap ? TRAP_NAMES[q.trap] || '' : '';
    return `<div class="ex-item" style="border-color:${q.t===1?'var(--algebra)':q.t===2?'var(--math)':'var(--advanced)'}">
      <div style="margin-bottom:6px;display:flex;align-items:center;gap:8px;flex-wrap:wrap">
        <span class="tier tier-${q.t}">${tierLabel}</span>
        <span style="font-size:.75rem;color:var(--muted)">Topic ${q.tp}</span>
        ${trapName && h ? `<span style="font-size:.72rem;color:var(--accent)">Trap: ${trapName}</span>` : ''}
      </div>
      <div class="ex-prompt">${q.q}</div>
      ${!h ? `<div class="confidence-row">
        <div class="conf-tag ${conf==='guessing'?'selected':''}" data-conf="guessing" onclick="setConf(${i},'guessing')">Guessing</div>
        <div class="conf-tag ${conf==='unsure'?'selected':''}" data-conf="unsure" onclick="setConf(${i},'unsure')">Unsure</div>
        <div class="conf-tag ${conf==='confident'?'selected':''}" data-conf="confident" onclick="setConf(${i},'confident')">Confident</div>
      </div>` : `<div style="font-size:.72rem;color:var(--muted);margin-bottom:6px">Confidence: ${conf || 'not tagged'}</div>`}
      <div class="mc-choices">${q.ch.map((ch, ci) => {
        let c = 'mc-choice';
        if (h) { c += ' mc-dis'; if (ci === q.c) c += ' mc-correct'; else if (ci === a) c += ' mc-wrong'; }
        return `<div class="${c}" onclick="aPST(${i},${ci})"><div class="mc-letter">${'ABCD'[ci]}</div><div>${ch}</div></div>`;
      }).join('')}</div>
      <div class="mc-fb${h ? ' show' : ''}">${h ? (a === q.c ? 'âœ“ Correct! ' : 'âœ— Incorrect. ') + q.fb + (a !== q.c && q.trapAnswer === a ? '<br><span style="color:var(--psda)">âš ï¸ ' + q.trapDesc + '</span>' : '') : ''}</div>
    </div>`;
  }).join('');

  if (answered === PST.length) {
    if (timerInterval) { clearInterval(timerInterval); timerInterval = null; }
    document.getElementById('practiceNav').style.display = 'block';
    showPracticeResults();
  }
}

function setConf(i, level) { if (pstA[i] !== undefined) return; pstConf[i] = level; renderPST(); }

function aPST(i, v) {
  if (pstA[i] !== undefined) return;
  pstA[i] = v;
  if (pstStartTime) { pstTime[i] = Date.now() - pstStartTime; pstStartTime = Date.now(); }
  renderPST();
}

function showPracticeResults() {
  const total = PST.length;
  const correct = Object.entries(pstA).filter(([i, v]) => v === PST[i].c).length;
  const byDiff = {1:{cor:0,tot:0},2:{cor:0,tot:0},3:{cor:0,tot:0}};
  PST.forEach((q, i) => { byDiff[q.t].tot++; if (pstA[i] === q.c) byDiff[q.t].cor++; });
  const matrix = {};
  ['guessing','unsure','confident'].forEach(conf => { matrix[conf] = {correct:[], wrong:[]}; });
  PST.forEach((q, i) => { const conf = pstConf[i] || 'unsure'; matrix[conf][pstA[i] === q.c ? 'correct' : 'wrong'].push(i); });
  const errors = {content_gap:[], trap_answer:[], careless:[], calibration:[]};
  PST.forEach((q, i) => {
    if (pstA[i] === q.c) return;
    const conf = pstConf[i] || 'unsure';
    if (pstA[i] === q.trapAnswer) errors.trap_answer.push({i, desc:q.trapDesc, topic:q.tp});
    else errors.content_gap.push({i, topic:q.tp});
    if (conf === 'confident') { if (q.t === 1) errors.careless.push({i, topic:q.tp}); errors.calibration.push({i, topic:q.tp}); }
  });

  let html = `<div class="results-section"><h3>ğŸ“Š Practice Results: ${correct}/${total}</h3>
    <div style="margin-bottom:20px"><div style="font-size:.78rem;font-weight:700;text-transform:uppercase;letter-spacing:1px;color:var(--muted);margin-bottom:8px">By Difficulty</div>
    <div class="difficulty-bars">
      <div class="diff-row"><span class="diff-label" style="color:var(--algebra)">Easy</span><div class="diff-track"><div class="diff-fill" style="width:${byDiff[1].tot?byDiff[1].cor/byDiff[1].tot*100:0}%;background:var(--algebra)"></div></div><span class="diff-val" style="color:var(--algebra)">${byDiff[1].cor}/${byDiff[1].tot}</span></div>
      <div class="diff-row"><span class="diff-label" style="color:var(--math)">Medium</span><div class="diff-track"><div class="diff-fill" style="width:${byDiff[2].tot?byDiff[2].cor/byDiff[2].tot*100:0}%;background:var(--math)"></div></div><span class="diff-val" style="color:var(--math)">${byDiff[2].cor}/${byDiff[2].tot}</span></div>
      <div class="diff-row"><span class="diff-label" style="color:var(--advanced)">Hard</span><div class="diff-track"><div class="diff-fill" style="width:${byDiff[3].tot?byDiff[3].cor/byDiff[3].tot*100:0}%;background:var(--advanced)"></div></div><span class="diff-val" style="color:var(--advanced)">${byDiff[3].cor}/${byDiff[3].tot}</span></div>
    </div></div>`;

  html += `<div style="margin-bottom:20px"><div style="font-size:.78rem;font-weight:700;text-transform:uppercase;letter-spacing:1px;color:var(--muted);margin-bottom:8px">Confidence Ã— Accuracy Matrix</div>
    <div class="results-grid">
      <div class="results-grid-header"></div><div class="results-grid-header">Guessing</div><div class="results-grid-header">Unsure</div><div class="results-grid-header">Confident</div>
      <div class="results-grid-header" style="writing-mode:horizontal-tb">âœ“ Correct</div>
      <div class="results-grid-cell"><div class="cell-label">Lucky</div><div class="cell-dots">${matrix.guessing.correct.map(()=>'<div class="cell-dot" style="background:var(--psda)"></div>').join('')}</div><div style="font-size:.7rem;color:var(--muted)">${matrix.guessing.correct.length}</div></div>
      <div class="results-grid-cell"><div class="cell-label">Developing</div><div class="cell-dots">${matrix.unsure.correct.map(()=>'<div class="cell-dot" style="background:var(--math)"></div>').join('')}</div><div style="font-size:.7rem;color:var(--muted)">${matrix.unsure.correct.length}</div></div>
      <div class="results-grid-cell"><div class="cell-label">Solid</div><div class="cell-dots">${matrix.confident.correct.map(()=>'<div class="cell-dot" style="background:var(--correct)"></div>').join('')}</div><div style="font-size:.7rem;color:var(--muted)">${matrix.confident.correct.length}</div></div>
      <div class="results-grid-header" style="writing-mode:horizontal-tb">âœ— Wrong</div>
      <div class="results-grid-cell"><div class="cell-label">Expected</div><div class="cell-dots">${matrix.guessing.wrong.map(()=>'<div class="cell-dot" style="background:var(--muted)"></div>').join('')}</div><div style="font-size:.7rem;color:var(--muted)">${matrix.guessing.wrong.length}</div></div>
      <div class="results-grid-cell"><div class="cell-label">Needs work</div><div class="cell-dots">${matrix.unsure.wrong.map(()=>'<div class="cell-dot" style="background:var(--psda)"></div>').join('')}</div><div style="font-size:.7rem;color:var(--muted)">${matrix.unsure.wrong.length}</div></div>
      <div class="results-grid-cell danger-cell"><div class="cell-label" style="color:var(--wrong);font-weight:700">âš ï¸ DANGER</div><div class="cell-dots">${matrix.confident.wrong.map(()=>'<div class="cell-dot" style="background:var(--wrong)"></div>').join('')}</div><div style="font-size:.7rem;color:var(--wrong)">${matrix.confident.wrong.length}</div></div>
    </div>
    ${matrix.confident.wrong.length > 0 ? '<div class="callout" style="border-color:var(--wrong);background:var(--wrong-bg)"><strong style="color:var(--wrong)">Confident + Wrong</strong> is the most dangerous category. These errors persist into test day because you won\'t self-correct what you think you already know.</div>' : ''}
  </div>`;

  const hasErrors = errors.trap_answer.length + errors.content_gap.length > 0;
  if (hasErrors) {
    html += `<div style="margin-bottom:16px"><div style="font-size:.78rem;font-weight:700;text-transform:uppercase;letter-spacing:1px;color:var(--muted);margin-bottom:8px">Error Pattern Analysis</div>`;
    if (errors.trap_answer.length > 0) html += `<div class="error-category" style="background:rgba(251,191,36,.08);border:1px solid rgba(251,191,36,.3)"><div class="error-label" style="color:var(--psda)">ğŸŸ¡ Trap Answers (${errors.trap_answer.length})</div><div class="error-items">${errors.trap_answer.map(e => e.desc).join(' Â· ')}</div></div>`;
    if (errors.content_gap.length > 0) html += `<div class="error-category" style="background:rgba(239,68,68,.08);border:1px solid rgba(239,68,68,.3)"><div class="error-label" style="color:var(--wrong)">ğŸ”´ Content Gaps (${errors.content_gap.length})</div><div class="error-items">Topics: ${[...new Set(errors.content_gap.map(e=>e.topic))].join(', ')}</div></div>`;
    if (errors.careless.length > 0) html += `<div class="error-category" style="background:rgba(96,165,250,.08);border:1px solid rgba(96,165,250,.3)"><div class="error-label" style="color:var(--math)">ğŸ”µ Possible Careless Errors (${errors.careless.length})</div><div class="error-items">Confident + wrong on easy questions â€” likely arithmetic mistakes</div></div>`;
    if (errors.calibration.length > 0) html += `<div class="error-category" style="background:rgba(239,68,68,.08);border:1px solid rgba(239,68,68,.3)"><div class="error-label" style="color:var(--wrong)">âš ï¸ Calibration Issues (${errors.calibration.length})</div><div class="error-items">You were confident but wrong â€” review these topics carefully</div></div>`;
    html += `</div>`;
  }
  html += `</div>`;
  document.getElementById('practiceResults').style.display = 'block';
  document.getElementById('practiceResults').innerHTML = html;

  document.getElementById('completePracticeStats').innerHTML = `
    <div style="background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:16px 20px;margin-bottom:24px;max-width:500px;width:100%;text-align:left">
      <div style="font-size:.78rem;font-weight:700;text-transform:uppercase;letter-spacing:1px;color:var(--muted);margin-bottom:8px">Practice Results</div>
      <div style="font-family:'JetBrains Mono',monospace;font-size:1.4rem;font-weight:700;color:var(--correct);margin-bottom:8px">${correct}/${total} correct</div>
      <div style="font-size:.82rem;color:var(--muted)">Easy: ${byDiff[1].cor}/${byDiff[1].tot} Â· Medium: ${byDiff[2].cor}/${byDiff[2].tot} Â· Hard: ${byDiff[3].cor}/${byDiff[3].tot}</div>
    </div>`;
}

renderPST();
</script>
<script src="/translate.js"></script>
</body>
</html>
