<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Module 6: Desmos Mastery ‚Äî PSAT 8/9 Math ‚Äî PantherPrep</title>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,600;0,700;1,400&family=Source+Sans+3:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
<style>
:root{--ink:#f0f0f0;--paper:#121212;--accent:#0891b2;--accent-light:rgba(8,145,178,.12);--border:#2a2a2a;--muted:#999;--surface:#1a1a1a;--math:#60a5fa;--math-bg:rgba(96,165,250,.1);--algebra:#34d399;--advanced:#a78bfa;--psda:#fbbf24;--geo:#f87171;--correct:#22c55e;--correct-bg:rgba(34,197,94,.12);--wrong:#ef4444;--wrong-bg:rgba(239,68,68,.12);--danger:#ef4444;--danger-bg:rgba(239,68,68,.08);--grad:linear-gradient(135deg,var(--accent),#60a5fa)}
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Source Sans 3',sans-serif;background:var(--paper);color:var(--ink);line-height:1.65;overflow-x:hidden}
.top-stripe{height:4px;background:linear-gradient(90deg,#0891b2 0%,#0891b2 50%,#fff 50%,#fff 100%);position:fixed;top:0;left:0;right:0;z-index:100}

/* ‚îÄ‚îÄ Screen System ‚îÄ‚îÄ */
.screen{display:none;opacity:0;transition:opacity .4s ease;min-height:100vh}
.screen.active{display:block;opacity:1}
.screen.fade-in{animation:fadeIn .4s ease forwards}
.screen.fade-out{animation:fadeOut .3s ease forwards}
@keyframes fadeIn{from{opacity:0;transform:translateY(12px)}to{opacity:1;transform:translateY(0)}}
@keyframes fadeOut{from{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(-12px)}}

/* ‚îÄ‚îÄ Progress Dots ‚îÄ‚îÄ */
.screen-progress{position:fixed;top:12px;left:50%;transform:translateX(-50%);display:flex;gap:8px;z-index:101;padding:6px 14px;background:rgba(18,18,18,.85);backdrop-filter:blur(8px);border-radius:20px;border:1px solid var(--border)}
.screen-dot{width:8px;height:8px;border-radius:50%;background:var(--border);transition:all .3s;cursor:pointer}
.screen-dot.completed{background:var(--accent)}
.screen-dot.current{background:var(--accent);box-shadow:0 0 8px rgba(8,145,178,.5);transform:scale(1.25)}
.screen-dot:hover{transform:scale(1.3)}

/* ‚îÄ‚îÄ Container ‚îÄ‚îÄ */
.container{max-width:800px;margin:0 auto;padding:20px 20px 60px}

/* ‚îÄ‚îÄ Welcome Screen ‚îÄ‚îÄ */
.welcome-screen{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100vh;padding:40px 20px;text-align:center}
.welcome-badge{display:inline-block;background:var(--accent);color:#fff;font-size:11px;font-weight:700;letter-spacing:2px;text-transform:uppercase;padding:5px 14px;border-radius:16px;margin-bottom:18px}
.welcome-screen h1{font-family:'Cormorant Garamond',serif;font-size:clamp(2rem,5vw,3rem);font-weight:700;margin-bottom:8px;max-width:600px;background:var(--grad);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.welcome-sub{color:var(--muted);font-size:1.05rem;max-width:500px;margin:0 auto 32px}
.welcome-meta{display:flex;gap:24px;justify-content:center;margin-bottom:36px;font-size:.85rem;color:var(--muted)}
.preview-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:12px;max-width:600px;width:100%;margin-bottom:40px}
.preview-card{background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:16px 14px;text-align:left;transition:all .2s}
.preview-card:hover{border-color:var(--accent);transform:translateY(-2px)}
.preview-icon{font-size:1.4rem;margin-bottom:8px}
.preview-title{font-size:.82rem;font-weight:700;margin-bottom:3px}
.preview-desc{font-size:.72rem;color:var(--muted);line-height:1.4}
.start-btn{padding:14px 36px;background:var(--grad);color:#fff;border:none;border-radius:10px;font-size:1rem;font-weight:700;cursor:pointer;transition:all .2s;font-family:'Source Sans 3',sans-serif}
.start-btn:hover{filter:brightness(1.15);transform:translateY(-1px);box-shadow:0 6px 20px rgba(8,145,178,.3)}

/* ‚îÄ‚îÄ Retrieval Warm-Up ‚îÄ‚îÄ */
.warmup-container{max-width:600px;margin:0 auto;padding:60px 20px}
.warmup-header{text-align:center;margin-bottom:32px}
.warmup-badge{display:inline-block;background:var(--psda);color:#000;font-size:10px;font-weight:700;letter-spacing:2px;text-transform:uppercase;padding:4px 12px;border-radius:12px;margin-bottom:12px}
.warmup-dots{display:flex;gap:8px;justify-content:center;margin-top:16px}
.warmup-dot{width:10px;height:10px;border-radius:50%;background:var(--border);transition:all .3s}
.warmup-dot.done-correct{background:var(--correct)}
.warmup-dot.done-wrong{background:var(--wrong)}
.warmup-dot.active{background:var(--psda);box-shadow:0 0 8px rgba(251,191,36,.4)}
.warmup-q{background:var(--surface);border:1px solid var(--border);border-radius:14px;padding:24px;margin-bottom:16px}
.warmup-q .source-tag{font-size:.7rem;color:var(--psda);font-weight:700;letter-spacing:1px;text-transform:uppercase;margin-bottom:8px}
.warmup-q .q-text{font-size:.95rem;line-height:1.7;margin-bottom:14px}
.warmup-choices{display:flex;flex-direction:column;gap:8px}
.warmup-choice{display:flex;align-items:center;gap:10px;padding:11px 14px;background:var(--paper);border:2px solid var(--border);border-radius:8px;cursor:pointer;font-size:.88rem;transition:all .15s}
.warmup-choice:hover:not(.wu-dis){border-color:var(--psda);background:rgba(251,191,36,.05)}
.warmup-choice.wu-correct{border-color:var(--correct);background:var(--correct-bg)}
.warmup-choice.wu-wrong{border-color:var(--wrong);background:var(--wrong-bg)}
.warmup-choice.wu-dis{pointer-events:none;opacity:.7}
.warmup-choice.wu-correct{opacity:1}
.warmup-fb{font-size:.85rem;color:var(--muted);line-height:1.6;margin-top:12px;padding:10px;background:var(--paper);border-radius:8px;border-left:3px solid var(--correct)}
.warmup-next{padding:10px 24px;background:var(--psda);color:#000;border:none;border-radius:8px;font-weight:700;cursor:pointer;font-size:.88rem;margin-top:12px;font-family:'Source Sans 3',sans-serif}
.warmup-next:hover{filter:brightness(1.1)}
.warmup-summary{text-align:center;padding:40px 20px}
.warmup-score{font-family:'JetBrains Mono',monospace;font-size:2.4rem;font-weight:700;color:var(--psda);margin:12px 0}
.warmup-continue{padding:12px 28px;background:var(--accent);color:#fff;border:none;border-radius:8px;font-weight:700;cursor:pointer;font-size:.95rem;margin-top:20px;font-family:'Source Sans 3',sans-serif}
.warmup-continue:hover{filter:brightness(1.15)}

/* ‚îÄ‚îÄ Lesson Content ‚îÄ‚îÄ */
.back-link{display:inline-flex;align-items:center;gap:8px;color:var(--muted);font-size:.9rem;padding:8px 0;margin-top:8px;cursor:pointer;text-decoration:none}
.back-link:hover{color:var(--accent)}
.mod-header{padding:40px 0 30px;border-bottom:1px solid var(--border);margin-bottom:32px}
.mod-badge{display:inline-block;background:var(--accent);color:#fff;font-size:11px;font-weight:700;letter-spacing:2px;text-transform:uppercase;padding:5px 14px;border-radius:16px;margin-bottom:14px}
.mod-header h1{font-family:'Cormorant Garamond',serif;font-size:clamp(1.8rem,4vw,2.6rem);font-weight:700;margin-bottom:6px}
.mod-header .subtitle{color:var(--muted);font-size:1rem}
.mod-meta{display:flex;gap:20px;margin-top:14px;font-size:.82rem;color:var(--muted)}
.section{margin-bottom:36px}
.section-label{font-size:.7rem;font-weight:700;letter-spacing:2px;text-transform:uppercase;color:var(--accent);margin-bottom:6px}
.section h2{font-family:'Cormorant Garamond',serif;font-size:1.6rem;font-weight:700;margin-bottom:12px}
.section p{color:#ccc;font-size:.93rem;margin-bottom:12px;line-height:1.7}
.card{background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:18px 20px;margin-bottom:12px}
.card-accent{border-left:3px solid var(--accent)}
.callout{background:var(--accent-light);border:1px solid rgba(8,145,178,.3);border-radius:10px;padding:14px 18px;margin-bottom:16px;font-size:.9rem}
.callout strong{color:var(--accent)}
.callout-blue{background:var(--math-bg);border-color:rgba(96,165,250,.3)}.callout-blue strong{color:var(--math)}
.callout-gold{background:rgba(8,145,178,.08);border-color:rgba(8,145,178,.3)}.callout-gold strong{color:var(--accent)}
.topic{background:var(--surface);border:1px solid var(--border);border-radius:14px;margin-bottom:12px;overflow:hidden;transition:all .3s}
.topic-header{display:flex;align-items:center;gap:14px;padding:16px 20px;cursor:pointer}
.topic-badge{width:38px;height:38px;border-radius:10px;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:.82rem;color:#fff;flex-shrink:0}
.topic-info{flex:1}.topic-title{font-weight:700;font-size:.95rem}.topic-sub{font-size:.82rem;color:var(--muted);margin-top:2px}
.topic-arrow{color:var(--muted);transition:transform .2s;font-size:.9rem}
.topic.open .topic-arrow{transform:rotate(90deg)}
.topic-body{display:none;padding:0 20px 18px;font-size:.9rem;color:#ccc;line-height:1.7}
.topic.open .topic-body{display:block}
.topic-body h4{font-size:.95rem;color:var(--ink);margin:14px 0 6px;font-weight:700}
.topic-body ul{padding-left:18px;margin-bottom:10px}.topic-body li{margin-bottom:6px}
.formula-box{background:var(--paper);border:1px solid var(--border);border-radius:10px;padding:14px 16px;margin:10px 0;font-family:'JetBrains Mono',monospace;font-size:.85rem;line-height:1.8}
.formula-box .fn{color:var(--accent);font-weight:700}.formula-box .fl{color:var(--math);font-weight:700}
.exercise{background:var(--surface);border:2px solid var(--accent);border-radius:14px;padding:22px;margin-bottom:16px}
.exercise h3{font-family:'Cormorant Garamond',serif;font-size:1.2rem;margin-bottom:4px}
.exercise-sub{font-size:.82rem;color:var(--muted);margin-bottom:14px}
.ex-item{background:var(--paper);border:1px solid var(--border);border-radius:10px;padding:14px;margin-bottom:10px}
.ex-prompt{font-size:.92rem;line-height:1.6;margin-bottom:10px;color:#ddd}
.ex-prompt code{background:rgba(96,165,250,.1);color:var(--math);padding:1px 6px;border-radius:4px;font-family:'JetBrains Mono',monospace;font-size:.85rem}
.ex-input-row{display:flex;align-items:center;gap:8px;flex-wrap:wrap}
.ex-input{padding:8px 12px;background:var(--surface);border:1px solid var(--border);border-radius:6px;color:var(--ink);font-family:'JetBrains Mono',monospace;font-size:1rem;width:100px;text-align:center}
.ex-input:focus{border-color:var(--accent);outline:none}
.ex-btn{padding:8px 16px;background:var(--accent);color:#fff;border:none;border-radius:6px;cursor:pointer;font-size:.82rem;font-weight:600}.ex-btn:hover{filter:brightness(1.15)}
.ex-fb{font-size:.82rem;padding:8px 10px;border-radius:6px;margin-top:8px;display:none;line-height:1.5}
.ex-fb.show{display:block}.ex-fb.correct{background:var(--correct-bg);color:var(--correct)}.ex-fb.wrong{background:var(--wrong-bg);color:var(--wrong)}
.tier{display:inline-block;padding:2px 8px;border-radius:4px;font-size:.68rem;font-weight:700;letter-spacing:1px;text-transform:uppercase}
.tier-1{background:rgba(52,211,153,.15);color:var(--algebra)}.tier-2{background:var(--math-bg);color:var(--math)}.tier-3{background:rgba(167,139,250,.15);color:var(--advanced)}
.classify-opts{display:flex;flex-wrap:wrap;gap:6px;margin-bottom:4px}
.classify-opt{padding:6px 14px;background:var(--surface);border:2px solid var(--border);border-radius:8px;cursor:pointer;font-size:.82rem;transition:all .15s}
.classify-opt:hover:not(.cl-dis){border-color:var(--accent);background:rgba(8,145,178,.08)}
.classify-opt.cl-correct{border-color:var(--correct);background:var(--correct-bg);color:var(--correct);opacity:1}
.classify-opt.cl-wrong{border-color:var(--wrong);background:var(--wrong-bg);color:var(--wrong)}
.classify-opt.cl-dis{pointer-events:none;opacity:.6}.classify-opt.cl-correct{opacity:1}

/* ‚îÄ‚îÄ Trap Taxonomy ‚îÄ‚îÄ */
.trap-taxonomy{margin-bottom:24px}
.trap-card{background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:16px 18px;margin-bottom:10px;display:flex;gap:14px;align-items:flex-start;transition:all .2s}
.trap-card:hover{border-color:var(--accent);transform:translateX(3px)}
.trap-number{width:32px;height:32px;border-radius:8px;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:.78rem;color:#fff;flex-shrink:0}
.trap-card-body{flex:1}
.trap-card-name{font-weight:700;font-size:.92rem;margin-bottom:3px}
.trap-card-desc{font-size:.82rem;color:var(--muted);line-height:1.5}
.trap-card-example{font-size:.78rem;color:var(--math);font-family:'JetBrains Mono',monospace;margin-top:4px}

/* ‚îÄ‚îÄ Confidence Tags ‚îÄ‚îÄ */
.confidence-row{display:flex;gap:6px;margin-bottom:10px;flex-wrap:wrap}
.conf-tag{padding:5px 12px;border-radius:6px;font-size:.75rem;font-weight:600;cursor:pointer;border:2px solid var(--border);background:var(--surface);transition:all .15s;letter-spacing:.5px}
.conf-tag:hover{border-color:var(--accent)}
.conf-tag.selected{border-color:var(--accent);background:rgba(8,145,178,.12);color:var(--accent)}
.conf-tag[data-conf="guessing"].selected{border-color:var(--psda);background:rgba(251,191,36,.12);color:var(--psda)}
.conf-tag[data-conf="unsure"].selected{border-color:var(--math);background:var(--math-bg);color:var(--math)}
.conf-tag[data-conf="confident"].selected{border-color:var(--accent);background:rgba(8,145,178,.12);color:var(--accent)}

/* ‚îÄ‚îÄ Timed Practice ‚îÄ‚îÄ */
.timer-bar{position:sticky;top:8px;z-index:50;background:rgba(18,18,18,.92);backdrop-filter:blur(8px);border:1px solid var(--border);border-radius:12px;padding:10px 16px;margin-bottom:20px;display:flex;align-items:center;gap:14px}
.timer-display{font-family:'JetBrains Mono',monospace;font-size:1.1rem;font-weight:700;color:var(--accent);min-width:60px}
.timer-display.warning{color:var(--psda)}
.timer-display.danger{color:var(--wrong);animation:pulse 1s ease infinite}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:.5}}
.timer-track{flex:1;height:4px;background:var(--border);border-radius:2px;overflow:hidden}
.timer-fill{height:100%;background:var(--grad);transition:width 1s linear;border-radius:2px}
.timer-fill.warning{background:var(--psda)}
.timer-fill.danger{background:var(--wrong)}
.timer-toggle{padding:5px 12px;background:var(--surface);border:1px solid var(--border);border-radius:6px;font-size:.75rem;color:var(--muted);cursor:pointer;font-family:'Source Sans 3',sans-serif;font-weight:600}
.timer-toggle:hover{border-color:var(--accent);color:var(--ink)}
.timer-toggle.active{background:var(--accent-light);border-color:var(--accent);color:var(--accent)}
.q-dots{display:flex;gap:4px}
.q-dot{width:8px;height:8px;border-radius:50%;background:var(--border)}
.q-dot.correct{background:var(--correct)}
.q-dot.wrong{background:var(--wrong)}
.q-dot.current{background:var(--accent);box-shadow:0 0 6px rgba(8,145,178,.5)}

/* ‚îÄ‚îÄ MC Choices ‚îÄ‚îÄ */
.mc-choices{display:flex;flex-direction:column;gap:6px}
.mc-choice{display:flex;align-items:center;gap:10px;padding:10px 14px;background:var(--paper);border:2px solid var(--border);border-radius:8px;cursor:pointer;font-size:.88rem;transition:all .15s}
.mc-choice:hover:not(.mc-dis){border-color:var(--accent);background:rgba(8,145,178,.05)}
.mc-letter{font-weight:700;color:var(--muted);min-width:20px}
.mc-choice.mc-correct{border-color:var(--correct);background:var(--correct-bg);opacity:1}
.mc-choice.mc-wrong{border-color:var(--wrong);background:var(--wrong-bg)}
.mc-choice.mc-dis{pointer-events:none;opacity:.7}.mc-choice.mc-correct{opacity:1}
.mc-choice.mc-correct .mc-letter{color:var(--correct)}.mc-choice.mc-wrong .mc-letter{color:var(--wrong)}
.mc-fb{font-size:.85rem;color:var(--muted);line-height:1.6;margin-top:10px;padding:10px;background:var(--paper);border-radius:8px;display:none;border-left:3px solid var(--correct)}.mc-fb.show{display:block}
.score-bar{display:flex;align-items:center;gap:10px;margin-top:14px;padding-top:10px;border-top:1px solid var(--border)}
.score-bar-label{font-size:.72rem;font-weight:700;text-transform:uppercase;letter-spacing:1px;color:var(--muted)}
.score-bar-track{flex:1;height:6px;border-radius:3px;background:var(--border);overflow:hidden}
.score-bar-fill{height:100%;border-radius:3px;background:var(--correct);transition:width .4s ease}
.score-bar-val{font-family:'JetBrains Mono',monospace;font-size:.85rem;font-weight:700;color:var(--correct);min-width:36px;text-align:right}

/* ‚îÄ‚îÄ Results Enhancement ‚îÄ‚îÄ */
.results-section{margin-top:24px;padding:20px;background:var(--surface);border:1px solid var(--border);border-radius:14px}
.results-section h3{font-family:'Cormorant Garamond',serif;font-size:1.3rem;margin-bottom:14px}
.results-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:2px;margin-bottom:16px;background:var(--border);border-radius:10px;overflow:hidden}
.results-grid-header{background:var(--surface);padding:8px;text-align:center;font-size:.68rem;font-weight:700;text-transform:uppercase;letter-spacing:1px;color:var(--muted)}
.results-grid-cell{background:var(--paper);padding:10px 8px;text-align:center;font-size:.78rem;min-height:50px;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:4px}
.results-grid-cell.danger-cell{background:var(--danger-bg);border:1px solid rgba(239,68,68,.3)}
.cell-label{font-size:.65rem;color:var(--muted);font-weight:600}
.cell-dots{display:flex;gap:3px;flex-wrap:wrap;justify-content:center}
.cell-dot{width:8px;height:8px;border-radius:50%}
.difficulty-bars{display:flex;flex-direction:column;gap:8px;margin-bottom:16px}
.diff-row{display:flex;align-items:center;gap:10px}
.diff-label{font-size:.78rem;font-weight:600;min-width:60px}
.diff-track{flex:1;height:8px;background:var(--border);border-radius:4px;overflow:hidden}
.diff-fill{height:100%;border-radius:4px;transition:width .5s ease}
.diff-val{font-family:'JetBrains Mono',monospace;font-size:.78rem;font-weight:700;min-width:40px;text-align:right}
.error-category{padding:12px 16px;border-radius:10px;margin-bottom:8px;font-size:.85rem;line-height:1.6}
.error-category .error-label{font-weight:700;margin-bottom:4px}
.error-category .error-items{color:var(--muted);font-size:.82rem}

/* ‚îÄ‚îÄ Module Complete ‚îÄ‚îÄ */
.complete-screen{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100vh;padding:40px 20px;text-align:center}
.complete-icon{font-size:4rem;margin-bottom:16px;animation:celebrateBounce .6s ease}
@keyframes celebrateBounce{0%{transform:scale(0)}50%{transform:scale(1.2)}100%{transform:scale(1)}}
.complete-screen h1{font-family:'Cormorant Garamond',serif;font-size:clamp(1.8rem,4vw,2.4rem);margin-bottom:8px;background:var(--grad);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.complete-sub{color:var(--muted);font-size:1rem;margin-bottom:28px}
.takeaway-list{text-align:left;max-width:500px;width:100%;margin-bottom:32px}
.takeaway-item{display:flex;gap:10px;align-items:flex-start;padding:8px 0;font-size:.88rem;color:#ccc}
.takeaway-check{color:var(--correct);flex-shrink:0;font-weight:700}
.nav-cards{display:grid;grid-template-columns:1fr 1fr;gap:12px;max-width:500px;width:100%}
.nav-card{background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:18px;text-align:center;cursor:pointer;transition:all .2s;text-decoration:none;color:var(--ink)}
.nav-card:hover{border-color:var(--accent);transform:translateY(-2px)}
.nav-card-label{font-size:.7rem;color:var(--muted);text-transform:uppercase;letter-spacing:1px;margin-bottom:4px}
.nav-card-title{font-weight:700;font-size:.95rem}

/* ‚îÄ‚îÄ Module 6 Specific Styles ‚îÄ‚îÄ */
.skill-table{width:100%;border-collapse:collapse;font-size:.85rem;margin:12px 0}
.skill-table th,.skill-table td{padding:10px 12px;border:1px solid var(--border);text-align:left}
.skill-table th{background:var(--surface);font-weight:700;color:var(--accent);font-size:.78rem;text-transform:uppercase;letter-spacing:.5px}
.skill-table td{color:#ccc;vertical-align:top}
.skill-num{display:inline-flex;width:22px;height:22px;border-radius:50%;background:var(--accent);color:#fff;font-size:.72rem;font-weight:700;align-items:center;justify-content:center;margin-right:8px}
.sc-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:8px;margin:12px 0}
.sc-card{background:var(--paper);border:1px solid var(--border);border-radius:10px;padding:12px;text-align:center}
.sc-key{font-family:'JetBrains Mono',monospace;font-size:1.2rem;font-weight:700;color:var(--accent);margin-bottom:4px}
.sc-desc{font-size:.78rem;color:var(--muted)}
.do-dont{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin:12px 0}
.do-card,.dont-card{background:var(--surface);border-radius:12px;padding:16px;font-size:.88rem}
.do-card{border:2px solid var(--correct)}.dont-card{border:2px solid var(--wrong)}
.do-card h4{color:var(--correct);margin-bottom:8px}.dont-card h4{color:var(--wrong);margin-bottom:8px}
.do-card li,.dont-card li{margin-bottom:4px;color:#ccc}
.step-card{background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:16px 20px;margin-bottom:10px}
.step-num{display:inline-flex;width:28px;height:28px;border-radius:50%;background:var(--accent);color:#fff;font-size:.85rem;font-weight:700;align-items:center;justify-content:center;margin-right:10px;flex-shrink:0}
.step-header{display:flex;align-items:center;margin-bottom:8px;font-weight:700;font-size:.95rem}
.step-body{font-size:.88rem;color:#ccc;line-height:1.6;padding-left:38px}
.step-body code{background:rgba(96,165,250,.1);color:var(--math);padding:1px 6px;border-radius:4px;font-family:'JetBrains Mono',monospace;font-size:.85rem}
.fm-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:8px;margin:12px 0}
.fm-card{background:var(--paper);border:1px solid var(--border);border-radius:10px;padding:12px;text-align:center}
.fm-name{font-size:.72rem;font-weight:700;text-transform:uppercase;letter-spacing:1px;color:var(--muted);margin-bottom:4px}
.fm-eq{font-family:'JetBrains Mono',monospace;font-size:.95rem;font-weight:700;color:var(--math)}

/* ‚îÄ‚îÄ Responsive ‚îÄ‚îÄ */
@media(max-width:600px){
  .mod-meta{flex-wrap:wrap;gap:10px}
  .classify-opts{gap:4px}
  .preview-grid{grid-template-columns:1fr 1fr}
  .welcome-meta{flex-wrap:wrap;gap:12px}
  .results-grid{grid-template-columns:1fr;gap:1px}
  .nav-cards{grid-template-columns:1fr}
  .timer-bar{flex-wrap:wrap;gap:8px}
  .do-dont{grid-template-columns:1fr}
  .sc-grid{grid-template-columns:repeat(2,1fr)}
}
</style>
</head>
<body>
<div class="top-stripe"></div>

<!-- ‚îÄ‚îÄ Screen Progress Dots ‚îÄ‚îÄ -->
<div class="screen-progress" id="screenProgress"></div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<!-- SCREEN 1: WELCOME                             -->
<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="screen active fade-in" id="screen-welcome">
  <div class="welcome-screen">
    <div class="welcome-badge">Module 6</div>
    <h1>Desmos Mastery ‚Äî Your Built-In Graphing Calculator</h1>
    <p class="welcome-sub">Every student gets the same Desmos calculator on every SAT Suite test. Learning it well is like getting a free cheat code.</p>
    <div class="welcome-meta">
      <span>‚è± ~45 min</span>
      <span>üìã 10 skills</span>
      <span>üî® 3 exercises</span>
      <span>üéØ 10 practice Qs</span>
    </div>
    <div class="preview-grid">
      <div class="preview-card">
        <div class="preview-icon">üîÑ</div>
        <div class="preview-title">Retrieval Warm-Up</div>
        <div class="preview-desc">5 questions from Module 5 to activate prior knowledge</div>
      </div>
      <div class="preview-card">
        <div class="preview-icon">üöÄ</div>
        <div class="preview-title">First Steps & 10 Skills</div>
        <div class="preview-desc">Open Desmos, type equations, find intersections, and more</div>
      </div>
      <div class="preview-card">
        <div class="preview-icon">‚å®Ô∏è</div>
        <div class="preview-title">Keyboard Shortcuts</div>
        <div class="preview-desc">Save 2-3 seconds per entry with these key combos</div>
      </div>
      <div class="preview-card">
        <div class="preview-icon">‚ö°</div>
        <div class="preview-title">Speed Decision Drill</div>
        <div class="preview-desc">Desmos or algebra? Learn when each approach wins</div>
      </div>
      <div class="preview-card">
        <div class="preview-icon">üìã</div>
        <div class="preview-title">Homework Protocol</div>
        <div class="preview-desc">7-step practice routine for desmos.com</div>
      </div>
      <div class="preview-card">
        <div class="preview-icon">‚è±</div>
        <div class="preview-title">Timed Practice</div>
        <div class="preview-desc">10 PSAT-style questions with confidence tracking</div>
      </div>
    </div>
    <button class="start-btn" onclick="goScreen(1)">Start Learning ‚Üí</button>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<!-- SCREEN 2: RETRIEVAL WARM-UP                   -->
<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="screen" id="screen-warmup">
  <div class="warmup-container">
    <div class="warmup-header">
      <div class="warmup-badge">Retrieval Warm-Up</div>
      <h2 style="font-family:'Cormorant Garamond',serif;font-size:1.6rem">Module 5 Review</h2>
      <p style="color:var(--muted);font-size:.9rem;margin-top:4px">Quick recall from Geometry ‚Äî keep those skills sharp.</p>
      <div class="warmup-dots" id="warmupDots"></div>
    </div>
    <div id="warmupContent"></div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<!-- SCREEN 3: LESSON CONTENT                      -->
<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="screen" id="screen-lesson">
<div class="container">
<div class="mod-header">
  <div class="mod-badge" style="background:var(--accent)">Module 6</div>
  <h1>Desmos Mastery ‚Äî Your Built-In Graphing Calculator</h1>
  <p class="subtitle">Every student gets the same Desmos calculator on every SAT Suite test. Learning it well is like getting a free cheat code.</p>
  <div class="mod-meta"><span>‚è± ~45 min</span><span>üìã First Steps + 10 skills + 3 exercises</span><span>üõ† Phase 3: Strategize</span></div>
</div>

<div class="callout"><strong>Why Desmos Matters:</strong> Desmos can solve 60‚Äì70% of PSAT 8/9 math questions faster than algebra. It graphs equations instantly, finds intersections with a click, and handles statistics, regressions, and inequalities. The students who master Desmos consistently score higher ‚Äî not because they're better at math, but because they're faster.</div>

<!-- FIRST STEPS TUTORIAL -->
<div class="section">
  <div class="section-label">Getting Started</div>
  <h2>Desmos First Steps</h2>
  <p>If you've never used a graphing calculator before, start here. These basics take 5 minutes to learn and will unlock everything else.</p>
</div>

<div class="step-card">
  <div class="step-header"><div class="step-num">1</div>Opening Desmos</div>
  <div class="step-body">On the PSAT, there's a calculator icon at the top of every math question. Click it to open Desmos. It appears in a panel you can resize or pop out. You also have a simpler scientific calculator mode ‚Äî but 95% of the time, you want the <strong>graphing</strong> calculator.</div>
</div>
<div class="step-card">
  <div class="step-header"><div class="step-num">2</div>Typing an Equation</div>
  <div class="step-body">Click the first empty line on the left panel and type. For example, type <code>y = 2x + 3</code> and the line appears instantly on the graph. Type a second equation on line 2 to see both. Desmos auto-formats as you type ‚Äî fractions, exponents, and symbols appear properly.</div>
</div>
<div class="step-card">
  <div class="step-header"><div class="step-num">3</div>Finding Intersections</div>
  <div class="step-body">When two graphs cross, a <strong>gray dot</strong> appears at the intersection. Click it to see the exact (x, y) coordinates. This is how you solve systems of equations ‚Äî graph both lines and click where they meet.</div>
</div>
<div class="step-card">
  <div class="step-header"><div class="step-num">4</div>Zooming & Panning</div>
  <div class="step-body">Use the + and ‚àí buttons or scroll wheel to zoom. Click and drag to pan. If you can't see the intersection, zoom out. If points are too close together, zoom in. You can also click the wrench icon (‚öô) to set exact axis ranges.</div>
</div>
<div class="step-card">
  <div class="step-header"><div class="step-num">5</div>Key Symbols</div>
  <div class="step-body">Type <code>^</code> for exponents: <code>x^2</code> ‚Üí x¬≤. Type <code>/</code> for fractions: <code>3/4</code> ‚Üí ¬æ. Type <code>sqrt</code> for square root. Type <code>pi</code> for œÄ. Type <code>|</code> (Shift + backslash) for absolute value. These shortcuts are essential for speed.</div>
</div>

<div class="callout-blue callout"><strong>Practice Now:</strong> Go to <a href="https://www.desmos.com/calculator" target="_blank" style="color:var(--math)">desmos.com/calculator</a> and try typing <code>y = x^2 - 4</code>. Then type <code>y = x</code> on line 2. Click the intersection points. You just solved x¬≤ ‚àí 4 = x using Desmos!</div>

<!-- 10 ESSENTIAL SKILLS -->
<div class="section">
  <div class="section-label">Core Skills</div>
  <h2>The 10 Essential Desmos Skills</h2>
  <p>Master these 10 skills and you can Desmos-solve the majority of PSAT 8/9 math questions.</p>
</div>

<table class="skill-table">
  <tr><th>Skill</th><th>How To Do It</th><th>PSAT 8/9 Application</th></tr>
  <tr><td><span class="skill-num">1</span>Graph a function</td><td>Type: <code>y = x¬≤ ‚àí 4</code></td><td>Visualize shape, find intercepts & vertex</td></tr>
  <tr><td><span class="skill-num">2</span>Find intersections</td><td>Graph two equations; click the gray dot</td><td>Solve systems, find where f(x) = g(x)</td></tr>
  <tr><td><span class="skill-num">3</span>Use sliders</td><td>Type a letter like <code>a</code>; Desmos creates a slider</td><td>Find unknown constants by sliding until conditions match</td></tr>
  <tr><td><span class="skill-num">4</span>Enter a table</td><td>Click <strong>+</strong> ‚Üí Table; enter x, y values</td><td>Check if points satisfy an equation, set up data for regression</td></tr>
  <tr><td><span class="skill-num">5</span>Run a regression</td><td>After table: type <code>y‚ÇÅ ~ mx‚ÇÅ + b</code></td><td>Find line of best fit from data</td></tr>
  <tr><td><span class="skill-num">6</span>Graph inequalities</td><td>Type: <code>y > 2x + 1</code></td><td>Visualize solution regions, check if a point satisfies the inequality</td></tr>
  <tr><td><span class="skill-num">7</span>Calculate statistics</td><td>Type: <code>mean(1,2,3,4,5)</code></td><td>Quick mean, median calculations</td></tr>
  <tr><td><span class="skill-num">8</span>Use percent</td><td>Type: <code>20% of 350</code> or <code>0.20 * 350</code></td><td>Percentage problems, percent increase/decrease</td></tr>
  <tr><td><span class="skill-num">9</span>Graph circles</td><td>Type: <code>(x‚àí2)¬≤+(y+3)¬≤=25</code></td><td>Verify center, radius; find where circle meets a line</td></tr>
  <tr><td><span class="skill-num">10</span>Use keyboard shortcuts</td><td><code>^</code> <code>_</code> <code>~</code> <code>|</code> <code>sqrt</code> <code>pi</code></td><td>Speed up every single entry ‚Äî saves 2‚Äì3 sec each</td></tr>
</table>

<!-- KEYBOARD SHORTCUTS -->
<div class="section">
  <div class="section-label">Reference</div>
  <h2>Keyboard Shortcuts</h2>
  <p>Memorize these before test day. They save 2‚Äì3 seconds per entry ‚Äî that adds up over 44 questions.</p>
</div>

<div class="sc-grid">
  <div class="sc-card"><div class="sc-key">^</div><div class="sc-desc">Exponents: x^2 ‚Üí x¬≤</div></div>
  <div class="sc-card"><div class="sc-key">_</div><div class="sc-desc">Subscripts: y_1 ‚Üí y‚ÇÅ</div></div>
  <div class="sc-card"><div class="sc-key">~</div><div class="sc-desc">Regression: y‚ÇÅ~mx‚ÇÅ+b</div></div>
  <div class="sc-card"><div class="sc-key">Shift+\</div><div class="sc-desc">Absolute value: |x‚àí3|</div></div>
  <div class="sc-card"><div class="sc-key">sqrt</div><div class="sc-desc">Square root: sqrt(x)</div></div>
  <div class="sc-card"><div class="sc-key">pi</div><div class="sc-desc">œÄ constant: 3.14159‚Ä¶</div></div>
  <div class="sc-card"><div class="sc-key">/</div><div class="sc-desc">Fractions: 3/7 ‚Üí ¬≥‚ÅÑ‚Çá</div></div>
  <div class="sc-card"><div class="sc-key">‚öô</div><div class="sc-desc">Wrench icon: set axis range</div></div>
</div>

<!-- SCIENTIFIC vs GRAPHING -->
<div class="section">
  <div class="section-label">Calculator Modes</div>
  <h2>Graphing vs. Scientific Mode</h2>
</div>

<div class="topic open" onclick="if(event.target.closest('.topic-body'))return;this.classList.toggle('open')">
  <div class="topic-header">
    <div class="topic-badge" style="background:var(--accent)">‚öô</div>
    <div class="topic-info"><div class="topic-title">When to Use Each Mode</div><div class="topic-sub">Graphing for visuals, scientific for quick calculations</div></div>
    <div class="topic-arrow">‚ñ∏</div>
  </div>
  <div class="topic-body">
    <ul>
      <li><strong>Graphing mode (default):</strong> Use 95% of the time. Graphs equations, finds intersections, runs regressions, handles tables. This is your power tool.</li>
      <li><strong>Scientific mode:</strong> Switch to this for pure arithmetic. Cleaner interface for calculations that don't need graphs ‚Äî like unit conversions or complex fractions.</li>
      <li><strong>CAS ban:</strong> Computer Algebra Systems (like TI-Nspire CAS) are NOT allowed on the PSAT. The Desmos calculator provided does NOT have CAS ‚Äî it won't simplify algebraic expressions or factor for you. It can only evaluate numerically and graph.</li>
    </ul>
    <div class="callout"><strong>Practical tip:</strong> Even for arithmetic, the graphing calculator works fine ‚Äî just type the expression on a blank line and Desmos evaluates it. No need to switch modes unless the interface feels cluttered.</div>
  </div>
</div>

<!-- WHEN TO USE DESMOS -->
<div class="section">
  <div class="section-label">Calculator Discipline</div>
  <h2>When to Use Desmos ‚Äî and When NOT To</h2>
</div>

<div class="do-dont">
  <div class="do-card">
    <h4>‚úÖ USE Desmos</h4>
    <ul style="padding-left:16px">
      <li>Systems of equations (graph & click)</li>
      <li>Quadratic vertex, zeros, graph shape</li>
      <li>Finding where f(x) = g(x)</li>
      <li>Data tables & regression (line of best fit)</li>
      <li>Inequality solution regions</li>
      <li>Circle equations (verify center, radius)</li>
      <li>Unknown constants with sliders</li>
      <li>Verifying your algebraic answer</li>
      <li>Quick mean/median calculations</li>
    </ul>
  </div>
  <div class="dont-card">
    <h4>‚ùå DON'T Use Desmos</h4>
    <ul style="padding-left:16px">
      <li>Simple arithmetic you can do mentally</li>
      <li>Single-step calculations</li>
      <li>Questions testing setup, not solving</li>
      <li>When you see the answer immediately</li>
      <li>Unit conversions</li>
      <li>Probability from tables</li>
      <li>If setup takes > 15 seconds</li>
      <li>Study design / conceptual questions</li>
    </ul>
  </div>
</div>

<div class="callout"><strong>The 5-Second Rule:</strong> If you can't figure out how to set up the problem in Desmos within 5 seconds, switch to algebra. Desmos is a tool, not a crutch. Use it when it's faster; skip it when it's not.</div>

<!-- WORKED EXAMPLES -->
<div class="section">
  <div class="section-label">Worked Examples</div>
  <h2>Desmos in Action ‚Äî 5 Common PSAT Scenarios</h2>
</div>

<div class="topic open" onclick="if(event.target.closest('.topic-body'))return;this.classList.toggle('open')">
  <div class="topic-header">
    <div class="topic-badge" style="background:var(--algebra)">Ex</div>
    <div class="topic-info"><div class="topic-title">Scenario 1: Solve a System of Equations</div><div class="topic-sub">y = 2x + 1 and y = ‚àíx + 7</div></div>
    <div class="topic-arrow">‚ñ∏</div>
  </div>
  <div class="topic-body">
    <p><strong>Step 1:</strong> Type <code>y = 2x + 1</code> on line 1.</p>
    <p><strong>Step 2:</strong> Type <code>y = ‚àíx + 7</code> on line 2.</p>
    <p><strong>Step 3:</strong> Click the gray intersection dot ‚Üí (2, 5).</p>
    <p><strong>Answer:</strong> x = 2, y = 5. Done in under 10 seconds.</p>
    <p style="color:var(--muted);font-size:.85rem"><em>Algebraically, this would take 30+ seconds with substitution or elimination.</em></p>
  </div>
</div>

<div class="topic" onclick="if(event.target.closest('.topic-body'))return;this.classList.toggle('open')">
  <div class="topic-header">
    <div class="topic-badge" style="background:var(--advanced)">Ex</div>
    <div class="topic-info"><div class="topic-title">Scenario 2: Find the Vertex of a Quadratic</div><div class="topic-sub">f(x) = x¬≤ ‚àí 6x + 5</div></div>
    <div class="topic-arrow">‚ñ∏</div>
  </div>
  <div class="topic-body">
    <p><strong>Step 1:</strong> Type <code>y = x^2 ‚àí 6x + 5</code></p>
    <p><strong>Step 2:</strong> Click the bottom of the parabola ‚Üí Desmos shows (3, ‚àí4).</p>
    <p><strong>Answer:</strong> Vertex at (3, ‚àí4). You also see zeros at x = 1 and x = 5 (click those dots too).</p>
  </div>
</div>

<div class="topic" onclick="if(event.target.closest('.topic-body'))return;this.classList.toggle('open')">
  <div class="topic-header">
    <div class="topic-badge" style="background:var(--psda)">Ex</div>
    <div class="topic-info"><div class="topic-title">Scenario 3: Find a Line of Best Fit</div><div class="topic-sub">Data: (1,3), (2,5), (3,8), (4,11), (5,14)</div></div>
    <div class="topic-arrow">‚ñ∏</div>
  </div>
  <div class="topic-body">
    <p><strong>Step 1:</strong> Click <strong>+</strong> ‚Üí Table. Enter x values: 1,2,3,4,5 and y values: 3,5,8,11,14.</p>
    <p><strong>Step 2:</strong> On a new line, type <code>y‚ÇÅ ~ mx‚ÇÅ + b</code> (use _ for subscript, ~ for regression).</p>
    <p><strong>Step 3:</strong> Desmos shows: m ‚âà 2.8, b ‚âà 0.2. So the line is approximately y = 2.8x + 0.2.</p>
    <p style="color:var(--muted);font-size:.85rem"><em>You can also try <code>y‚ÇÅ ~ ax‚ÇÅ¬≤ + bx‚ÇÅ + c</code> for a quadratic fit if the data curves.</em></p>
  </div>
</div>

<div class="topic" onclick="if(event.target.closest('.topic-body'))return;this.classList.toggle('open')">
  <div class="topic-header">
    <div class="topic-badge" style="background:var(--geo)">Ex</div>
    <div class="topic-info"><div class="topic-title">Scenario 4: Use a Slider to Find an Unknown</div><div class="topic-sub">The line y = ax + 3 passes through (4, 11). Find a.</div></div>
    <div class="topic-arrow">‚ñ∏</div>
  </div>
  <div class="topic-body">
    <p><strong>Step 1:</strong> Type <code>y = ax + 3</code>. Desmos creates a slider for a.</p>
    <p><strong>Step 2:</strong> Plot the point <code>(4, 11)</code> on another line.</p>
    <p><strong>Step 3:</strong> Slide a until the line passes through the point. Or just compute: 11 = 4a + 3 ‚Üí a = 2.</p>
    <p style="color:var(--muted);font-size:.85rem"><em>Sliders are especially powerful when the algebra is messy ‚Äî slide until the graph looks right.</em></p>
  </div>
</div>

<div class="topic" onclick="if(event.target.closest('.topic-body'))return;this.classList.toggle('open')">
  <div class="topic-header">
    <div class="topic-badge" style="background:var(--accent)">Ex</div>
    <div class="topic-info"><div class="topic-title">Scenario 5: Quick Statistics</div><div class="topic-sub">Find the mean of 12, 15, 18, 22, 33</div></div>
    <div class="topic-arrow">‚ñ∏</div>
  </div>
  <div class="topic-body">
    <p><strong>Step 1:</strong> Type <code>mean(12,15,18,22,33)</code> on any line.</p>
    <p><strong>Result:</strong> Desmos shows 20. Instant.</p>
    <p>Also works: <code>median(12,15,18,22,33)</code> ‚Üí 18. And: <code>total(12,15,18,22,33)</code> ‚Üí 100.</p>
  </div>
</div>

<!-- ‚îÄ‚îÄ Trap Taxonomy Section ‚îÄ‚îÄ -->
<div class="section">
  <div class="section-label">Desmos Trap Taxonomy</div>
  <h2>Four Traps When Using Desmos</h2>
  <p>Desmos is powerful, but it can trick you if you're not careful. These four traps catch students who over-rely on the calculator.</p>
  <div class="trap-taxonomy">
    <div class="trap-card">
      <div class="trap-number" style="background:var(--psda)">1</div>
      <div class="trap-card-body">
        <div class="trap-card-name">‚è± Setup Trap</div>
        <div class="trap-card-desc">Spending >15 seconds setting up a Desmos approach when algebra would be faster. If you can't set it up in 5 seconds, switch to algebra.</div>
        <div class="trap-card-example">Conceptual question about correlation ‚Üí Desmos can't help. Just answer it.</div>
      </div>
    </div>
    <div class="trap-card">
      <div class="trap-number" style="background:var(--math)">2</div>
      <div class="trap-card-body">
        <div class="trap-card-name">üßÆ Mental Math Trap</div>
        <div class="trap-card-desc">Opening Desmos for trivial arithmetic that's faster to do mentally. Don't waste time launching the calculator for 8√ó7.</div>
        <div class="trap-card-example">x+5=12. Just subtract 5. x=7. No calculator needed.</div>
      </div>
    </div>
    <div class="trap-card">
      <div class="trap-number" style="background:var(--advanced)">3</div>
      <div class="trap-card-body">
        <div class="trap-card-name">üîç CAS Illusion</div>
        <div class="trap-card-desc">Expecting Desmos to factor, simplify expressions, or solve algebraically. Desmos is NOT a CAS ‚Äî it graphs and evaluates numerically only.</div>
        <div class="trap-card-example">Asking Desmos to factor x¬≤‚àí5x+6 ‚Üí it can't. But you CAN graph it and find zeros x=2, x=3.</div>
      </div>
    </div>
    <div class="trap-card">
      <div class="trap-number" style="background:var(--wrong)">4</div>
      <div class="trap-card-body">
        <div class="trap-card-name">üéØ Intersection Misread</div>
        <div class="trap-card-desc">Clicking the wrong intersection point or misreading the coordinates. Always verify the intersection makes sense in context.</div>
        <div class="trap-card-example">Two lines cross at (2,5) and you accidentally read (5,2). Double-check x and y.</div>
      </div>
    </div>
  </div>
</div>

<!-- EXERCISES -->
<div class="section"><div class="section-label">Interactive Exercise 1</div><h2>Which Desmos Skill?</h2><p>For each problem, pick which Desmos skill would solve it fastest.</p><div class="exercise" style="border-color:var(--accent)" id="skillEx"></div></div>

<div class="section"><div class="section-label">Interactive Exercise 2</div><h2>Desmos or Algebra? ‚Äî Speed Decision Drill</h2><p>For each problem, decide: would Desmos be faster, or should you just do the algebra?</p><div class="exercise" style="border-color:var(--accent)" id="speedEx"></div></div>

<div class="section"><div class="section-label">Interactive Exercise 3</div><h2>Keyboard Shortcut Quiz</h2><p>Match each action to the correct Desmos shortcut.</p><div class="exercise" style="border-color:var(--accent)" id="shortcutEx"></div></div>

<!-- HOMEWORK -->
<div class="section">
  <div class="section-label">Homework</div>
  <h2>Desmos Practice Protocol</h2>
  <p>Do these before your next practice test:</p>
  <div class="card card-accent">
    <ol style="padding-left:18px;font-size:.93rem;color:#ccc;line-height:2">
      <li>Go to <a href="https://www.desmos.com/calculator" style="color:var(--accent)" target="_blank">desmos.com/calculator</a></li>
      <li>Graph <code>y = x¬≤ ‚àí 4x + 3</code>. Click the vertex and both x-intercepts. Write down all three coordinates.</li>
      <li>On line 2, graph <code>y = x + 1</code>. Find both intersection points with the parabola.</li>
      <li>Create a table with 5 data points. Run a linear regression with <code>y‚ÇÅ ~ mx‚ÇÅ + b</code>.</li>
      <li>Graph the inequality <code>y &lt; 2x ‚àí 3</code>. Notice the shading.</li>
      <li>Type <code>mean(10,20,30,40,50,200)</code> and <code>median(10,20,30,40,50,200)</code>. Notice how the outlier affects the mean but not the median.</li>
      <li>Time yourself: How fast can you enter <code>y = (2/3)x^2 ‚àí (5/4)x + sqrt(7)</code>? Aim for under 8 seconds.</li>
    </ol>
  </div>
</div>

<div style="text-align:center;padding:24px 0">
  <button class="start-btn" onclick="goScreen(3)">Continue to Practice Questions ‚Üí</button>
</div>
</div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<!-- SCREEN 4: TIMED PRACTICE                      -->
<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="screen" id="screen-practice">
<div class="container">
  <div class="section-label">PSAT 8/9 Practice</div>
  <h2 style="font-family:'Cormorant Garamond',serif;font-size:1.6rem;margin-bottom:4px">Practice Questions</h2>
  <p style="color:var(--muted);font-size:.9rem;margin-bottom:16px">10 questions at three difficulty tiers. Tag your confidence before answering.</p>

  <div class="timer-bar" id="timerBar">
    <div class="timer-display" id="timerDisplay">--:--</div>
    <div class="timer-track"><div class="timer-fill" id="timerFill"></div></div>
    <div class="q-dots" id="qDots"></div>
    <button class="timer-toggle" id="timerToggle" onclick="toggleTimer()">‚è± Timer OFF</button>
  </div>

  <div id="psatPractice"></div>
  <div id="practiceResults" style="display:none"></div>

  <div id="practiceNav" style="display:none;text-align:center;padding:24px 0">
    <button class="start-btn" onclick="goScreen(4)">View Summary & Complete Module ‚Üí</button>
  </div>
</div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<!-- SCREEN 5: MODULE COMPLETE                     -->
<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="screen" id="screen-complete">
  <div class="complete-screen">
    <div class="complete-icon">üßÆ</div>
    <h1>Module 6 Complete!</h1>
    <p class="complete-sub">You've mastered the most powerful tool on the test ‚Äî the built-in Desmos graphing calculator.</p>

    <div class="takeaway-list">
      <div style="font-weight:700;margin-bottom:12px;font-size:.85rem;color:var(--accent);text-transform:uppercase;letter-spacing:1px">Key Takeaways</div>
      <div class="takeaway-item"><span class="takeaway-check">‚úì</span> Desmos can solve 60‚Äì70% of PSAT 8/9 questions faster than algebra.</div>
      <div class="takeaway-item"><span class="takeaway-check">‚úì</span> Start with the basics: type an equation, find intersections, zoom in/out.</div>
      <div class="takeaway-item"><span class="takeaway-check">‚úì</span> 10 essential skills: graph, intersect, slider, table, regression, inequalities, stats, %, circles, shortcuts.</div>
      <div class="takeaway-item"><span class="takeaway-check">‚úì</span> The 5-Second Rule: if you can't set it up in Desmos quickly, switch to algebra.</div>
      <div class="takeaway-item"><span class="takeaway-check">‚úì</span> Memorize keyboard shortcuts: ^ (exponent), _ (subscript), ~ (regression), sqrt, pi.</div>
      <div class="takeaway-item"><span class="takeaway-check">‚úì</span> Desmos is NOT CAS ‚Äî it can't factor or simplify. It graphs and evaluates numerically.</div>
      <div class="takeaway-item"><span class="takeaway-check">‚úì</span> Systems: graph both and click the intersection. Fastest method for 90% of system problems.</div>
      <div class="takeaway-item"><span class="takeaway-check">‚úì</span> Always verify your algebraic answer by graphing ‚Äî it catches careless errors.</div>
      <div class="takeaway-item"><span class="takeaway-check">‚úì</span> Practice at desmos.com/calculator before test day.</div>
    </div>

    <div id="completePracticeStats"></div>

    <div class="nav-cards">
      <a class="nav-card" href="module-5.html">
        <div class="nav-card-label">‚Üê Previous</div>
        <div class="nav-card-title">Module 5: Geometry</div>
      </a>
      <a class="nav-card" href="module-7.html" style="border-color:var(--accent)">
        <div class="nav-card-label">Next ‚Üí</div>
        <div class="nav-card-title">Module 7: Strategy & Time</div>
      </a>
    </div>
  </div>
</div>

<script>
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// SCREEN NAVIGATION SYSTEM
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const SCREENS = ['screen-welcome','screen-warmup','screen-lesson','screen-practice','screen-complete'];
let currentScreen = 0;

function goScreen(idx) {
  if (idx < 0 || idx >= SCREENS.length) return;
  const cur = document.getElementById(SCREENS[currentScreen]);
  const nxt = document.getElementById(SCREENS[idx]);
  cur.classList.remove('fade-in');
  cur.classList.add('fade-out');
  setTimeout(() => {
    cur.classList.remove('active','fade-out');
    nxt.classList.add('active','fade-in');
    currentScreen = idx;
    updateProgressDots();
    window.scrollTo(0, 0);
    if (idx === 3 && timerEnabled) startTimer();
  }, 300);
}

function updateProgressDots() {
  const cont = document.getElementById('screenProgress');
  cont.innerHTML = SCREENS.map((s, i) => {
    let cls = 'screen-dot';
    if (i < currentScreen) cls += ' completed';
    if (i === currentScreen) cls += ' current';
    return `<div class="${cls}" onclick="${i <= currentScreen ? 'goScreen('+i+')' : ''}" title="${['Welcome','Warm-Up','Lesson','Practice','Complete'][i]}"></div>`;
  }).join('');
}
updateProgressDots();

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// RETRIEVAL WARM-UP (Module 5 content)
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const WARMUP_QS = [
  {
    source: 'Module 5 ‚Äî Pythagorean Theorem',
    q: 'A right triangle has legs 6 and 8. What is the hypotenuse?',
    ch: ['10','12','14','48'],
    c: 0,
    fb: '6-8-10 is a 3-4-5 triple multiplied by 2. Or: ‚àö(36+64) = ‚àö100 = 10.'
  },
  {
    source: 'Module 5 ‚Äî Angles',
    q: 'Two angles are supplementary. One is 115¬∞. What is the other?',
    ch: ['55¬∞','65¬∞','75¬∞','85¬∞'],
    c: 1,
    fb: 'Supplementary angles add to 180¬∞. 180 ‚àí 115 = 65¬∞.'
  },
  {
    source: 'Module 5 ‚Äî Area',
    q: 'What is the area of a circle with radius 4?',
    ch: ['8œÄ','16œÄ','32œÄ','4œÄ'],
    c: 1,
    fb: 'A = œÄr¬≤ = œÄ(16) = 16œÄ.'
  },
  {
    source: 'Module 5 ‚Äî Circle Equations',
    q: 'The equation <code>(x‚àí2)¬≤+(y+3)¬≤=25</code> has center:',
    ch: ['(2, 3)','(‚àí2, 3)','(2, ‚àí3)','(‚àí2, ‚àí3)'],
    c: 2,
    fb: '(x‚àí2) ‚Üí h=2. (y+3) = (y‚àí(‚àí3)) ‚Üí k=‚àí3. Center: (2, ‚àí3).'
  },
  {
    source: 'Module 5 ‚Äî Special Triangles',
    q: 'In a 45-45-90 triangle, each leg is 7. What is the hypotenuse?',
    ch: ['7','7‚àö2','14','7‚àö3'],
    c: 1,
    fb: '45-45-90 ratio: leg : leg : leg‚àö2. Hyp = 7‚àö2 ‚âà 9.90.'
  }
];

let warmupIdx = 0;
let warmupAnswers = [];
let warmupAnswered = false;

function renderWarmup() {
  document.getElementById('warmupDots').innerHTML = WARMUP_QS.map((_, i) => {
    let cls = 'warmup-dot';
    if (i < warmupIdx) cls += warmupAnswers[i] ? ' done-correct' : ' done-wrong';
    if (i === warmupIdx && warmupIdx < WARMUP_QS.length) cls += ' active';
    return `<div class="${cls}"></div>`;
  }).join('');

  const cont = document.getElementById('warmupContent');

  if (warmupIdx >= WARMUP_QS.length) {
    const cor = warmupAnswers.filter(Boolean).length;
    cont.innerHTML = `
      <div class="warmup-summary">
        <div class="warmup-badge">Warm-Up Complete</div>
        <div class="warmup-score">${cor} / ${WARMUP_QS.length}</div>
        <p style="color:var(--muted);font-size:.9rem;margin-bottom:8px">
          ${cor === 5 ? 'Perfect recall! Module 5 knowledge is locked in.' :
            cor >= 3 ? 'Good recall! A couple of Geometry topics to revisit.' :
            'Some gaps from Module 5 ‚Äî consider a quick review before continuing.'}
        </p>
        <button class="warmup-continue" onclick="goScreen(2)">Continue to Lesson ‚Üí</button>
      </div>`;
    return;
  }

  const q = WARMUP_QS[warmupIdx];
  warmupAnswered = false;
  cont.innerHTML = `
    <div class="warmup-q">
      <div class="source-tag">From ${q.source}</div>
      <div class="q-text">${q.q}</div>
      <div class="warmup-choices" id="warmupChoices">
        ${q.ch.map((ch, ci) => `<div class="warmup-choice" onclick="answerWarmup(${ci})">${ch}</div>`).join('')}
      </div>
      <div id="warmupFb" style="display:none"></div>
    </div>`;
}

function answerWarmup(ci) {
  if (warmupAnswered) return;
  warmupAnswered = true;
  const q = WARMUP_QS[warmupIdx];
  const correct = ci === q.c;
  warmupAnswers.push(correct);

  const choices = document.querySelectorAll('.warmup-choice');
  choices.forEach((ch, i) => {
    ch.classList.add('wu-dis');
    if (i === q.c) ch.classList.add('wu-correct');
    else if (i === ci && !correct) ch.classList.add('wu-wrong');
  });

  const fb = document.getElementById('warmupFb');
  fb.style.display = 'block';
  fb.innerHTML = `<div class="warmup-fb">${correct ? '‚úì ' : '‚úó '}${q.fb}</div>
    <button class="warmup-next" onclick="warmupIdx++;renderWarmup()">
      ${warmupIdx < WARMUP_QS.length - 1 ? 'Next Question ‚Üí' : 'See Results ‚Üí'}
    </button>`;

  document.getElementById('warmupDots').innerHTML = WARMUP_QS.map((_, i) => {
    let cls = 'warmup-dot';
    if (i < warmupAnswers.length) cls += warmupAnswers[i] ? ' done-correct' : ' done-wrong';
    else if (i === warmupIdx + 1) cls += ' active';
    return `<div class="${cls}"></div>`;
  }).join('');
}

renderWarmup();

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// GENERIC HELPERS
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function mkSc(c,t){return `<div class="score-bar"><div class="score-bar-label">Score</div><div class="score-bar-track"><div class="score-bar-fill" style="width:${t?c/t*100:0}%"></div></div><div class="score-bar-val">${c}/${t}</div></div>`;}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// EXERCISE 1: WHICH DESMOS SKILL?
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const SKL=[
  {q:'Find where <code>y = 3x ‚àí 2</code> and <code>y = ‚àíx + 6</code> cross.',c:'Graph & find intersection',opts:['Graph & find intersection','Use a slider','Run a regression','Calculate statistics']},
  {q:'A quadratic <code>f(x) = x¬≤ ‚àí 8x + 12</code>. What are the zeros?',c:'Graph a function',opts:['Graph a function','Enter a table','Graph inequalities','Use percent']},
  {q:'The line <code>y = kx + 5</code> passes through (3, 14). Find k.',c:'Use a slider',opts:['Graph & find intersection','Use a slider','Run a regression','Calculate statistics']},
  {q:'Given data points (1,4), (2,7), (3,11), (4,14). Find the best-fit line.',c:'Run a regression',opts:['Graph a function','Use a slider','Run a regression','Graph inequalities']},
  {q:'Which region satisfies <code>y ‚â§ x + 3</code> and <code>y > ‚àí2x + 8</code>?',c:'Graph inequalities',opts:['Graph & find intersection','Use a slider','Graph inequalities','Graph circles']},
  {q:'Find the mean of 15, 22, 18, 31, 24, 19.',c:'Calculate statistics',opts:['Run a regression','Calculate statistics','Enter a table','Use percent']},
  {q:'What is 15% of 280?',c:'Use percent',opts:['Calculate statistics','Use percent','Graph a function','Use a slider']},
  {q:'The circle <code>(x+3)¬≤ + (y‚àí1)¬≤ = 49</code> intersects <code>y = 4</code> at what points?',c:'Graph circles',opts:['Graph & find intersection','Run a regression','Graph circles','Graph inequalities']},
];
var sklA={};
function renderSkl(){
  var tot=SKL.length,cor=Object.entries(sklA).filter(function(e){return e[1]===SKL[e[0]].c;}).length;
  document.getElementById('skillEx').innerHTML='<h3>üéØ Match the Skill</h3><div class="exercise-sub">Which Desmos skill solves each problem fastest?</div>'+
    SKL.map(function(q,i){var a=sklA[i],h=a!==undefined;
      return '<div class="ex-item"><div class="ex-prompt">'+q.q+'</div><div class="classify-opts">'+q.opts.map(function(o){var c='classify-opt';if(h){c+=' cl-dis';if(o===q.c)c+=' cl-correct';else if(o===a)c+=' cl-wrong';}return '<div class="'+c+'" onclick="aSkl('+i+','+q.opts.indexOf(o)+')">'+o+'</div>';}).join('')+'</div><div class="ex-fb'+(h?' show':'')+(h?(a===q.c?' correct':' wrong'):'')+'">'+((h)?((a===q.c?'‚úì Correct!':'‚úó Best skill: '+q.c+'.')):'')+'</div></div>';
    }).join('')+mkSc(cor,tot);
}
function aSkl(i,idx){if(sklA[i]!==undefined)return;sklA[i]=SKL[i].opts[idx];renderSkl();}
renderSkl();

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// EXERCISE 2: DESMOS OR ALGEBRA?
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const SPD=[
  {q:'Solve: <code>x + 5 = 12</code>',c:'Algebra',fb:'One-step ‚Äî just subtract 5 mentally. x = 7. Desmos is overkill.'},
  {q:'Solve the system: <code>3x ‚àí 2y = 7</code> and <code>5x + y = 19</code>',c:'Desmos',fb:'Graph both and click the intersection. Faster than elimination with these coefficients.'},
  {q:'What is 8 √ó 7?',c:'Algebra',fb:'56. You don\'t need a calculator for basic multiplication.'},
  {q:'Find the vertex of <code>y = 2x¬≤ ‚àí 12x + 22</code>',c:'Desmos',fb:'Graph it and click the vertex point. Instant. Algebra would require ‚àíb/2a then substitution.'},
  {q:'A study finds a correlation between exercise and grades. Can we conclude exercise causes better grades?',c:'Algebra',fb:'Conceptual question ‚Äî Desmos can\'t help. Answer: No, correlation ‚â† causation.'},
  {q:'Find x: <code>|2x ‚àí 6| = 10</code>',c:'Desmos',fb:'Graph y = |2x ‚àí 6| and y = 10, click both intersections. Avoids the two-case algebra.'},
  {q:'If f(x) = x¬≤ + 3x ‚àí 10, what is f(‚àí2)?',c:'Algebra',fb:'Just plug in: 4 ‚àí 6 ‚àí 10 = ‚àí12. Quick mental math. Desmos works but isn\'t faster.'},
  {q:'Where do <code>y = x¬≤ ‚àí 1</code> and <code>y = 2x + 2</code> intersect?',c:'Desmos',fb:'Graph both, click dots. The algebraic method (x¬≤ ‚àí 2x ‚àí 3 = 0 ‚Üí factor) works too, but Desmos is faster.'},
  {q:'In a two-way table, what is P(Math | 9th grade)?',c:'Algebra',fb:'Read from the table: count in both / count in row. Desmos can\'t read tables for you.'},
  {q:'Solve: <code>2(x+3) = 4x ‚àí 8</code>',c:'Algebra',fb:'Distribute, combine: 2x + 6 = 4x ‚àí 8 ‚Üí 14 = 2x ‚Üí x = 7. Quick enough algebraically.'},
];
var spdA={};
function renderSpd(){
  var tot=SPD.length,cor=Object.entries(spdA).filter(function(e){return e[1]===SPD[e[0]].c;}).length;
  document.getElementById('speedEx').innerHTML='<h3>‚ö° Desmos or Algebra?</h3><div class="exercise-sub">Which approach is faster for each?</div>'+
    SPD.map(function(q,i){var a=spdA[i],h=a!==undefined;
      return '<div class="ex-item"><div class="ex-prompt">'+q.q+'</div><div class="classify-opts">'+['Desmos','Algebra'].map(function(o){var c='classify-opt';if(h){c+=' cl-dis';if(o===q.c)c+=' cl-correct';else if(o===a)c+=' cl-wrong';}return '<div class="'+c+'" onclick="aSpd('+i+',\''+o+'\')">'+o+'</div>';}).join('')+'</div><div class="ex-fb'+(h?' show':'')+(h?(a===q.c?' correct':' wrong'):'')+'">'+((h)?((a===q.c?'‚úì ':'‚úó ')+q.fb):'')+'</div></div>';
    }).join('')+mkSc(cor,tot);
}
function aSpd(i,v){if(spdA[i]!==undefined)return;spdA[i]=v;renderSpd();}
renderSpd();

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// EXERCISE 3: KEYBOARD SHORTCUTS
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const SHC=[
  {q:'How do you type an exponent like x¬≤?',c:'^',opts:['^','_','~','sqrt']},
  {q:'How do you type a subscript like y‚ÇÅ?',c:'_',opts:['^','_','~','/']},
  {q:'How do you start a regression?',c:'~',opts:['^','_','~','|']},
  {q:'How do you type a square root?',c:'sqrt',opts:['root','sqrt','sq','‚àö']},
  {q:'How do you type an absolute value like |x|?',c:'Shift + pipe',opts:['||','Shift + pipe','abs()','[]']},
  {q:'How do you type pi (the number)?',c:'pi',opts:['pi','3.14','pie','math']},
  {q:'How do you type a fraction like 3/7?',c:'/',opts:['-','bkslash','/',':']},
];
var shcA={};
function renderShc(){
  var tot=SHC.length,cor=Object.entries(shcA).filter(function(e){return e[1]===SHC[e[0]].c;}).length;
  document.getElementById('shortcutEx').innerHTML='<h3>‚å®Ô∏è Shortcut Quiz</h3><div class="exercise-sub">Pick the right key or command.</div>'+
    SHC.map(function(q,i){var a=shcA[i],h=a!==undefined;
      return '<div class="ex-item"><div class="ex-prompt">'+q.q+'</div><div class="classify-opts">'+q.opts.map(function(o,oi){var c='classify-opt';if(h){c+=' cl-dis';if(o===q.c)c+=' cl-correct';else if(o===a)c+=' cl-wrong';}return '<div class="'+c+'" onclick="aShc('+i+','+oi+')"><code>'+o+'</code></div>';}).join('')+'</div><div class="ex-fb'+(h?' show':'')+(h?(a===q.c?' correct':' wrong'):'')+'">'+(h?(a===q.c?'\u2713 Correct!':'\u2717 The right shortcut is: '+q.c):'')+'</div></div>';
    }).join('')+mkSc(cor,tot);
}
function aShc(i,idx){if(shcA[i]!==undefined)return;shcA[i]=SHC[i].opts[idx];renderShc();}
renderShc();

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// TIMED PRACTICE WITH CONFIDENCE & ERROR ANALYSIS
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const PST=[
  {t:1,tp:'6B',q:'What is the solution to the system <code>y = x + 3</code> and <code>y = ‚àí2x + 9</code>?',ch:['(2, 5)','(3, 6)','(1, 4)','(4, 1)'],c:0,fb:'Graph both, click intersection ‚Üí (2, 5). Check: 2+3=5 ‚úì, ‚àí2(2)+9=5 ‚úì.',
   trap:null,trapAnswer:2,trapDesc:'(1,4) ‚Äî misread intersection coordinates'},
  {t:1,tp:'6A',q:'What is the y-intercept of <code>y = 3x ‚àí 7</code>?',ch:['3','‚àí7','7','‚àí3'],c:1,fb:'Graph it. The line crosses the y-axis at (0, ‚àí7). Or: plug in x=0 ‚Üí y = ‚àí7.',
   trap:null,trapAnswer:0,trapDesc:'3 is the slope, not the y-intercept'},
  {t:1,tp:'6E',q:'What is the mean of 10, 14, 18, 22, 26?',ch:['14','18','20','22'],c:1,fb:'Type mean(10,14,18,22,26) ‚Üí 18. Or: sum = 90, 90/5 = 18.',
   trap:null,trapAnswer:0,trapDesc:'14 is the median, not the mean'},
  {t:2,tp:'6A',q:'The quadratic <code>y = x¬≤ ‚àí 4x ‚àí 5</code> has zeros at:',ch:['x = 1 and x = 5','x = ‚àí1 and x = 5','x = ‚àí1 and x = ‚àí5','x = 1 and x = ‚àí5'],c:1,fb:'Graph it. The parabola crosses x-axis at (‚àí1, 0) and (5, 0).',
   trap:null,trapAnswer:0,trapDesc:'Got the signs wrong when factoring'},
  {t:2,tp:'6A',q:'What is the vertex of <code>y = ‚àíx¬≤ + 6x ‚àí 5</code>?',ch:['(3, 4)','(‚àí3, 4)','(3, ‚àí4)','(6, ‚àí5)'],c:0,fb:'Graph and click the peak ‚Üí (3, 4). Maximum because a < 0.',
   trap:null,trapAnswer:1,trapDesc:'(‚àí3,4) ‚Äî flipped the sign of h in vertex form'},
  {t:2,tp:'6C',q:'The line <code>y = mx + 2</code> passes through (4, 10). What is m?',ch:['2','3','4','8'],c:0,fb:'Slider: set y = mx + 2, slide m until it passes through (4,10). Or: 10 = 4m + 2 ‚Üí m = 2.',
   trap:null,trapAnswer:2,trapDesc:'Plugged in wrong: 10=4m+2, m=2 not 4'},
  {t:2,tp:'6A',q:'Which value of x satisfies <code>|2x ‚àí 8| = 6</code>? Select all.',ch:['x = 1','x = 7','x = 1 and x = 7','x = ‚àí1 and x = 7'],c:2,fb:'Graph y = |2x‚àí8| and y = 6. Intersections at x = 1 and x = 7.',
   trap:null,trapAnswer:0,trapDesc:'Only found one solution, missed the second'},
  {t:2,tp:'6D',q:'The inequality <code>y > ‚àíx + 5</code> is satisfied by which point?',ch:['(0, 3)','(0, 5)','(2, 5)','(1, 2)'],c:2,fb:'Graph y > ‚àíx + 5. Shading is above the line. (2,5): 5 > ‚àí2+5 = 3 ‚úì.',
   trap:null,trapAnswer:1,trapDesc:'(0,5) is ON the boundary, not above it (strict inequality)'},
  {t:3,tp:'6B',q:'For what value of k does the system <code>y = 2x + k</code> and <code>y = 2x ‚àí 3</code> have no solution?',ch:['k = ‚àí3','k = 3','Any k ‚â† ‚àí3','k = 0'],c:2,fb:'Same slope (2) ‚Üí parallel. No solution unless same line. Any k ‚â† ‚àí3 ‚Üí parallel (no solution).',
   trap:null,trapAnswer:0,trapDesc:'k=‚àí3 would make them the same line (infinite solutions, not zero)'},
  {t:3,tp:'6C',q:'Data: (1,2), (2,5), (3,7), (4,10), (5,13). The regression line y‚ÇÅ~mx‚ÇÅ+b gives approximately:',ch:['y = 2.7x ‚àí 0.7','y = 3x ‚àí 1','y = 2x + 1','y = 2.5x + 0.5'],c:0,fb:'Enter table, run regression. m ‚âà 2.7, b ‚âà ‚àí0.7. Close to but not exactly y = 3x ‚àí 1.',
   trap:null,trapAnswer:1,trapDesc:'y=3x‚àí1 is too steep ‚Äî regression gives m‚âà2.7, not 3'},
];

const TRAP_NAMES = {'setup_trap':'‚è± Setup Trap','mental_math':'üßÆ Mental Math Trap','cas_illusion':'üîç CAS Illusion','intersection_misread':'üéØ Intersection Misread'};

let pstA = {};
let pstConf = {};
let pstTime = {};
let pstStartTime = null;

// Timer system
let timerEnabled = false;
let timerInterval = null;
let timerSeconds = 0;
const SECS_PER_Q = 95;
let totalTimerSecs = PST.length * SECS_PER_Q;

function toggleTimer() {
  timerEnabled = !timerEnabled;
  const btn = document.getElementById('timerToggle');
  btn.textContent = timerEnabled ? '‚è± Timer ON' : '‚è± Timer OFF';
  btn.classList.toggle('active', timerEnabled);
  if (!timerEnabled && timerInterval) {
    clearInterval(timerInterval);
    timerInterval = null;
    document.getElementById('timerDisplay').textContent = '--:--';
    document.getElementById('timerFill').style.width = '100%';
  } else if (timerEnabled && currentScreen === 3) {
    startTimer();
  }
}

function startTimer() {
  if (timerInterval) clearInterval(timerInterval);
  timerSeconds = totalTimerSecs;
  updateTimerDisplay();
  timerInterval = setInterval(() => {
    timerSeconds--;
    updateTimerDisplay();
    if (timerSeconds <= 0) {
      clearInterval(timerInterval);
      timerInterval = null;
    }
  }, 1000);
  pstStartTime = Date.now();
}

function updateTimerDisplay() {
  const disp = document.getElementById('timerDisplay');
  const fill = document.getElementById('timerFill');
  const mins = Math.floor(timerSeconds / 60);
  const secs = timerSeconds % 60;
  disp.textContent = `${mins}:${secs.toString().padStart(2, '0')}`;

  const pct = (timerSeconds / totalTimerSecs) * 100;
  fill.style.width = pct + '%';

  disp.className = 'timer-display';
  fill.className = 'timer-fill';
  if (pct < 15) { disp.classList.add('danger'); fill.classList.add('danger'); }
  else if (pct < 35) { disp.classList.add('warning'); fill.classList.add('warning'); }
}

function renderPST() {
  const answered = Object.keys(pstA).length;

  document.getElementById('qDots').innerHTML = PST.map((_, i) => {
    let cls = 'q-dot';
    if (pstA[i] !== undefined) cls += pstA[i] === PST[i].c ? ' correct' : ' wrong';
    return `<div class="${cls}"></div>`;
  }).join('');

  document.getElementById('psatPractice').innerHTML = PST.map((q, i) => {
    const a = pstA[i], h = a !== undefined;
    const conf = pstConf[i];
    const tierLabel = q.t === 1 ? 'Easy' : q.t === 2 ? 'Medium' : 'Hard';
    const trapName = q.trap ? TRAP_NAMES[q.trap] || '' : '';

    return `<div class="ex-item" style="border-color:${q.t===1?'var(--algebra)':q.t===2?'var(--math)':'var(--advanced)'}">
      <div style="margin-bottom:6px;display:flex;align-items:center;gap:8px;flex-wrap:wrap">
        <span class="tier tier-${q.t}">${tierLabel}</span>
        <span style="font-size:.75rem;color:var(--muted)">Topic ${q.tp}</span>
        ${trapName && h ? `<span style="font-size:.72rem;color:var(--accent)">Trap: ${trapName}</span>` : ''}
      </div>
      <div class="ex-prompt">${q.q}</div>
      ${!h ? `<div class="confidence-row">
        <div class="conf-tag ${conf==='guessing'?'selected':''}" data-conf="guessing" onclick="setConf(${i},'guessing')">Guessing</div>
        <div class="conf-tag ${conf==='unsure'?'selected':''}" data-conf="unsure" onclick="setConf(${i},'unsure')">Unsure</div>
        <div class="conf-tag ${conf==='confident'?'selected':''}" data-conf="confident" onclick="setConf(${i},'confident')">Confident</div>
      </div>` : `<div style="font-size:.72rem;color:var(--muted);margin-bottom:6px">Confidence: ${conf || 'not tagged'}</div>`}
      <div class="mc-choices">${q.ch.map((ch, ci) => {
        let c = 'mc-choice';
        if (h) { c += ' mc-dis'; if (ci === q.c) c += ' mc-correct'; else if (ci === a) c += ' mc-wrong'; }
        return `<div class="${c}" onclick="aPST(${i},${ci})"><div class="mc-letter">${'ABCD'[ci]}</div><div>${ch}</div></div>`;
      }).join('')}</div>
      <div class="mc-fb${h ? ' show' : ''}">${h ? (a === q.c ? '‚úì Correct! ' : '‚úó Incorrect. ') + q.fb + (a !== q.c && a === q.trapAnswer ? '<br><span style="color:var(--psda)">‚ö†Ô∏è ' + q.trapDesc + '</span>' : '') : ''}</div>
    </div>`;
  }).join('');

  if (answered === PST.length) {
    if (timerInterval) { clearInterval(timerInterval); timerInterval = null; }
    document.getElementById('practiceNav').style.display = 'block';
    showPracticeResults();
  }
}

function setConf(i, level) {
  if (pstA[i] !== undefined) return;
  pstConf[i] = level;
  renderPST();
}

function aPST(i, v) {
  if (pstA[i] !== undefined) return;
  pstA[i] = v;
  if (pstStartTime) {
    pstTime[i] = Date.now() - pstStartTime;
    pstStartTime = Date.now();
  }
  renderPST();
}

function showPracticeResults() {
  const total = PST.length;
  const correct = Object.entries(pstA).filter(([i, v]) => v === PST[i].c).length;

  const byDiff = {1:{cor:0,tot:0},2:{cor:0,tot:0},3:{cor:0,tot:0}};
  PST.forEach((q, i) => {
    byDiff[q.t].tot++;
    if (pstA[i] === q.c) byDiff[q.t].cor++;
  });

  const matrix = {};
  ['guessing','unsure','confident'].forEach(conf => {
    matrix[conf] = {correct:[], wrong:[]};
  });
  PST.forEach((q, i) => {
    const conf = pstConf[i] || 'unsure';
    const isCorrect = pstA[i] === q.c;
    matrix[conf][isCorrect ? 'correct' : 'wrong'].push(i);
  });

  const errors = {content_gap:[], trap_answer:[], careless:[], calibration:[]};
  PST.forEach((q, i) => {
    if (pstA[i] === q.c) return;
    const conf = pstConf[i] || 'unsure';
    if (pstA[i] === q.trapAnswer) {
      errors.trap_answer.push({i, desc:q.trapDesc, topic:q.tp});
    } else {
      errors.content_gap.push({i, topic:q.tp});
    }
    if (conf === 'confident') {
      if (q.t === 1) errors.careless.push({i, topic:q.tp});
      errors.calibration.push({i, topic:q.tp});
    }
  });

  let html = `<div class="results-section">
    <h3>üìä Practice Results: ${correct}/${total}</h3>

    <div style="margin-bottom:20px">
      <div style="font-size:.78rem;font-weight:700;text-transform:uppercase;letter-spacing:1px;color:var(--muted);margin-bottom:8px">By Difficulty</div>
      <div class="difficulty-bars">
        <div class="diff-row">
          <span class="diff-label" style="color:var(--algebra)">Easy</span>
          <div class="diff-track"><div class="diff-fill" style="width:${byDiff[1].tot?byDiff[1].cor/byDiff[1].tot*100:0}%;background:var(--algebra)"></div></div>
          <span class="diff-val" style="color:var(--algebra)">${byDiff[1].cor}/${byDiff[1].tot}</span>
        </div>
        <div class="diff-row">
          <span class="diff-label" style="color:var(--math)">Medium</span>
          <div class="diff-track"><div class="diff-fill" style="width:${byDiff[2].tot?byDiff[2].cor/byDiff[2].tot*100:0}%;background:var(--math)"></div></div>
          <span class="diff-val" style="color:var(--math)">${byDiff[2].cor}/${byDiff[2].tot}</span>
        </div>
        <div class="diff-row">
          <span class="diff-label" style="color:var(--advanced)">Hard</span>
          <div class="diff-track"><div class="diff-fill" style="width:${byDiff[3].tot?byDiff[3].cor/byDiff[3].tot*100:0}%;background:var(--advanced)"></div></div>
          <span class="diff-val" style="color:var(--advanced)">${byDiff[3].cor}/${byDiff[3].tot}</span>
        </div>
      </div>
    </div>`;

  html += `<div style="margin-bottom:20px">
    <div style="font-size:.78rem;font-weight:700;text-transform:uppercase;letter-spacing:1px;color:var(--muted);margin-bottom:8px">Confidence √ó Accuracy Matrix</div>
    <div class="results-grid">
      <div class="results-grid-header"></div>
      <div class="results-grid-header">Guessing</div>
      <div class="results-grid-header">Unsure</div>
      <div class="results-grid-header">Confident</div>

      <div class="results-grid-header" style="writing-mode:horizontal-tb">‚úì Correct</div>
      <div class="results-grid-cell">
        <div class="cell-label">Lucky</div>
        <div class="cell-dots">${matrix.guessing.correct.map(()=>`<div class="cell-dot" style="background:var(--psda)"></div>`).join('')}</div>
        <div style="font-size:.7rem;color:var(--muted)">${matrix.guessing.correct.length}</div>
      </div>
      <div class="results-grid-cell">
        <div class="cell-label">Developing</div>
        <div class="cell-dots">${matrix.unsure.correct.map(()=>`<div class="cell-dot" style="background:var(--math)"></div>`).join('')}</div>
        <div style="font-size:.7rem;color:var(--muted)">${matrix.unsure.correct.length}</div>
      </div>
      <div class="results-grid-cell">
        <div class="cell-label">Solid</div>
        <div class="cell-dots">${matrix.confident.correct.map(()=>`<div class="cell-dot" style="background:var(--correct)"></div>`).join('')}</div>
        <div style="font-size:.7rem;color:var(--muted)">${matrix.confident.correct.length}</div>
      </div>

      <div class="results-grid-header" style="writing-mode:horizontal-tb">‚úó Wrong</div>
      <div class="results-grid-cell">
        <div class="cell-label">Expected</div>
        <div class="cell-dots">${matrix.guessing.wrong.map(()=>`<div class="cell-dot" style="background:var(--muted)"></div>`).join('')}</div>
        <div style="font-size:.7rem;color:var(--muted)">${matrix.guessing.wrong.length}</div>
      </div>
      <div class="results-grid-cell">
        <div class="cell-label">Needs work</div>
        <div class="cell-dots">${matrix.unsure.wrong.map(()=>`<div class="cell-dot" style="background:var(--psda)"></div>`).join('')}</div>
        <div style="font-size:.7rem;color:var(--muted)">${matrix.unsure.wrong.length}</div>
      </div>
      <div class="results-grid-cell danger-cell">
        <div class="cell-label" style="color:var(--wrong);font-weight:700">‚ö†Ô∏è DANGER</div>
        <div class="cell-dots">${matrix.confident.wrong.map(()=>`<div class="cell-dot" style="background:var(--wrong)"></div>`).join('')}</div>
        <div style="font-size:.7rem;color:var(--wrong)">${matrix.confident.wrong.length}</div>
      </div>
    </div>
    ${matrix.confident.wrong.length > 0 ? '<div class="callout" style="border-color:var(--wrong);background:var(--wrong-bg)"><strong style="color:var(--wrong)">Confident + Wrong</strong> is the most dangerous category. These errors persist into test day because you won\'t self-correct what you think you already know.</div>' : ''}
  </div>`;

  const hasErrors = errors.trap_answer.length + errors.content_gap.length > 0;
  if (hasErrors) {
    html += `<div style="margin-bottom:16px">
      <div style="font-size:.78rem;font-weight:700;text-transform:uppercase;letter-spacing:1px;color:var(--muted);margin-bottom:8px">Error Pattern Analysis</div>`;

    if (errors.trap_answer.length > 0) {
      html += `<div class="error-category" style="background:rgba(251,191,36,.08);border:1px solid rgba(251,191,36,.3)">
        <div class="error-label" style="color:var(--psda)">üü° Trap Answers (${errors.trap_answer.length})</div>
        <div class="error-items">${errors.trap_answer.map(e => e.desc).join(' ¬∑ ')}</div>
      </div>`;
    }
    if (errors.content_gap.length > 0) {
      html += `<div class="error-category" style="background:rgba(239,68,68,.08);border:1px solid rgba(239,68,68,.3)">
        <div class="error-label" style="color:var(--wrong)">üî¥ Content Gaps (${errors.content_gap.length})</div>
        <div class="error-items">Topics: ${[...new Set(errors.content_gap.map(e=>e.topic))].join(', ')}</div>
      </div>`;
    }
    if (errors.careless.length > 0) {
      html += `<div class="error-category" style="background:rgba(96,165,250,.08);border:1px solid rgba(96,165,250,.3)">
        <div class="error-label" style="color:var(--math)">üîµ Possible Careless Errors (${errors.careless.length})</div>
        <div class="error-items">Confident + wrong on easy questions ‚Äî likely arithmetic mistakes</div>
      </div>`;
    }
    if (errors.calibration.length > 0) {
      html += `<div class="error-category" style="background:rgba(239,68,68,.08);border:1px solid rgba(239,68,68,.3)">
        <div class="error-label" style="color:var(--wrong)">‚ö†Ô∏è Calibration Issues (${errors.calibration.length})</div>
        <div class="error-items">You were confident but wrong ‚Äî review these topics carefully</div>
      </div>`;
    }
    html += `</div>`;
  }

  html += `</div>`;
  document.getElementById('practiceResults').style.display = 'block';
  document.getElementById('practiceResults').innerHTML = html;

  document.getElementById('completePracticeStats').innerHTML = `
    <div style="background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:16px 20px;margin-bottom:24px;max-width:500px;width:100%;text-align:left">
      <div style="font-size:.78rem;font-weight:700;text-transform:uppercase;letter-spacing:1px;color:var(--muted);margin-bottom:8px">Practice Results</div>
      <div style="font-family:'JetBrains Mono',monospace;font-size:1.4rem;font-weight:700;color:var(--correct);margin-bottom:8px">${correct}/${total} correct</div>
      <div style="font-size:.82rem;color:var(--muted)">
        Easy: ${byDiff[1].cor}/${byDiff[1].tot} ¬∑ Medium: ${byDiff[2].cor}/${byDiff[2].tot} ¬∑ Hard: ${byDiff[3].cor}/${byDiff[3].tot}
      </div>
    </div>`;
}

renderPST();
</script>
<script src="/translate.js"></script>
</body>
</html>
