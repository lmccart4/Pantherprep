<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Module 7: Strategy & Time Management ‚Äî PSAT 8/9 Math ‚Äî PantherPrep</title>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,600;0,700;1,400&family=Source+Sans+3:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
<style>
:root{--ink:#f0f0f0;--paper:#121212;--accent:#0891b2;--accent-light:rgba(8,145,178,.12);--border:#2a2a2a;--muted:#999;--surface:#1a1a1a;--math:#60a5fa;--math-bg:rgba(96,165,250,.1);--algebra:#34d399;--advanced:#a78bfa;--psda:#fbbf24;--geo:#f87171;--correct:#22c55e;--correct-bg:rgba(34,197,94,.12);--wrong:#ef4444;--wrong-bg:rgba(239,68,68,.12);--danger:#ef4444;--danger-bg:rgba(239,68,68,.08);--strat:#f59e0b;--strat-bg:rgba(245,158,11,.08)}
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Source Sans 3',sans-serif;background:var(--paper);color:var(--ink);line-height:1.65;overflow-x:hidden}
.top-stripe{height:4px;background:linear-gradient(90deg,#0891b2 0%,#0891b2 50%,#fff 50%,#fff 100%);position:fixed;top:0;left:0;right:0;z-index:100}

/* ‚îÄ‚îÄ Screen System ‚îÄ‚îÄ */
.screen{display:none;opacity:0;transition:opacity .4s ease;min-height:100vh}
.screen.active{display:block;opacity:1}
.screen.fade-in{animation:fadeIn .4s ease forwards}
.screen.fade-out{animation:fadeOut .3s ease forwards}
@keyframes fadeIn{from{opacity:0;transform:translateY(12px)}to{opacity:1;transform:translateY(0)}}
@keyframes fadeOut{from{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(-12px)}}

/* ‚îÄ‚îÄ Progress Dots ‚îÄ‚îÄ */
.screen-progress{position:fixed;top:12px;left:50%;transform:translateX(-50%);display:flex;gap:8px;z-index:101;padding:6px 14px;background:rgba(18,18,18,.85);backdrop-filter:blur(8px);border-radius:20px;border:1px solid var(--border)}
.screen-dot{width:8px;height:8px;border-radius:50%;background:var(--border);transition:all .3s;cursor:pointer}
.screen-dot.completed{background:var(--psda)}
.screen-dot.current{background:var(--accent);box-shadow:0 0 8px rgba(8,145,178,.5);transform:scale(1.25)}
.screen-dot:hover{transform:scale(1.3)}

/* ‚îÄ‚îÄ Container ‚îÄ‚îÄ */
.container{max-width:800px;margin:0 auto;padding:20px 20px 60px}

/* ‚îÄ‚îÄ Welcome Screen ‚îÄ‚îÄ */
.welcome-screen{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100vh;padding:40px 20px;text-align:center}
.welcome-badge{display:inline-block;background:var(--psda);color:#000;font-size:11px;font-weight:700;letter-spacing:2px;text-transform:uppercase;padding:5px 14px;border-radius:16px;margin-bottom:18px}
.welcome-screen h1{font-family:'Cormorant Garamond',serif;font-size:clamp(2rem,5vw,3rem);font-weight:700;margin-bottom:8px;max-width:600px}
.welcome-sub{color:var(--muted);font-size:1.05rem;max-width:500px;margin:0 auto 32px}
.welcome-meta{display:flex;gap:24px;justify-content:center;margin-bottom:36px;font-size:.85rem;color:var(--muted)}
.preview-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:12px;max-width:600px;width:100%;margin-bottom:40px}
.preview-card{background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:16px 14px;text-align:left;transition:all .2s}
.preview-card:hover{border-color:var(--psda);transform:translateY(-2px)}
.preview-icon{font-size:1.4rem;margin-bottom:8px}
.preview-title{font-size:.82rem;font-weight:700;margin-bottom:3px}
.preview-desc{font-size:.72rem;color:var(--muted);line-height:1.4}
.start-btn{padding:14px 36px;background:var(--psda);color:#000;border:none;border-radius:10px;font-size:1rem;font-weight:700;cursor:pointer;transition:all .2s;font-family:'Source Sans 3',sans-serif}
.start-btn:hover{filter:brightness(1.15);transform:translateY(-1px);box-shadow:0 6px 20px rgba(251,191,36,.3)}

/* ‚îÄ‚îÄ Retrieval Warm-Up ‚îÄ‚îÄ */
.warmup-container{max-width:600px;margin:0 auto;padding:60px 20px}
.warmup-header{text-align:center;margin-bottom:32px}
.warmup-badge{display:inline-block;background:var(--psda);color:#000;font-size:10px;font-weight:700;letter-spacing:2px;text-transform:uppercase;padding:4px 12px;border-radius:12px;margin-bottom:12px}
.warmup-dots{display:flex;gap:8px;justify-content:center;margin-top:16px}
.warmup-dot{width:10px;height:10px;border-radius:50%;background:var(--border);transition:all .3s}
.warmup-dot.done-correct{background:var(--correct)}
.warmup-dot.done-wrong{background:var(--wrong)}
.warmup-dot.active{background:var(--psda);box-shadow:0 0 8px rgba(251,191,36,.4)}
.warmup-q{background:var(--surface);border:1px solid var(--border);border-radius:14px;padding:24px;margin-bottom:16px}
.warmup-q .source-tag{font-size:.7rem;color:var(--psda);font-weight:700;letter-spacing:1px;text-transform:uppercase;margin-bottom:8px}
.warmup-q .q-text{font-size:.95rem;line-height:1.7;margin-bottom:14px}
.warmup-choices{display:flex;flex-direction:column;gap:8px}
.warmup-choice{display:flex;align-items:center;gap:10px;padding:11px 14px;background:var(--paper);border:2px solid var(--border);border-radius:8px;cursor:pointer;font-size:.88rem;transition:all .15s}
.warmup-choice:hover:not(.wu-dis){border-color:var(--psda);background:rgba(251,191,36,.05)}
.warmup-choice.wu-correct{border-color:var(--correct);background:var(--correct-bg)}
.warmup-choice.wu-wrong{border-color:var(--wrong);background:var(--wrong-bg)}
.warmup-choice.wu-dis{pointer-events:none;opacity:.7}
.warmup-choice.wu-correct{opacity:1}
.warmup-fb{font-size:.85rem;color:var(--muted);line-height:1.6;margin-top:12px;padding:10px;background:var(--paper);border-radius:8px;border-left:3px solid var(--correct)}
.warmup-next{padding:10px 24px;background:var(--psda);color:#000;border:none;border-radius:8px;font-weight:700;cursor:pointer;font-size:.88rem;margin-top:12px;font-family:'Source Sans 3',sans-serif}
.warmup-next:hover{filter:brightness(1.1)}
.warmup-summary{text-align:center;padding:40px 20px}
.warmup-score{font-family:'JetBrains Mono',monospace;font-size:2.4rem;font-weight:700;color:var(--psda);margin:12px 0}
.warmup-continue{padding:12px 28px;background:var(--psda);color:#000;border:none;border-radius:8px;font-weight:700;cursor:pointer;font-size:.95rem;margin-top:20px;font-family:'Source Sans 3',sans-serif}
.warmup-continue:hover{filter:brightness(1.15)}

/* ‚îÄ‚îÄ Lesson Content ‚îÄ‚îÄ */
.back-link{display:inline-flex;align-items:center;gap:8px;color:var(--muted);font-size:.9rem;padding:8px 0;margin-top:8px;cursor:pointer;text-decoration:none}
.back-link:hover{color:var(--accent)}
.mod-header{padding:40px 0 30px;border-bottom:1px solid var(--border);margin-bottom:32px}
.mod-badge{display:inline-block;background:var(--strat);color:#fff;font-size:11px;font-weight:700;letter-spacing:2px;text-transform:uppercase;padding:5px 14px;border-radius:16px;margin-bottom:14px}
.mod-header h1{font-family:'Cormorant Garamond',serif;font-size:clamp(1.8rem,4vw,2.6rem);font-weight:700;margin-bottom:6px}
.mod-header .subtitle{color:var(--muted);font-size:1rem}
.mod-meta{display:flex;gap:20px;margin-top:14px;font-size:.82rem;color:var(--muted)}
.section{margin-bottom:36px}
.section-label{font-size:.7rem;font-weight:700;letter-spacing:2px;text-transform:uppercase;color:var(--strat);margin-bottom:6px}
.section h2{font-family:'Cormorant Garamond',serif;font-size:1.6rem;font-weight:700;margin-bottom:12px}
.section p{color:#ccc;font-size:.93rem;margin-bottom:12px;line-height:1.7}
.card{background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:18px 20px;margin-bottom:12px}
.card-accent{border-left:3px solid var(--accent)}
.callout{background:var(--accent-light);border:1px solid rgba(8,145,178,.3);border-radius:10px;padding:14px 18px;margin-bottom:16px;font-size:.9rem}
.callout strong{color:var(--accent)}
.callout-blue{background:var(--math-bg);border-color:rgba(96,165,250,.3)}.callout-blue strong{color:var(--math)}
.callout-gold{background:rgba(8,145,178,.08);border-color:rgba(8,145,178,.3)}.callout-gold strong{color:var(--accent)}
.topic{background:var(--surface);border:1px solid var(--border);border-radius:14px;margin-bottom:12px;overflow:hidden;transition:all .3s}
.topic-header{display:flex;align-items:center;gap:14px;padding:16px 20px;cursor:pointer}
.topic-badge{width:38px;height:38px;border-radius:10px;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:.82rem;color:#fff;flex-shrink:0}
.topic-info{flex:1}.topic-title{font-weight:700;font-size:.95rem}.topic-sub{font-size:.82rem;color:var(--muted);margin-top:2px}
.topic-arrow{color:var(--muted);transition:transform .2s;font-size:.9rem}
.topic.open .topic-arrow{transform:rotate(90deg)}
.topic-body{display:none;padding:0 20px 18px;font-size:.9rem;color:#ccc;line-height:1.7}
.topic.open .topic-body{display:block}
.topic-body h4{font-size:.95rem;color:var(--ink);margin:14px 0 6px;font-weight:700}
.topic-body ul{padding-left:18px;margin-bottom:10px}.topic-body li{margin-bottom:6px}
.formula-box{background:var(--paper);border:1px solid var(--border);border-radius:10px;padding:14px 16px;margin:10px 0;font-family:'JetBrains Mono',monospace;font-size:.85rem;line-height:1.8}
.formula-box .fn{color:var(--strat);font-weight:700}.formula-box .fl{color:var(--math);font-weight:700}
.exercise{background:var(--surface);border:2px solid var(--strat);border-radius:14px;padding:22px;margin-bottom:16px}
.exercise h3{font-family:'Cormorant Garamond',serif;font-size:1.2rem;margin-bottom:4px}
.exercise-sub{font-size:.82rem;color:var(--muted);margin-bottom:14px}
.ex-item{background:var(--paper);border:1px solid var(--border);border-radius:10px;padding:14px;margin-bottom:10px}
.ex-prompt{font-size:.92rem;line-height:1.6;margin-bottom:10px;color:#ddd}
.ex-prompt code{background:rgba(96,165,250,.1);color:var(--math);padding:1px 6px;border-radius:4px;font-family:'JetBrains Mono',monospace;font-size:.85rem}
.ex-input-row{display:flex;align-items:center;gap:8px;flex-wrap:wrap}
.ex-input{padding:8px 12px;background:var(--surface);border:1px solid var(--border);border-radius:6px;color:var(--ink);font-family:'JetBrains Mono',monospace;font-size:1rem;width:100px;text-align:center}
.ex-input:focus{border-color:var(--strat);outline:none}
.ex-btn{padding:8px 16px;background:var(--strat);color:#fff;border:none;border-radius:6px;cursor:pointer;font-size:.82rem;font-weight:600}.ex-btn:hover{filter:brightness(1.15)}
.ex-fb{font-size:.82rem;padding:8px 10px;border-radius:6px;margin-top:8px;display:none;line-height:1.5}
.ex-fb.show{display:block}.ex-fb.correct{background:var(--correct-bg);color:var(--correct)}.ex-fb.wrong{background:var(--wrong-bg);color:var(--wrong)}
.tier{display:inline-block;padding:2px 8px;border-radius:4px;font-size:.68rem;font-weight:700;letter-spacing:1px;text-transform:uppercase}
.tier-1{background:rgba(52,211,153,.15);color:var(--algebra)}.tier-2{background:var(--math-bg);color:var(--math)}.tier-3{background:rgba(167,139,250,.15);color:var(--advanced)}
.classify-opts{display:flex;flex-wrap:wrap;gap:6px;margin-bottom:4px}
.classify-opt{padding:6px 14px;background:var(--surface);border:2px solid var(--border);border-radius:8px;cursor:pointer;font-size:.82rem;transition:all .15s}
.classify-opt:hover:not(.cl-dis){border-color:var(--strat);background:var(--strat-bg)}
.classify-opt.cl-correct{border-color:var(--correct);background:var(--correct-bg);color:var(--correct);opacity:1}
.classify-opt.cl-wrong{border-color:var(--wrong);background:var(--wrong-bg);color:var(--wrong)}
.classify-opt.cl-dis{pointer-events:none;opacity:.6}.classify-opt.cl-correct{opacity:1}

/* ‚îÄ‚îÄ Confidence Tags ‚îÄ‚îÄ */
.confidence-row{display:flex;gap:6px;margin-bottom:10px;flex-wrap:wrap}
.conf-tag{padding:5px 12px;border-radius:6px;font-size:.75rem;font-weight:600;cursor:pointer;border:2px solid var(--border);background:var(--surface);transition:all .15s;letter-spacing:.5px}
.conf-tag:hover{border-color:var(--psda)}
.conf-tag.selected{border-color:var(--psda);background:rgba(251,191,36,.12);color:var(--psda)}
.conf-tag[data-conf="guessing"].selected{border-color:var(--psda);background:rgba(251,191,36,.12);color:var(--psda)}
.conf-tag[data-conf="unsure"].selected{border-color:var(--math);background:var(--math-bg);color:var(--math)}
.conf-tag[data-conf="confident"].selected{border-color:var(--psda);background:rgba(251,191,36,.12);color:var(--psda)}

/* ‚îÄ‚îÄ Timed Practice ‚îÄ‚îÄ */
.timer-bar{position:sticky;top:8px;z-index:50;background:rgba(18,18,18,.92);backdrop-filter:blur(8px);border:1px solid var(--border);border-radius:12px;padding:10px 16px;margin-bottom:20px;display:flex;align-items:center;gap:14px}
.timer-display{font-family:'JetBrains Mono',monospace;font-size:1.1rem;font-weight:700;color:var(--psda);min-width:60px}
.timer-display.warning{color:var(--psda)}
.timer-display.danger{color:var(--wrong);animation:pulse 1s ease infinite}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:.5}}
.timer-track{flex:1;height:4px;background:var(--border);border-radius:2px;overflow:hidden}
.timer-fill{height:100%;background:var(--psda);transition:width 1s linear;border-radius:2px}
.timer-fill.warning{background:var(--psda)}
.timer-fill.danger{background:var(--wrong)}
.timer-toggle{padding:5px 12px;background:var(--surface);border:1px solid var(--border);border-radius:6px;font-size:.75rem;color:var(--muted);cursor:pointer;font-family:'Source Sans 3',sans-serif;font-weight:600}
.timer-toggle:hover{border-color:var(--accent);color:var(--ink)}
.timer-toggle.active{background:var(--accent-light);border-color:var(--accent);color:var(--accent)}
.q-dots{display:flex;gap:4px}
.q-dot{width:8px;height:8px;border-radius:50%;background:var(--border)}
.q-dot.correct{background:var(--correct)}
.q-dot.wrong{background:var(--wrong)}
.q-dot.current{background:var(--accent);box-shadow:0 0 6px rgba(8,145,178,.5)}

/* ‚îÄ‚îÄ MC Choices ‚îÄ‚îÄ */
.mc-choices{display:flex;flex-direction:column;gap:6px}
.mc-choice{display:flex;align-items:center;gap:10px;padding:10px 14px;background:var(--paper);border:2px solid var(--border);border-radius:8px;cursor:pointer;font-size:.88rem;transition:all .15s}
.mc-choice:hover:not(.mc-dis){border-color:var(--psda);background:rgba(251,191,36,.05)}
.mc-letter{font-weight:700;color:var(--muted);min-width:20px}
.mc-choice.mc-correct{border-color:var(--correct);background:var(--correct-bg);opacity:1}
.mc-choice.mc-wrong{border-color:var(--wrong);background:var(--wrong-bg)}
.mc-choice.mc-dis{pointer-events:none;opacity:.7}.mc-choice.mc-correct{opacity:1}
.mc-choice.mc-correct .mc-letter{color:var(--correct)}.mc-choice.mc-wrong .mc-letter{color:var(--wrong)}
.mc-fb{font-size:.85rem;color:var(--muted);line-height:1.6;margin-top:10px;padding:10px;background:var(--paper);border-radius:8px;display:none;border-left:3px solid var(--correct)}.mc-fb.show{display:block}
.score-bar{display:flex;align-items:center;gap:10px;margin-top:14px;padding-top:10px;border-top:1px solid var(--border)}
.score-bar-label{font-size:.72rem;font-weight:700;text-transform:uppercase;letter-spacing:1px;color:var(--muted)}
.score-bar-track{flex:1;height:6px;border-radius:3px;background:var(--border);overflow:hidden}
.score-bar-fill{height:100%;border-radius:3px;background:var(--correct);transition:width .4s ease}
.score-bar-val{font-family:'JetBrains Mono',monospace;font-size:.85rem;font-weight:700;color:var(--correct);min-width:36px;text-align:right}

/* ‚îÄ‚îÄ Results Enhancement ‚îÄ‚îÄ */
.results-section{margin-top:24px;padding:20px;background:var(--surface);border:1px solid var(--border);border-radius:14px}
.results-section h3{font-family:'Cormorant Garamond',serif;font-size:1.3rem;margin-bottom:14px}
.results-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:2px;margin-bottom:16px;background:var(--border);border-radius:10px;overflow:hidden}
.results-grid-header{background:var(--surface);padding:8px;text-align:center;font-size:.68rem;font-weight:700;text-transform:uppercase;letter-spacing:1px;color:var(--muted)}
.results-grid-cell{background:var(--paper);padding:10px 8px;text-align:center;font-size:.78rem;min-height:50px;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:4px}
.results-grid-cell.danger-cell{background:var(--danger-bg);border:1px solid rgba(239,68,68,.3)}
.cell-label{font-size:.65rem;color:var(--muted);font-weight:600}
.cell-dots{display:flex;gap:3px;flex-wrap:wrap;justify-content:center}
.cell-dot{width:8px;height:8px;border-radius:50%}
.difficulty-bars{display:flex;flex-direction:column;gap:8px;margin-bottom:16px}
.diff-row{display:flex;align-items:center;gap:10px}
.diff-label{font-size:.78rem;font-weight:600;min-width:60px}
.diff-track{flex:1;height:8px;background:var(--border);border-radius:4px;overflow:hidden}
.diff-fill{height:100%;border-radius:4px;transition:width .5s ease}
.diff-val{font-family:'JetBrains Mono',monospace;font-size:.78rem;font-weight:700;min-width:40px;text-align:right}
.error-category{padding:12px 16px;border-radius:10px;margin-bottom:8px;font-size:.85rem;line-height:1.6}
.error-category .error-label{font-weight:700;margin-bottom:4px}
.error-category .error-items{color:var(--muted);font-size:.82rem}

/* ‚îÄ‚îÄ Module Complete ‚îÄ‚îÄ */
.complete-screen{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100vh;padding:40px 20px;text-align:center}
.complete-icon{font-size:4rem;margin-bottom:16px;animation:celebrateBounce .6s ease}
@keyframes celebrateBounce{0%{transform:scale(0)}50%{transform:scale(1.2)}100%{transform:scale(1)}}
.complete-screen h1{font-family:'Cormorant Garamond',serif;font-size:clamp(1.8rem,4vw,2.4rem);margin-bottom:8px}
.complete-sub{color:var(--muted);font-size:1rem;margin-bottom:28px}
.takeaway-list{text-align:left;max-width:500px;width:100%;margin-bottom:32px}
.takeaway-item{display:flex;gap:10px;align-items:flex-start;padding:8px 0;font-size:.88rem;color:#ccc}
.takeaway-check{color:var(--correct);flex-shrink:0;font-weight:700}
.nav-cards{display:grid;grid-template-columns:1fr 1fr;gap:12px;max-width:500px;width:100%}
.nav-card{background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:18px;text-align:center;cursor:pointer;transition:all .2s;text-decoration:none;color:var(--ink)}
.nav-card:hover{border-color:var(--psda);transform:translateY(-2px)}
.nav-card-label{font-size:.7rem;color:var(--muted);text-transform:uppercase;letter-spacing:1px;margin-bottom:4px}
.nav-card-title{font-weight:700;font-size:.95rem}

/* ‚îÄ‚îÄ Module 7-Specific Styles ‚îÄ‚îÄ */
.fm-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:8px;margin:12px 0}
.fm-card{background:var(--paper);border:1px solid var(--border);border-radius:10px;padding:12px;text-align:center}
.fm-name{font-size:.72rem;font-weight:700;text-transform:uppercase;letter-spacing:1px;color:var(--muted);margin-bottom:4px}
.fm-eq{font-family:'JetBrains Mono',monospace;font-size:.95rem;font-weight:700;color:var(--math)}
.skill-table{width:100%;border-collapse:collapse;font-size:.85rem;margin:12px 0}
.skill-table th,.skill-table td{padding:10px 12px;border:1px solid var(--border);text-align:left}
.skill-table th{background:var(--surface);font-weight:700;color:var(--strat);font-size:.78rem;text-transform:uppercase;letter-spacing:.5px}
.skill-table td{color:#ccc;vertical-align:top}
.skill-num{display:inline-flex;width:22px;height:22px;border-radius:50%;background:var(--strat);color:#fff;font-size:.72rem;font-weight:700;align-items:center;justify-content:center;margin-right:8px}
.sc-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:8px;margin:12px 0}
.sc-card{background:var(--paper);border:1px solid var(--border);border-radius:10px;padding:12px;text-align:center}
.sc-key{font-family:'JetBrains Mono',monospace;font-size:1.2rem;font-weight:700;color:var(--strat);margin-bottom:4px}
.sc-desc{font-size:.78rem;color:var(--muted)}
.do-dont{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin:12px 0}
.do-card,.dont-card{background:var(--surface);border-radius:12px;padding:16px;font-size:.88rem}
.do-card{border:2px solid var(--correct)}.dont-card{border:2px solid var(--wrong)}
.do-card h4{color:var(--correct);margin-bottom:8px}.dont-card h4{color:var(--wrong);margin-bottom:8px}
.do-card li,.dont-card li{margin-bottom:4px;color:#ccc}
.step-card{background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:16px 20px;margin-bottom:10px}
.step-num{display:inline-flex;width:28px;height:28px;border-radius:50%;background:var(--strat);color:#fff;font-size:.85rem;font-weight:700;align-items:center;justify-content:center;margin-right:10px;flex-shrink:0}
.step-header{display:flex;align-items:center;margin-bottom:8px;font-weight:700;font-size:.95rem}
.step-body{font-size:.88rem;color:#ccc;line-height:1.6;padding-left:38px}
.step-body code{background:rgba(96,165,250,.1);color:var(--math);padding:1px 6px;border-radius:4px;font-family:'JetBrains Mono',monospace;font-size:.85rem}
.dt-flow{display:flex;flex-direction:column;gap:8px;margin:12px 0}
.dt-step{display:flex;align-items:stretch;gap:0}
.dt-num{width:38px;min-height:38px;border-radius:10px 0 0 10px;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:.85rem;color:#fff;flex-shrink:0}
.dt-body{flex:1;padding:10px 14px;border-radius:0 10px 10px 0;font-size:.88rem;line-height:1.5;border:1px solid var(--border);border-left:none}
.dt-yes{color:var(--correct);font-weight:700}.dt-no{color:var(--muted);font-weight:600}
.worked{background:var(--surface);border:1px solid var(--border);border-left:3px solid var(--strat);border-radius:10px;padding:16px;margin:12px 0;font-size:.9rem}
.worked-label{font-size:.7rem;font-weight:700;text-transform:uppercase;letter-spacing:1.5px;color:var(--strat);margin-bottom:8px}
.gi-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:8px;margin:12px 0}
.gi-card{background:var(--surface);border:1px solid var(--border);border-radius:10px;padding:12px;display:flex;gap:10px;align-items:flex-start}
.gi-icon{font-size:1.2rem;flex-shrink:0}.gi-rule{font-size:.85rem;color:#ccc;line-height:1.5}
.trap-card{background:var(--paper);border:1px solid var(--border);border-left:3px solid var(--wrong);border-radius:10px;padding:14px;margin-bottom:10px}
.trap-title{font-weight:700;color:var(--wrong);font-size:.9rem;margin-bottom:4px}
.trap-body{font-size:.85rem;color:#ccc;line-height:1.5}
.trap-fix{font-size:.82rem;color:var(--correct);margin-top:6px;font-weight:600}
.tw-table{width:100%;border-collapse:collapse;font-size:.85rem;margin:12px 0}
.tw-table th,.tw-table td{padding:8px 10px;border:1px solid var(--border);text-align:center}
.tw-table th{background:var(--surface);font-weight:700;color:var(--strat);font-size:.78rem;text-transform:uppercase;letter-spacing:.5px}
.tw-table td{color:#ccc}

/* ‚îÄ‚îÄ Responsive ‚îÄ‚îÄ */
@media(max-width:600px){
  .mod-meta{flex-wrap:wrap;gap:10px}
  .classify-opts{gap:4px}
  .preview-grid{grid-template-columns:1fr 1fr}
  .welcome-meta{flex-wrap:wrap;gap:12px}
  .results-grid{grid-template-columns:1fr;gap:1px}
  .nav-cards{grid-template-columns:1fr}
  .timer-bar{flex-wrap:wrap;gap:8px}
  .do-dont{grid-template-columns:1fr}
  .sc-grid{grid-template-columns:repeat(2,1fr)}
}
</style>
</head>
<body>
<div class="top-stripe"></div>

<!-- ‚îÄ‚îÄ Screen Progress Dots ‚îÄ‚îÄ -->
<div class="screen-progress" id="screenProgress"></div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<!-- SCREEN 1: WELCOME                             -->
<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="screen active fade-in" id="screen-welcome">
  <div class="welcome-screen">
    <div class="welcome-badge">Module 7</div>
    <h1>Strategy Toolkit & Time Management</h1>
    <p class="welcome-sub">The difference between a good math student and a good test-taker is strategy. This module teaches you how to work smarter.</p>
    <div class="welcome-meta">
      <span>‚è± ~50 min</span>
      <span>üìã 5 strategies</span>
      <span>üî® 5 exercises</span>
      <span>üéØ 10 practice Qs</span>
    </div>
    <div class="preview-grid">
      <div class="preview-card">
        <div class="preview-icon">üîÑ</div>
        <div class="preview-title">Retrieval Warm-Up</div>
        <div class="preview-desc">5 questions from Module 6 to activate prior knowledge</div>
      </div>
      <div class="preview-card">
        <div class="preview-icon">üå≥</div>
        <div class="preview-title">Decision Tree</div>
        <div class="preview-desc">5-second framework to pick the fastest approach</div>
      </div>
      <div class="preview-card">
        <div class="preview-icon">üîå</div>
        <div class="preview-title">PIYON & Backsolve</div>
        <div class="preview-desc">Plug in your own numbers or test answer choices</div>
      </div>
      <div class="preview-card">
        <div class="preview-icon">üéØ</div>
        <div class="preview-title">Ballpark/POE & Grid-In</div>
        <div class="preview-desc">Estimate, eliminate, and SPR rules</div>
      </div>
      <div class="preview-card">
        <div class="preview-icon">üö®</div>
        <div class="preview-title">Misread Traps</div>
        <div class="preview-desc">The top 6 preventable mistakes on test day</div>
      </div>
      <div class="preview-card">
        <div class="preview-icon">‚è±</div>
        <div class="preview-title">Timed Practice</div>
        <div class="preview-desc">10 strategy-tagged questions with timer ON</div>
      </div>
    </div>
    <button class="start-btn" onclick="goScreen(1)">Start Learning ‚Üí</button>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<!-- SCREEN 2: RETRIEVAL WARM-UP                   -->
<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="screen" id="screen-warmup">
  <div class="warmup-container">
    <div class="warmup-header">
      <div class="warmup-badge">Retrieval Warm-Up</div>
      <h2 style="font-family:'Cormorant Garamond',serif;font-size:1.6rem">Module 6 Review</h2>
      <p style="color:var(--muted);font-size:.9rem;margin-top:4px">Quick recall from Desmos Mastery ‚Äî the tool you'll pair with strategy.</p>
      <div class="warmup-dots" id="warmupDots"></div>
    </div>
    <div id="warmupContent"></div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<!-- SCREEN 3: LESSON CONTENT                      -->
<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="screen" id="screen-lesson">
<div class="container">
<div class="mod-header">
  <div class="mod-badge">Module 7</div>
  <h1>Strategy Toolkit & Time Management</h1>
  <p class="subtitle">The difference between a good math student and a good test-taker is strategy. This module teaches you how to work smarter.</p>
  <div class="mod-meta"><span>‚è± ~50 min</span><span>üìã 5 strategies + 5 exercises</span><span>üõ† Phase 3: Strategize</span></div>
</div>

<div class="callout" style="background:var(--strat-bg);border-color:rgba(245,158,11,.3)"><strong style="color:var(--strat)">Strategy > Speed:</strong> Most students lose points not because they can't do the math, but because they misread problems, pick the wrong approach, or run out of time. This module fixes all three. Every strategy here works on the PSAT 8/9, PSAT 10, PSAT/NMSQT, and SAT.</div>

<!-- ADAPTIVE MODULE STRATEGY -->
<div class="section">
  <div class="section-label">Test Structure</div>
  <h2>Understanding the Adaptive Format</h2>
</div>

<div class="topic open" onclick="if(event.target.closest('.topic-body'))return;this.classList.toggle('open')">
  <div class="topic-header">
    <div class="topic-badge" style="background:var(--strat)">üìã</div>
    <div class="topic-info"><div class="topic-title">Module 1 vs. Module 2 Strategy</div><div class="topic-sub">Why accuracy in Module 1 matters more than speed</div></div>
    <div class="topic-arrow">‚ñ∏</div>
  </div>
  <div class="topic-body">
    <p>The PSAT 8/9 Math section has <strong>two modules</strong>, each with 22 questions in 35 minutes.</p>
    <ul>
      <li><strong>Module 1</strong> is the same difficulty for everyone. Your performance here determines whether Module 2 is <em>easier</em> or <em>harder</em>.</li>
      <li>Getting <strong>14+ correct in Module 1</strong> ‚Üí harder Module 2 (higher score ceiling)</li>
      <li>Getting <strong>fewer than 11 correct</strong> ‚Üí easier Module 2 (lower score ceiling)</li>
    </ul>
    <div class="formula-box">
      <div><span class="fn">Key Insight:</span> Getting into the HARD Module 2 is worth ~40‚Äì80 points.</div>
      <div style="color:var(--muted);font-size:.82rem">Even if you miss more questions in hard M2, your ceiling is much higher.</div>
    </div>
    <p><strong>Module 1 strategy:</strong> Prioritize accuracy over speed. Double-check every answer. It's better to get 18/22 right with careful work than 22/22 attempted with careless mistakes.</p>
    <p><strong>Module 2 strategy:</strong> If you get hard M2, expect tougher questions ‚Äî use Desmos aggressively and skip/flag questions you're stuck on. If you get easy M2, aim for near-perfect accuracy to maximize your score.</p>
  </div>
</div>

<!-- TIME MANAGEMENT -->
<div class="section">
  <div class="section-label">Time Management</div>
  <h2>Time Budget Per Module</h2>
</div>

<div class="topic open" onclick="if(event.target.closest('.topic-body'))return;this.classList.toggle('open')">
  <div class="topic-header">
    <div class="topic-badge" style="background:var(--strat)">‚è±</div>
    <div class="topic-info"><div class="topic-title">The Two-Pass System</div><div class="topic-sub">35 minutes, 22 questions, ~95 seconds each</div></div>
    <div class="topic-arrow">‚ñ∏</div>
  </div>
  <div class="topic-body">
    <div class="formula-box">
      <div><span class="fn">Pass 1 (25 min):</span> Answer everything you can do in under 90 seconds. Flag anything you're unsure about.</div>
      <div><span class="fn">Pass 2 (10 min):</span> Return to flagged questions. Use Desmos, backsolve, or POE to pick up extra points.</div>
    </div>
    <h4>Per-Question Targets</h4>
    <ul>
      <li><strong>Easy questions (Tier 1):</strong> ~60 seconds. Don't overthink these ‚Äî they're testing basic skills.</li>
      <li><strong>Medium questions (Tier 2):</strong> ~90 seconds. May need 2‚Äì3 steps or a Desmos graph.</li>
      <li><strong>Hard questions (Tier 3):</strong> ~120 seconds max. If you don't see a path forward, flag and move on.</li>
    </ul>
    <div class="callout"><strong>The 2-Minute Rule:</strong> If you've spent 2 minutes on a question and aren't close to an answer, flag it and move on. There's no penalty for wrong answers ‚Äî always guess before time expires.</div>
    <h4>No Penalty for Guessing</h4>
    <p>The PSAT 8/9 does NOT deduct points for wrong answers. <strong>Never leave a question blank.</strong> If you're running out of time, quickly select an answer for every remaining question.</p>
  </div>
</div>

<!-- 5-SECOND DECISION TREE -->
<div class="section">
  <div class="section-label">Core Framework</div>
  <h2>The 5-Second Decision Tree</h2>
  <p>When you read a question, use this decision tree within 5 seconds to choose the fastest approach.</p>
</div>

<div class="dt-flow">
  <div class="dt-step"><div class="dt-num" style="background:var(--strat)">1</div><div class="dt-body" style="background:var(--strat-bg)">Do I immediately see how to solve this?<br><span class="dt-yes">YES ‚Üí Solve directly.</span> <span class="dt-no">NO ‚Üí Step 2</span></div></div>
  <div class="dt-step"><div class="dt-num" style="background:var(--advanced)">2</div><div class="dt-body" style="background:rgba(167,139,250,.08)">Variables in the answer choices?<br><span class="dt-yes">YES ‚Üí Use Plug In (PIYON).</span> <span class="dt-no">NO ‚Üí Step 3</span></div></div>
  <div class="dt-step"><div class="dt-num" style="background:var(--algebra)">3</div><div class="dt-body" style="background:rgba(52,211,153,.08)">Answer choices are specific numbers?<br><span class="dt-yes">YES ‚Üí Use Backsolve (PITA).</span> <span class="dt-no">NO ‚Üí Step 4</span></div></div>
  <div class="dt-step"><div class="dt-num" style="background:var(--accent)">4</div><div class="dt-body" style="background:var(--accent-light)">Involves a function, graph, or system?<br><span class="dt-yes">YES ‚Üí Use Desmos.</span> <span class="dt-no">NO ‚Üí Step 5</span></div></div>
  <div class="dt-step"><div class="dt-num" style="background:var(--psda)">5</div><div class="dt-body" style="background:rgba(251,191,36,.08)">Can I eliminate clearly wrong answers?<br><span class="dt-yes">YES ‚Üí Ballpark + POE, then pick.</span> <span class="dt-no">Flag and move on.</span></div></div>
</div>

<!-- STRATEGY 1: PIYON -->
<div class="section">
  <div class="section-label">Strategy 1</div>
  <h2>Plug In Your Own Numbers (PIYON)</h2>
  <div class="callout" style="background:var(--strat-bg);border-color:rgba(245,158,11,.3)"><strong style="color:var(--strat)">When to use:</strong> Variables in answer choices. "Which expression is equivalent to‚Ä¶" Questions with no specific values.</div>
</div>

<div class="topic open" onclick="if(event.target.closest('.topic-body'))return;this.classList.toggle('open')">
  <div class="topic-header">
    <div class="topic-badge" style="background:var(--strat)">PI</div>
    <div class="topic-info"><div class="topic-title">How It Works ‚Äî Step by Step</div><div class="topic-sub">Choose numbers, find a target, check each answer choice</div></div>
    <div class="topic-arrow">‚ñ∏</div>
  </div>
  <div class="topic-body">
    <p><strong>Step 1:</strong> Choose simple numbers. Best picks: <strong>2, 3, 5, 10</strong>, or <strong>100</strong> (for percent problems).</p>
    <p><strong>Step 2:</strong> Work the problem with your numbers to get a <strong>TARGET</strong> answer.</p>
    <p><strong>Step 3:</strong> Plug the SAME numbers into each answer choice.</p>
    <p><strong>Step 4:</strong> The choice that matches your target is correct.</p>
    <p><strong>Avoid 0 and 1</strong> ‚Äî they have special properties that make multiple answers look right. If two answers match, try different numbers.</p>
  </div>
</div>

<div class="worked">
  <div class="worked-label">Worked Example</div>
  <div class="ex-prompt" style="margin-bottom:8px">If x is positive, which is equivalent to <code>(x¬≤ + 2x) / x</code>?</div>
  <div style="color:#ccc">A) x + 2 &nbsp;&nbsp; B) x¬≤ + 2 &nbsp;&nbsp; C) 2x &nbsp;&nbsp; D) x</div>
  <div style="margin-top:8px"><strong>Plug in x = 3:</strong> (9 + 6) / 3 = 15/3 = <strong>5</strong> ‚Üê target</div>
  <div style="color:#ccc">A) 3 + 2 = 5 ‚úì &nbsp;&nbsp; B) 11 ‚úó &nbsp;&nbsp; C) 6 ‚úó &nbsp;&nbsp; D) 3 ‚úó</div>
  <div style="margin-top:4px;color:var(--correct);font-weight:700">Answer: A</div>
</div>

<!-- STRATEGY 2: BACKSOLVE -->
<div class="section">
  <div class="section-label">Strategy 2</div>
  <h2>Backsolve (Plug In The Answers ‚Äî PITA)</h2>
  <div class="callout" style="background:var(--strat-bg);border-color:rgba(245,158,11,.3)"><strong style="color:var(--strat)">When to use:</strong> Answer choices are specific numbers. "What value of x‚Ä¶" "How many‚Ä¶"</div>
</div>

<div class="topic open" onclick="if(event.target.closest('.topic-body'))return;this.classList.toggle('open')">
  <div class="topic-header">
    <div class="topic-badge" style="background:var(--strat)">BS</div>
    <div class="topic-info"><div class="topic-title">How It Works ‚Äî Step by Step</div><div class="topic-sub">Start with answer choice B or C and test it</div></div>
    <div class="topic-arrow">‚ñ∏</div>
  </div>
  <div class="topic-body">
    <p><strong>Step 1:</strong> Start with answer choice <strong>B or C</strong> (middle values).</p>
    <p><strong>Step 2:</strong> Plug that number into the problem. Does it work?</p>
    <p><strong>Step 3:</strong> If it works ‚Üí that's your answer. If the result is too big or too small, adjust up or down.</p>
    <p><strong>Key advantage:</strong> You're working with <em>concrete numbers</em> instead of abstract algebra. This is often easier and less error-prone.</p>
  </div>
</div>

<div class="worked">
  <div class="worked-label">Worked Example</div>
  <div class="ex-prompt" style="margin-bottom:8px">If <code>3x ‚àí 7 = 2x + 5</code>, what is x?</div>
  <div style="color:#ccc">A) 8 &nbsp;&nbsp; B) 10 &nbsp;&nbsp; C) 12 &nbsp;&nbsp; D) 14</div>
  <div style="margin-top:8px"><strong>Try C (x = 12):</strong> Left: 3(12) ‚àí 7 = 29. Right: 2(12) + 5 = 29. ‚úì They match!</div>
  <div style="margin-top:4px;color:var(--correct);font-weight:700">Answer: C</div>
  <div style="font-size:.82rem;color:var(--muted);margin-top:4px">Algebraically: x = 12. Same answer, but backsolving can be faster when algebra is messy.</div>
</div>

<!-- STRATEGY 3: BALLPARK & POE -->
<div class="section">
  <div class="section-label">Strategy 3</div>
  <h2>Ballpark & Process of Elimination (POE)</h2>
  <div class="callout" style="background:var(--strat-bg);border-color:rgba(245,158,11,.3)"><strong style="color:var(--strat)">When to use:</strong> Hard questions where you're stuck. When you can estimate the answer should be "around 40" and eliminate clearly wrong options.</div>
</div>

<div class="topic" onclick="if(event.target.closest('.topic-body'))return;this.classList.toggle('open')">
  <div class="topic-header">
    <div class="topic-badge" style="background:var(--strat)">BE</div>
    <div class="topic-info"><div class="topic-title">How It Works</div><div class="topic-sub">Estimate, eliminate, then pick from what's left</div></div>
    <div class="topic-arrow">‚ñ∏</div>
  </div>
  <div class="topic-body">
    <p><strong>Step 1: Estimate.</strong> Before calculating, think: "The answer should be roughly ___."</p>
    <p><strong>Step 2: Eliminate.</strong> Cross off answers that are clearly too big, too small, or the wrong sign.</p>
    <p><strong>Step 3: Pick.</strong> From the remaining options, choose the most reasonable one.</p>
    <p><strong>Common eliminations:</strong></p>
    <ul>
      <li>Negative answer when context requires positive (lengths, counts, prices)</li>
      <li>Answer that's obviously too large or too small for context</li>
      <li>Answer with wrong units (asked for hours, answer is in minutes)</li>
      <li>One answer that looks completely different from the other three</li>
    </ul>
  </div>
</div>

<!-- GRID-IN / SPR -->
<div class="section">
  <div class="section-label">Grid-In Rules</div>
  <h2>Student-Produced Response (SPR) Tips</h2>
  <p>About 25% of PSAT 8/9 math questions ask you to type your answer instead of choosing from options. Know these rules:</p>
</div>

<div class="gi-grid">
  <div class="gi-card"><div class="gi-icon">‚úÖ</div><div class="gi-rule"><strong>Fractions OK:</strong> Both 3/7 and 0.4286 are accepted.</div></div>
  <div class="gi-card"><div class="gi-icon">‚úÇÔ∏è</div><div class="gi-rule"><strong>Long decimals:</strong> Truncate or round. Don't leave blank.</div></div>
  <div class="gi-card"><div class="gi-icon">‚ûñ</div><div class="gi-rule"><strong>Negatives OK:</strong> The digital PSAT accepts negative answers.</div></div>
  <div class="gi-card"><div class="gi-icon">üéØ</div><div class="gi-rule"><strong>Multiple correct:</strong> If several answers work, any valid one is accepted.</div></div>
  <div class="gi-card"><div class="gi-icon">‚ö†Ô∏è</div><div class="gi-rule"><strong>#1 Trap:</strong> Question asks for 2x, not x. ALWAYS re-read what they want.</div></div>
  <div class="gi-card"><div class="gi-icon">üö´</div><div class="gi-rule"><strong>No mixed numbers:</strong> Enter 3¬Ω as 7/2 or 3.5, never "3 1/2".</div></div>
</div>

<!-- PREVENTABLE MISTAKES DIAGNOSTIC -->
<div class="section">
  <div class="section-label">New: Preventable Mistakes</div>
  <h2>The Top 6 Misreading Traps</h2>
  <p>These mistakes have nothing to do with math ability ‚Äî they're about careful reading. Fixing them can be worth 2‚Äì4 questions per test.</p>
</div>

<div class="trap-card">
  <div class="trap-title">Trap 1: Solving for the Wrong Variable</div>
  <div class="trap-body">The question asks for <code>3x + 2</code>, not x. You solve for x = 4 and pick 4. The answer was 14.</div>
  <div class="trap-fix">‚úì Fix: Underline exactly what the question asks for BEFORE solving.</div>
</div>
<div class="trap-card">
  <div class="trap-title">Trap 2: Intermediate vs. Final Answer</div>
  <div class="trap-body">"A shirt is 20% off, then taxed 8%. What is the total cost?" You find the discount ($32) and pick that ‚Äî but the question asks for the final price after tax ($34.56).</div>
  <div class="trap-fix">‚úì Fix: Make sure your answer addresses the FINAL part of the question.</div>
</div>
<div class="trap-card">
  <div class="trap-title">Trap 3: "At Least" vs. "More Than"</div>
  <div class="trap-body">"At least 5" means ‚â• 5 (includes 5). "More than 5" means > 5 (does NOT include 5). Mixing these up changes the answer.</div>
  <div class="trap-fix">‚úì Fix: "At least" = ‚â•. "More than" = >. "No more than" = ‚â§. "Fewer than" = <.</div>
</div>
<div class="trap-card">
  <div class="trap-title">Trap 4: Negation Words</div>
  <div class="trap-body">"Which is NOT a solution?" Your brain skips the NOT and you pick a solution. Wrong.</div>
  <div class="trap-fix">‚úì Fix: Circle negative words (NOT, CANNOT, EXCEPT, LEAST) when you see them.</div>
</div>
<div class="trap-card">
  <div class="trap-title">Trap 5: Axis Scale / Units</div>
  <div class="trap-body">A graph's y-axis increases by 10s (10, 20, 30‚Ä¶) but you read a point as if it's ones. Or the x-axis is in months but the question asks about years.</div>
  <div class="trap-fix">‚úì Fix: Always read axis labels AND the scale before reading data.</div>
</div>
<div class="trap-card">
  <div class="trap-title">Trap 6: Positive vs. Negative in Context</div>
  <div class="trap-body">You solve correctly and get x = ‚àí3, but forget the negative sign when entering your SPR answer. Or the question says "what is the DECREASE" and you give the negative value instead of the positive magnitude.</div>
  <div class="trap-fix">‚úì Fix: For SPR, double-check the sign. For "increase/decrease" questions, give positive values.</div>
</div>

<!-- EXERCISES -->
<div class="section"><div class="section-label">Interactive Exercise 1</div><h2>5-Second Decision Tree Trainer</h2><p>For each question, choose the BEST strategy. Speed matters!</p><div class="exercise" style="border-color:var(--strat)" id="dtEx"></div></div>

<div class="section"><div class="section-label">Interactive Exercise 2</div><h2>Plug In Workshop</h2><p>Use PIYON on each problem. Pick the answer that matches your target.</p><div class="exercise" style="border-color:var(--strat)" id="piyonEx"></div></div>

<div class="section"><div class="section-label">Interactive Exercise 3</div><h2>Backsolve Workshop</h2><p>Start from the answer choices and test them.</p><div class="exercise" style="border-color:var(--strat)" id="bsEx"></div></div>

<div class="section"><div class="section-label">Interactive Exercise 4</div><h2>Ballpark Eliminator</h2><p>Estimate and eliminate. No full solving needed.</p><div class="exercise" style="border-color:var(--strat)" id="bpEx"></div></div>

<div class="section"><div class="section-label">Interactive Exercise 5</div><h2>Misread Trap Detector</h2><p>Each question has a common misread trap. Identify it.</p><div class="exercise" style="border-color:var(--wrong)" id="trapEx"></div></div>

<div style="text-align:center;padding:24px 0">
  <button class="start-btn" onclick="goScreen(3)">Continue to Practice Questions ‚Üí</button>
</div>
</div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<!-- SCREEN 4: TIMED PRACTICE                      -->
<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="screen" id="screen-practice">
<div class="container">
  <div class="section-label">PSAT 8/9 Practice</div>
  <h2 style="font-family:'Cormorant Garamond',serif;font-size:1.6rem;margin-bottom:4px">Strategy-Tagged Practice</h2>
  <p style="color:var(--muted);font-size:.9rem;margin-bottom:16px">10 questions at three difficulty tiers. Tag your confidence before answering.</p>

  <div class="timer-bar" id="timerBar">
    <div class="timer-display" id="timerDisplay">--:--</div>
    <div class="timer-track"><div class="timer-fill" id="timerFill"></div></div>
    <div class="q-dots" id="qDots"></div>
    <button class="timer-toggle active" id="timerToggle" onclick="toggleTimer()">‚è± Timer ON</button>
  </div>

  <div id="psatPractice"></div>
  <div id="practiceResults" style="display:none"></div>

  <div id="practiceNav" style="display:none;text-align:center;padding:24px 0">
    <button class="start-btn" onclick="goScreen(4)">View Summary & Complete Module ‚Üí</button>
  </div>
</div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<!-- SCREEN 5: MODULE COMPLETE                     -->
<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="screen" id="screen-complete">
  <div class="complete-screen">
    <div class="complete-icon">üéØ</div>
    <h1>Module 7 Complete!</h1>
    <p class="complete-sub">You've mastered the strategy gap ‚Äî the difference between knowing the math and acing the test.</p>

    <div class="takeaway-list">
      <div style="font-weight:700;margin-bottom:12px;font-size:.85rem;color:var(--psda);text-transform:uppercase;letter-spacing:1px">Key Takeaways</div>
      <div class="takeaway-item"><span class="takeaway-check">‚úì</span> Module 1 accuracy > Module 2 speed. Getting into hard M2 is worth 40‚Äì80 points.</div>
      <div class="takeaway-item"><span class="takeaway-check">‚úì</span> Two-pass system: Pass 1 (25 min) = answer what you can. Pass 2 (10 min) = return to flagged.</div>
      <div class="takeaway-item"><span class="takeaway-check">‚úì</span> 5-Second Decision Tree: direct solve ‚Üí plug in ‚Üí backsolve ‚Üí Desmos ‚Üí ballpark.</div>
      <div class="takeaway-item"><span class="takeaway-check">‚úì</span> PIYON: Variables in answers ‚Üí choose simple numbers, find target, match.</div>
      <div class="takeaway-item"><span class="takeaway-check">‚úì</span> Backsolve: Number answers ‚Üí start with B/C and test.</div>
      <div class="takeaway-item"><span class="takeaway-check">‚úì</span> Ballpark: Estimate first, eliminate clearly wrong, pick from what's left.</div>
      <div class="takeaway-item"><span class="takeaway-check">‚úì</span> SPR rules: fractions OK, negatives OK, no mixed numbers, always re-read what they ask for.</div>
      <div class="takeaway-item"><span class="takeaway-check">‚úì</span> No penalty for guessing ‚Äî never leave a question blank.</div>
      <div class="takeaway-item"><span class="takeaway-check">‚úì</span> Most missed points are from misreading, not math. Underline what the question asks.</div>
    </div>

    <div id="completePracticeStats"></div>

    <div class="nav-cards">
      <a class="nav-card" href="module-6.html">
        <div class="nav-card-label">‚Üê Previous</div>
        <div class="nav-card-title">Module 6: Desmos Mastery</div>
      </a>
      <a class="nav-card" href="module-8.html" style="border-color:var(--psda)">
        <div class="nav-card-label">Next ‚Üí</div>
        <div class="nav-card-title">Module 8: Practice Test</div>
      </a>
    </div>
  </div>
</div>

<script>
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// SCREEN NAVIGATION SYSTEM
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const SCREENS = ['screen-welcome','screen-warmup','screen-lesson','screen-practice','screen-complete'];
let currentScreen = 0;

function goScreen(idx) {
  if (idx < 0 || idx >= SCREENS.length) return;
  const cur = document.getElementById(SCREENS[currentScreen]);
  const nxt = document.getElementById(SCREENS[idx]);
  cur.classList.remove('fade-in');
  cur.classList.add('fade-out');
  setTimeout(() => {
    cur.classList.remove('active','fade-out');
    nxt.classList.add('active','fade-in');
    currentScreen = idx;
    updateProgressDots();
    window.scrollTo(0, 0);
    if (idx === 3 && timerEnabled) startTimer();
  }, 300);
}

function updateProgressDots() {
  const cont = document.getElementById('screenProgress');
  cont.innerHTML = SCREENS.map((s, i) => {
    let cls = 'screen-dot';
    if (i < currentScreen) cls += ' completed';
    if (i === currentScreen) cls += ' current';
    return `<div class="${cls}" onclick="${i <= currentScreen ? 'goScreen('+i+')' : ''}" title="${['Welcome','Warm-Up','Lesson','Practice','Complete'][i]}"></div>`;
  }).join('');
}
updateProgressDots();

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// RETRIEVAL WARM-UP (Module 6 content)
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const WARMUP_QS = [
  {
    source: 'Module 6 ‚Äî Desmos Basics',
    q: 'What should you do to solve a system of equations in Desmos?',
    ch: ['Type both equations and look for the formula','Graph both and click the intersection dot','Use a slider for each variable','Run a regression'],
    c: 1,
    fb: 'Graph both equations. Where they cross, a gray dot appears ‚Äî click it to see the exact (x, y) solution.'
  },
  {
    source: 'Module 6 ‚Äî Shortcuts',
    q: 'Which key creates an exponent in Desmos?',
    ch: ['*','^','_','~'],
    c: 1,
    fb: 'Type x^2 to get x¬≤. The caret (^) is your exponent key.'
  },
  {
    source: 'Module 6 ‚Äî Regression',
    q: 'To find a line of best fit for data in Desmos, you type:',
    ch: ['y = mx + b','y‚ÇÅ ~ mx‚ÇÅ + b','best_fit(data)','regression(x, y)'],
    c: 1,
    fb: 'After entering data in a table, type y‚ÇÅ~mx‚ÇÅ+b (use _ for subscript, ~ for regression).'
  },
  {
    source: 'Module 6 ‚Äî When to Use',
    q: 'Which problem is BEST solved with Desmos?',
    ch: ['What is 8 √ó 7?','Where do y=x¬≤ and y=2x+3 intersect?','Is correlation the same as causation?','What is P(A|B)?'],
    c: 1,
    fb: 'Systems and intersections are Desmos\'s sweet spot. Conceptual and probability questions don\'t benefit.'
  },
  {
    source: 'Module 6 ‚Äî CAS Limitations',
    q: 'Can Desmos factor the expression x¬≤ ‚àí 5x + 6?',
    ch: ['Yes, type factor(x¬≤‚àí5x+6)','No ‚Äî Desmos is not a CAS','Yes if you use scientific mode','Only with a plugin'],
    c: 1,
    fb: 'Desmos cannot factor or simplify algebraically. But you CAN graph y=x¬≤‚àí5x+6 and find zeros at x=2 and x=3.'
  }
];

let warmupIdx = 0;
let warmupAnswers = [];
let warmupAnswered = false;

function renderWarmup() {
  document.getElementById('warmupDots').innerHTML = WARMUP_QS.map((_, i) => {
    let cls = 'warmup-dot';
    if (i < warmupIdx) cls += warmupAnswers[i] ? ' done-correct' : ' done-wrong';
    if (i === warmupIdx && warmupIdx < WARMUP_QS.length) cls += ' active';
    return `<div class="${cls}"></div>`;
  }).join('');

  const cont = document.getElementById('warmupContent');

  if (warmupIdx >= WARMUP_QS.length) {
    const cor = warmupAnswers.filter(Boolean).length;
    cont.innerHTML = `
      <div class="warmup-summary">
        <div class="warmup-badge">Warm-Up Complete</div>
        <div class="warmup-score">${cor} / ${WARMUP_QS.length}</div>
        <p style="color:var(--muted);font-size:.9rem;margin-bottom:8px">
          ${cor === 5 ? 'Perfect recall! Module 6 knowledge is locked in.' :
            cor >= 3 ? 'Good recall! A couple of Desmos topics to revisit.' :
            'Some gaps from Module 6 ‚Äî consider a quick review before continuing.'}
        </p>
        <button class="warmup-continue" onclick="goScreen(2)">Continue to Lesson ‚Üí</button>
      </div>`;
    return;
  }

  const q = WARMUP_QS[warmupIdx];
  warmupAnswered = false;
  cont.innerHTML = `
    <div class="warmup-q">
      <div class="source-tag">From ${q.source}</div>
      <div class="q-text">${q.q}</div>
      <div class="warmup-choices" id="warmupChoices">
        ${q.ch.map((ch, ci) => `<div class="warmup-choice" onclick="answerWarmup(${ci})">${ch}</div>`).join('')}
      </div>
      <div id="warmupFb" style="display:none"></div>
    </div>`;
}

function answerWarmup(ci) {
  if (warmupAnswered) return;
  warmupAnswered = true;
  const q = WARMUP_QS[warmupIdx];
  const correct = ci === q.c;
  warmupAnswers.push(correct);

  const choices = document.querySelectorAll('.warmup-choice');
  choices.forEach((ch, i) => {
    ch.classList.add('wu-dis');
    if (i === q.c) ch.classList.add('wu-correct');
    else if (i === ci && !correct) ch.classList.add('wu-wrong');
  });

  const fb = document.getElementById('warmupFb');
  fb.style.display = 'block';
  fb.innerHTML = `<div class="warmup-fb">${correct ? '‚úì ' : '‚úó '}${q.fb}</div>
    <button class="warmup-next" onclick="warmupIdx++;renderWarmup()">
      ${warmupIdx < WARMUP_QS.length - 1 ? 'Next Question ‚Üí' : 'See Results ‚Üí'}
    </button>`;

  document.getElementById('warmupDots').innerHTML = WARMUP_QS.map((_, i) => {
    let cls = 'warmup-dot';
    if (i < warmupAnswers.length) cls += warmupAnswers[i] ? ' done-correct' : ' done-wrong';
    else if (i === warmupIdx + 1) cls += ' active';
    return `<div class="${cls}"></div>`;
  }).join('');
}

renderWarmup();

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// GENERIC HELPERS
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function mkSc(c,t){return `<div class="score-bar"><div class="score-bar-label">Score</div><div class="score-bar-track"><div class="score-bar-fill" style="width:${t?c/t*100:0}%"></div></div><div class="score-bar-val">${c}/${t}</div></div>`;}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// EXERCISE 1: DECISION TREE TRAINER
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const DT=[
  {q:'Which expression is equivalent to <code>2(x+3)‚àíx</code>?<br>A) x+6 B) x+3 C) 3x+3 D) 2x+6',c:'Direct Solve',opts:['Direct Solve','Plug In','Backsolve','Desmos','Ballpark'],fb:'Distribute and simplify ‚Äî straightforward algebra. 2x+6‚àíx = x+6.'},
  {q:'If <code>3x‚àí5=22</code>, what is x?<br>A) 7 B) 9 C) 11 D) 13',c:'Backsolve',opts:['Direct Solve','Plug In','Backsolve','Desmos','Ballpark'],fb:'Number answers ‚Üí try B or C. 3(9)‚àí5=22 ‚úì. Or direct solve works too.'},
  {q:'If a is a positive integer, which expression equals <code>(a¬≤‚àía)/a</code>?<br>A) a‚àí1 B) a C) a¬≤‚àí1 D) a+1',c:'Plug In',opts:['Direct Solve','Plug In','Backsolve','Desmos','Ballpark'],fb:'Variables in answers ‚Üí PIYON. Try a=3: (9‚àí3)/3=2. A) 2 ‚úì.'},
  {q:'Where do <code>y=x¬≤‚àí4</code> and <code>y=x+2</code> intersect?',c:'Desmos',opts:['Direct Solve','Plug In','Backsolve','Desmos','Ballpark'],fb:'Two functions ‚Üí graph both in Desmos and click the intersection dots.'},
  {q:'A rectangle has area 180 and width 12. What is the perimeter?<br>A) 30 B) 48 C) 54 D) 60',c:'Direct Solve',opts:['Direct Solve','Plug In','Backsolve','Desmos','Ballpark'],fb:'Length = 180/12 = 15. Perimeter = 2(15+12) = 54. Quick arithmetic.'},
  {q:'A shirt originally costs $60. After a 30% discount and 8% tax, which is closest to the final price?<br>A) $38 B) $42 C) $45 D) $50',c:'Ballpark',opts:['Direct Solve','Plug In','Backsolve','Desmos','Ballpark'],fb:'Ballpark: 30% off $60 ‚âà $42, then tax adds ~$3.50 ‚âà $45. Or compute exactly.'},
  {q:'For what value of k does <code>y=kx+4</code> pass through (6, 22)?<br>A) 2 B) 3 C) 4 D) 6',c:'Backsolve',opts:['Direct Solve','Plug In','Backsolve','Desmos','Ballpark'],fb:'Number answers ‚Üí try B: 3(6)+4=22 ‚úì. Or use a Desmos slider.'},
  {q:'A study finds students who sleep more get better grades. Valid conclusion?<br>A) Sleep causes better grades B) Correlation only C) No relationship D) Need more data',c:'Direct Solve',opts:['Direct Solve','Plug In','Backsolve','Desmos','Ballpark'],fb:'Conceptual question ‚Äî no math needed. Observational ‚Üí correlation only.'},
];
var dtA={};
function renderDt(){
  document.getElementById('dtEx').innerHTML='<h3>üå≥ Pick the Strategy</h3><div class="exercise-sub">Choose the FASTEST approach for each.</div>'+
    DT.map(function(q,i){var a=dtA[i],h=a!==undefined;
      return '<div class="ex-item"><div class="ex-prompt">'+q.q+'</div><div class="classify-opts">'+q.opts.map(function(o,oi){var c='classify-opt';if(h){c+=' cl-dis';if(o===q.c)c+=' cl-correct';else if(o===a)c+=' cl-wrong';}return '<div class="'+c+'" onclick="aDt('+i+','+oi+')">'+o+'</div>';}).join('')+'</div><div class="ex-fb'+(h?' show':'')+(h?(a===q.c?' correct':' wrong'):'')+'">'+((h)?((a===q.c?'‚úì ':'‚úó Best: '+q.c+'. ')+q.fb):'')+'</div></div>';
    }).join('');
}
function aDt(i,idx){if(dtA[i]!==undefined)return;dtA[i]=DT[i].opts[idx];renderDt();}
renderDt();

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// EXERCISE 2: PLUG IN WORKSHOP
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const PIY=[
  {q:'If n is a positive integer, which equals <code>(n¬≤ + n) / n</code>?',ch:['n + 1','n¬≤','n ‚àí 1','2n'],c:0,fb:'Plug in n=2: (4+2)/2 = 3. A) 2+1=3 ‚úì. (Or simplify: n+1.)'},
  {q:'If x = 5, which expression has the greatest value?',ch:['2x + 1','x¬≤ / 5','3(x ‚àí 1)','x + 7'],c:2,fb:'x=5: A) 11, B) 5, C) 12, D) 12. C and D tie ‚Äî but C = 3(4)=12, D = 12. Check another: x=10: C=27, D=17. C wins.'},
  {q:'A store marks up items by p percent. If an item costs $c, the selling price is:',ch:['c + p','c(1 + p/100)','cp/100','c + 100p'],c:1,fb:'Plug in c=100, p=20: price should be $120. B) 100(1.20) = 120 ‚úì.'},
  {q:'If a rectangle has length 2w and width w, its perimeter is:',ch:['3w','4w','6w','8w'],c:2,fb:'Plug in w=5: length=10, width=5. P = 2(10+5)=30. C) 6(5)=30 ‚úì.'},
];
var piyA={};
function renderPiy(){
  document.getElementById('piyonEx').innerHTML='<h3>üîå Plug In</h3><div class="exercise-sub">Choose simple numbers, find your target, match.</div>'+
    PIY.map(function(q,i){var a=piyA[i],h=a!==undefined;
      return '<div class="ex-item"><div class="ex-prompt">'+q.q+'</div><div class="mc-choices">'+q.ch.map(function(ch,ci){var c='mc-choice';if(h){c+=' mc-dis';if(ci===q.c)c+=' mc-correct';else if(ci===a)c+=' mc-wrong';}return '<div class="'+c+'" onclick="aPiy('+i+','+ci+')"><div class="mc-letter">'+'ABCD'[ci]+'</div><div>'+ch+'</div></div>';}).join('')+'</div><div class="mc-fb'+(h?' show':'')+'">'+(h?((a===q.c?'‚úì Correct! ':'‚úó Incorrect. ')+q.fb):'')+'</div></div>';
    }).join('');
}
function aPiy(i,v){if(piyA[i]!==undefined)return;piyA[i]=v;renderPiy();}
renderPiy();

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// EXERCISE 3: BACKSOLVE WORKSHOP
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const BS=[
  {q:'If <code>2x + 7 = 19</code>, what is x?',ch:['4','5','6','7'],c:2,fb:'Try C: 2(6)+7 = 19 ‚úì. Done.'},
  {q:'A number tripled and then decreased by 5 equals 22. What is the number?',ch:['7','8','9','10'],c:2,fb:'Try C: 3(9)‚àí5 = 22 ‚úì.'},
  {q:'If the area of a square is 144, what is the side length?',ch:['10','11','12','14'],c:2,fb:'Try C: 12¬≤ = 144 ‚úì. (Or recognize sqrt(144) = 12.)'},
  {q:'If <code>x¬≤ ‚àí 5x = 14</code>, what positive value of x satisfies the equation?',ch:['2','5','7','9'],c:2,fb:'Try C: 49‚àí35=14 ‚úì. (Negative solution x=‚àí2 also works but question asks for positive.)'},
];
var bsA={};
function renderBs(){
  document.getElementById('bsEx').innerHTML='<h3>üîÑ Backsolve</h3><div class="exercise-sub">Start with B or C and test.</div>'+
    BS.map(function(q,i){var a=bsA[i],h=a!==undefined;
      return '<div class="ex-item"><div class="ex-prompt">'+q.q+'</div><div class="mc-choices">'+q.ch.map(function(ch,ci){var c='mc-choice';if(h){c+=' mc-dis';if(ci===q.c)c+=' mc-correct';else if(ci===a)c+=' mc-wrong';}return '<div class="'+c+'" onclick="aBs('+i+','+ci+')"><div class="mc-letter">'+'ABCD'[ci]+'</div><div>'+ch+'</div></div>';}).join('')+'</div><div class="mc-fb'+(h?' show':'')+'">'+(h?((a===q.c?'‚úì Correct! ':'‚úó Incorrect. ')+q.fb):'')+'</div></div>';
    }).join('');
}
function aBs(i,v){if(bsA[i]!==undefined)return;bsA[i]=v;renderBs();}
renderBs();

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// EXERCISE 4: BALLPARK ELIMINATOR
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const BP=[
  {q:'A car travels 287 miles in 4.5 hours. What is the average speed?',ch:['48 mph','64 mph','72 mph','128 mph'],c:1,fb:'Ballpark: 280/4.5 ‚âà 280/5 = 56, but /4.5 is bigger ‚Üí ~63. Eliminate A (too low) and D (way too high). B is closest.'},
  {q:'15% of 392 is approximately:',ch:['20','39','59','79'],c:2,fb:'10% of 392 = 39.2. 15% = 39.2 + half of 39.2 ‚âà 39 + 20 = ~59. Eliminate A and D immediately.'},
  {q:'A circle has diameter 20. Its area is closest to:',ch:['63','126','314','1257'],c:2,fb:'r=10, A=pi(100) ‚âà 314. Eliminate A (too small), D (way too big). C is exact.'},
  {q:'If 3/8 of a class of 200 students play sports, how many play sports?',ch:['24','60','75','125'],c:2,fb:'3/8 is a bit less than half. Half of 200 = 100. So answer < 100. Eliminate D. 3/8 √ó 200 = 75. C.'},
];
var bpA={};
function renderBp(){
  document.getElementById('bpEx').innerHTML='<h3>üéØ Estimate & Eliminate</h3><div class="exercise-sub">No full solving needed ‚Äî use ballpark reasoning.</div>'+
    BP.map(function(q,i){var a=bpA[i],h=a!==undefined;
      return '<div class="ex-item"><div class="ex-prompt">'+q.q+'</div><div class="mc-choices">'+q.ch.map(function(ch,ci){var c='mc-choice';if(h){c+=' mc-dis';if(ci===q.c)c+=' mc-correct';else if(ci===a)c+=' mc-wrong';}return '<div class="'+c+'" onclick="aBp('+i+','+ci+')"><div class="mc-letter">'+'ABCD'[ci]+'</div><div>'+ch+'</div></div>';}).join('')+'</div><div class="mc-fb'+(h?' show':'')+'">'+(h?((a===q.c?'‚úì Correct! ':'‚úó Incorrect. ')+q.fb):'')+'</div></div>';
    }).join('');
}
function aBp(i,v){if(bpA[i]!==undefined)return;bpA[i]=v;renderBp();}
renderBp();

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// EXERCISE 5: MISREAD TRAP DETECTOR
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const TRP=[
  {q:'Solve <code>2x + 4 = 12</code>. What is <code>3x ‚àí 1</code>?<br>A student solves x = 4 and picks 4. What went wrong?',c:'Solved for x, not 3x ‚àí 1',opts:['Solved for x, not 3x ‚àí 1','Arithmetic error','Wrong equation','Forgot negative'],fb:'The question asks for 3x‚àí1, not x. Answer: 3(4)‚àí1 = 11.'},
  {q:'A graph has y-axis labeled 0, 50, 100, 150. A student reads a point at y ‚âà 3 grid lines up as "3." What went wrong?',c:'Misread axis scale',opts:['Misread axis scale','Wrong point','Calculator error','Mixed up x and y'],fb:'Each grid line = 50, not 1. The point is at y = 150, not 3.'},
  {q:'"Which of the following is NOT a solution?" A student picks a correct solution. What went wrong?',c:'Missed the word NOT',opts:['Missed the word NOT','Wrong formula','Calculator error','Forgot to simplify'],fb:'Negation trap ‚Äî the student missed NOT and picked a solution instead of a non-solution.'},
  {q:'A price drops 25% then gets 10% tax. A student gives the discounted price (before tax) as the answer. What went wrong?',c:'Gave intermediate answer',opts:['Gave intermediate answer','Wrong percent','Misread axis scale','Forgot negative'],fb:'The question asks for the FINAL price (after tax), not the intermediate discounted price.'},
  {q:'"At least 18 students passed." A student writes the inequality as x > 18. What went wrong?',c:'At least means >=, not >',opts:['At least means >=, not >','Wrong variable','Arithmetic error','Mixed up x and y'],fb:'"At least 18" means 18 or more ‚Üí x >= 18, not x > 18.'},
  {q:'The answer to a problem is x = ‚àí5. A student enters 5 in the SPR box. What went wrong?',c:'Dropped the negative sign',opts:['Dropped the negative sign','Wrong equation','Misread axis scale','Gave intermediate answer'],fb:'Sign errors are the #1 SPR mistake. Always double-check positive/negative.'},
];
var trpA={};
function renderTrp(){
  document.getElementById('trapEx').innerHTML='<h3>üö® Spot the Trap</h3><div class="exercise-sub">What went wrong in each scenario?</div>'+
    TRP.map(function(q,i){var a=trpA[i],h=a!==undefined;
      return '<div class="ex-item"><div class="ex-prompt">'+q.q+'</div><div class="classify-opts">'+q.opts.map(function(o,oi){var c='classify-opt';if(h){c+=' cl-dis';if(o===q.c)c+=' cl-correct';else if(o===a)c+=' cl-wrong';}return '<div class="'+c+'" onclick="aTrp('+i+','+oi+')">'+o+'</div>';}).join('')+'</div><div class="ex-fb'+(h?' show':'')+(h?(a===q.c?' correct':' wrong'):'')+'">'+((h)?((a===q.c?'‚úì ':'‚úó ')+q.fb):'')+'</div></div>';
    }).join('');
}
function aTrp(i,idx){if(trpA[i]!==undefined)return;trpA[i]=TRP[i].opts[idx];renderTrp();}
renderTrp();

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// TIMED PRACTICE WITH CONFIDENCE & ERROR ANALYSIS
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const PST=[
  {t:1,tp:'7A',q:'<span class="tier tier-1" style="margin-right:6px">Direct Solve</span> Solve: <code>5x ‚àí 3 = 17</code>',ch:['2','3','4','5'],c:2,fb:'5x=20 ‚Üí x=4. Quick one-step algebra.',
   trap:null,trapAnswer:2,trapDesc:'Used wrong operation ‚Äî subtracted instead of dividing'},
  {t:1,tp:'7A',q:'<span class="tier tier-1" style="margin-right:6px">Direct Solve</span> What is the area of a triangle with base 10 and height 6?',ch:['16','30','60','120'],c:1,fb:'A = (1/2)(10)(6) = 30.',
   trap:null,trapAnswer:2,trapDesc:'Used bh instead of ¬Ωbh ‚Äî forgot the half'},
  {t:1,tp:'7B',q:'<span class="tier tier-2" style="margin-right:6px;background:var(--math)">Backsolve</span> If <code>x¬≤ ‚àí 3x = 10</code>, what positive value of x works?',ch:['2','3','4','5'],c:3,fb:'Try D: 25‚àí15=10 ‚úì. Backsolving is fast here.',
   trap:'wrong_variable',trapAnswer:3,trapDesc:'Tried D: 25‚àí15=10 ‚úì but should try C first ‚Äî x=5 is correct'},
  {t:2,tp:'7B',q:'<span class="tier tier-2" style="margin-right:6px;background:var(--math)">Plug In</span> If m is positive, which equals <code>(4m + 8) / 4</code>?',ch:['m + 2','m + 8','4m + 2','m/2 + 2'],c:0,fb:'Plug in m=4: (16+8)/4 = 6. A) 4+2=6 ‚úì.',
   trap:null,trapAnswer:1,trapDesc:'m+8: forgot to divide the 8 by 4 too'},
  {t:2,tp:'7C',q:'<span class="tier tier-2" style="margin-right:6px;background:var(--math)">Desmos</span> At what point do <code>y = 2x ‚àí 1</code> and <code>y = ‚àíx + 8</code> intersect?',ch:['(2, 3)','(3, 5)','(4, 4)','(3, 6)'],c:1,fb:'Graph both in Desmos, click intersection ‚Üí (3, 5). Check: 2(3)‚àí1=5 ‚úì, ‚àí3+8=5 ‚úì.',
   trap:null,trapAnswer:0,trapDesc:'(2,3): 2(2)‚àí1=3 works for first but ‚àí2+8=6‚â†3'},
  {t:2,tp:'7D',q:'<span class="tier tier-2" style="margin-right:6px;background:var(--math)">Ballpark</span> 18% of 495 is closest to:',ch:['49','72','89','99'],c:2,fb:'20% of 500 = 100. 18% is a bit less ‚Üí ~89. Eliminate A (too low) and D (too close to 20%).',
   trap:null,trapAnswer:3,trapDesc:'99 is close to 20% ‚Äî used wrong percentage'},
  {t:2,tp:'7E',q:'<span class="tier tier-2" style="margin-right:6px;background:var(--math)">Trap Alert</span> If <code>4x + 2 = 18</code>, what is <code>2x + 1</code>?',ch:['4','8','9','18'],c:2,fb:'4x+2=18 ‚Üí 2(2x+1)=18 ‚Üí 2x+1=9. Or solve x=4, then 2(4)+1=9. Trap: picking x=4.',
   trap:'wrong_variable',trapAnswer:0,trapDesc:'Solved for x=4 but question asked for 2x+1 ‚Äî The Wrong Variable trap'},
  {t:3,tp:'7B',q:'<span class="tier tier-3" style="margin-right:6px;background:var(--advanced)">Plug In</span> For all positive n, which is equivalent to <code>n/(n+1) + 1/(n+1)</code>?',ch:['1','n','2n/(n+1)','(n+1)/(n+2)'],c:0,fb:'Same denominator: (n+1)/(n+1) = 1. Or plug in n=2: 2/3+1/3=1. A) 1 ‚úì.',
   trap:null,trapAnswer:1,trapDesc:'n is not simplified ‚Äî need to combine fractions first'},
  {t:3,tp:'7C',q:'<span class="tier tier-3" style="margin-right:6px;background:var(--advanced)">Desmos</span> How many real solutions does <code>x¬≤ + 4x + 5 = 0</code> have?',ch:['0','1','2','Infinite'],c:0,fb:'Graph y=x¬≤+4x+5. The parabola sits above the x-axis ‚Äî never touches it. Zero solutions.',
   trap:null,trapAnswer:2,trapDesc:'Assumed quadratic always has 2 solutions'},
  {t:3,tp:'7E',q:'<span class="tier tier-3" style="margin-right:6px;background:var(--advanced)">Trap Alert</span> SPR: If <code>|x ‚àí 3| = 7</code>, what is one possible value of x?<br><em>(Enter either valid answer.)</em>',ch:['10','‚àí4','Both 10 and ‚àí4 are correct','3'],c:2,fb:'x‚àí3=7 ‚Üí x=10. Or x‚àí3=‚àí7 ‚Üí x=‚àí4. Both are valid SPR answers. Trap: forgetting the negative case.',
   trap:'forgot_negative',trapAnswer:0,trapDesc:'Only found x=10, missed the negative case x=‚àí4'},
];

let pstA = {};
let pstConf = {};
let pstTime = {};
let pstStartTime = null;

// Timer system ‚Äî DEFAULT ON for Module 7
let timerEnabled = true;
let timerInterval = null;
let timerSeconds = 0;
const SECS_PER_Q = 95;
let totalTimerSecs = PST.length * SECS_PER_Q;

function toggleTimer() {
  timerEnabled = !timerEnabled;
  const btn = document.getElementById('timerToggle');
  btn.textContent = timerEnabled ? '‚è± Timer ON' : '‚è± Timer OFF';
  btn.classList.toggle('active', timerEnabled);
  if (!timerEnabled && timerInterval) {
    clearInterval(timerInterval);
    timerInterval = null;
    document.getElementById('timerDisplay').textContent = '--:--';
    document.getElementById('timerFill').style.width = '100%';
  } else if (timerEnabled && currentScreen === 3) {
    startTimer();
  }
}

function startTimer() {
  if (timerInterval) clearInterval(timerInterval);
  timerSeconds = totalTimerSecs;
  updateTimerDisplay();
  timerInterval = setInterval(() => {
    timerSeconds--;
    updateTimerDisplay();
    if (timerSeconds <= 0) {
      clearInterval(timerInterval);
      timerInterval = null;
    }
  }, 1000);
  pstStartTime = Date.now();
}

function updateTimerDisplay() {
  const disp = document.getElementById('timerDisplay');
  const fill = document.getElementById('timerFill');
  const mins = Math.floor(timerSeconds / 60);
  const secs = timerSeconds % 60;
  disp.textContent = `${mins}:${secs.toString().padStart(2, '0')}`;

  const pct = (timerSeconds / totalTimerSecs) * 100;
  fill.style.width = pct + '%';

  disp.className = 'timer-display';
  fill.className = 'timer-fill';
  if (pct < 15) { disp.classList.add('danger'); fill.classList.add('danger'); }
  else if (pct < 35) { disp.classList.add('warning'); fill.classList.add('warning'); }
}

function renderPST() {
  const answered = Object.keys(pstA).length;
  const TRAP_NAMES = {'wrong_variable':'üéØ Wrong Variable','forgot_negative':'‚ûñ Forgot Negative Case','misread_scale':'üìä Misread Scale','intermediate_answer':'‚ö° Intermediate Answer'};

  document.getElementById('qDots').innerHTML = PST.map((_, i) => {
    let cls = 'q-dot';
    if (pstA[i] !== undefined) cls += pstA[i] === PST[i].c ? ' correct' : ' wrong';
    return `<div class="${cls}"></div>`;
  }).join('');

  document.getElementById('psatPractice').innerHTML = PST.map((q, i) => {
    const a = pstA[i], h = a !== undefined;
    const conf = pstConf[i];
    const tierLabel = q.t === 1 ? 'Easy' : q.t === 2 ? 'Medium' : 'Hard';
    const trapName = q.trap ? TRAP_NAMES[q.trap] || '' : '';

    return `<div class="ex-item" style="border-color:${q.t===1?'var(--algebra)':q.t===2?'var(--math)':'var(--advanced)'}">
      <div style="margin-bottom:6px;display:flex;align-items:center;gap:8px;flex-wrap:wrap">
        <span class="tier tier-${q.t}">${tierLabel}</span>
        <span style="font-size:.75rem;color:var(--muted)">Topic ${q.tp}</span>
        ${trapName && h ? `<span style="font-size:.72rem;color:var(--accent)">Trap: ${trapName}</span>` : ''}
      </div>
      <div class="ex-prompt">${q.q}</div>
      ${!h ? `<div class="confidence-row">
        <div class="conf-tag ${conf==='guessing'?'selected':''}" data-conf="guessing" onclick="setConf(${i},'guessing')">Guessing</div>
        <div class="conf-tag ${conf==='unsure'?'selected':''}" data-conf="unsure" onclick="setConf(${i},'unsure')">Unsure</div>
        <div class="conf-tag ${conf==='confident'?'selected':''}" data-conf="confident" onclick="setConf(${i},'confident')">Confident</div>
      </div>` : `<div style="font-size:.72rem;color:var(--muted);margin-bottom:6px">Confidence: ${conf || 'not tagged'}</div>`}
      <div class="mc-choices">${q.ch.map((ch, ci) => {
        let c = 'mc-choice';
        if (h) { c += ' mc-dis'; if (ci === q.c) c += ' mc-correct'; else if (ci === a) c += ' mc-wrong'; }
        return `<div class="${c}" onclick="aPST(${i},${ci})"><div class="mc-letter">${'ABCD'[ci]}</div><div>${ch}</div></div>`;
      }).join('')}</div>
      <div class="mc-fb${h ? ' show' : ''}">${h ? (a === q.c ? '‚úì Correct! ' : '‚úó Incorrect. ') + q.fb + (a !== q.c && a === q.trapAnswer ? '<br><span style="color:var(--psda)">‚ö†Ô∏è ' + q.trapDesc + '</span>' : '') : ''}</div>
    </div>`;
  }).join('');

  if (answered === PST.length) {
    if (timerInterval) { clearInterval(timerInterval); timerInterval = null; }
    document.getElementById('practiceNav').style.display = 'block';
    showPracticeResults();
  }
}

function setConf(i, level) {
  if (pstA[i] !== undefined) return;
  pstConf[i] = level;
  renderPST();
}

function aPST(i, v) {
  if (pstA[i] !== undefined) return;
  pstA[i] = v;
  if (pstStartTime) {
    pstTime[i] = Date.now() - pstStartTime;
    pstStartTime = Date.now();
  }
  renderPST();
}

function showPracticeResults() {
  const total = PST.length;
  const correct = Object.entries(pstA).filter(([i, v]) => v === PST[i].c).length;

  const byDiff = {1:{cor:0,tot:0},2:{cor:0,tot:0},3:{cor:0,tot:0}};
  PST.forEach((q, i) => {
    byDiff[q.t].tot++;
    if (pstA[i] === q.c) byDiff[q.t].cor++;
  });

  const matrix = {};
  ['guessing','unsure','confident'].forEach(conf => {
    matrix[conf] = {correct:[], wrong:[]};
  });
  PST.forEach((q, i) => {
    const conf = pstConf[i] || 'unsure';
    const isCorrect = pstA[i] === q.c;
    matrix[conf][isCorrect ? 'correct' : 'wrong'].push(i);
  });

  const errors = {content_gap:[], trap_answer:[], careless:[], calibration:[]};
  PST.forEach((q, i) => {
    if (pstA[i] === q.c) return;
    const conf = pstConf[i] || 'unsure';
    if (pstA[i] === q.trapAnswer) {
      errors.trap_answer.push({i, desc:q.trapDesc, topic:q.tp});
    } else {
      errors.content_gap.push({i, topic:q.tp});
    }
    if (conf === 'confident') {
      if (q.t === 1) errors.careless.push({i, topic:q.tp});
      errors.calibration.push({i, topic:q.tp});
    }
  });

  let html = `<div class="results-section">
    <h3>üìä Practice Results: ${correct}/${total}</h3>

    <div style="margin-bottom:20px">
      <div style="font-size:.78rem;font-weight:700;text-transform:uppercase;letter-spacing:1px;color:var(--muted);margin-bottom:8px">By Difficulty</div>
      <div class="difficulty-bars">
        <div class="diff-row">
          <span class="diff-label" style="color:var(--algebra)">Easy</span>
          <div class="diff-track"><div class="diff-fill" style="width:${byDiff[1].tot?byDiff[1].cor/byDiff[1].tot*100:0}%;background:var(--algebra)"></div></div>
          <span class="diff-val" style="color:var(--algebra)">${byDiff[1].cor}/${byDiff[1].tot}</span>
        </div>
        <div class="diff-row">
          <span class="diff-label" style="color:var(--math)">Medium</span>
          <div class="diff-track"><div class="diff-fill" style="width:${byDiff[2].tot?byDiff[2].cor/byDiff[2].tot*100:0}%;background:var(--math)"></div></div>
          <span class="diff-val" style="color:var(--math)">${byDiff[2].cor}/${byDiff[2].tot}</span>
        </div>
        <div class="diff-row">
          <span class="diff-label" style="color:var(--advanced)">Hard</span>
          <div class="diff-track"><div class="diff-fill" style="width:${byDiff[3].tot?byDiff[3].cor/byDiff[3].tot*100:0}%;background:var(--advanced)"></div></div>
          <span class="diff-val" style="color:var(--advanced)">${byDiff[3].cor}/${byDiff[3].tot}</span>
        </div>
      </div>
    </div>`;

  html += `<div style="margin-bottom:20px">
    <div style="font-size:.78rem;font-weight:700;text-transform:uppercase;letter-spacing:1px;color:var(--muted);margin-bottom:8px">Confidence √ó Accuracy Matrix</div>
    <div class="results-grid">
      <div class="results-grid-header"></div>
      <div class="results-grid-header">Guessing</div>
      <div class="results-grid-header">Unsure</div>
      <div class="results-grid-header">Confident</div>

      <div class="results-grid-header" style="writing-mode:horizontal-tb">‚úì Correct</div>
      <div class="results-grid-cell">
        <div class="cell-label">Lucky</div>
        <div class="cell-dots">${matrix.guessing.correct.map(()=>`<div class="cell-dot" style="background:var(--psda)"></div>`).join('')}</div>
        <div style="font-size:.7rem;color:var(--muted)">${matrix.guessing.correct.length}</div>
      </div>
      <div class="results-grid-cell">
        <div class="cell-label">Developing</div>
        <div class="cell-dots">${matrix.unsure.correct.map(()=>`<div class="cell-dot" style="background:var(--math)"></div>`).join('')}</div>
        <div style="font-size:.7rem;color:var(--muted)">${matrix.unsure.correct.length}</div>
      </div>
      <div class="results-grid-cell">
        <div class="cell-label">Solid</div>
        <div class="cell-dots">${matrix.confident.correct.map(()=>`<div class="cell-dot" style="background:var(--correct)"></div>`).join('')}</div>
        <div style="font-size:.7rem;color:var(--muted)">${matrix.confident.correct.length}</div>
      </div>

      <div class="results-grid-header" style="writing-mode:horizontal-tb">‚úó Wrong</div>
      <div class="results-grid-cell">
        <div class="cell-label">Expected</div>
        <div class="cell-dots">${matrix.guessing.wrong.map(()=>`<div class="cell-dot" style="background:var(--muted)"></div>`).join('')}</div>
        <div style="font-size:.7rem;color:var(--muted)">${matrix.guessing.wrong.length}</div>
      </div>
      <div class="results-grid-cell">
        <div class="cell-label">Needs work</div>
        <div class="cell-dots">${matrix.unsure.wrong.map(()=>`<div class="cell-dot" style="background:var(--psda)"></div>`).join('')}</div>
        <div style="font-size:.7rem;color:var(--muted)">${matrix.unsure.wrong.length}</div>
      </div>
      <div class="results-grid-cell danger-cell">
        <div class="cell-label" style="color:var(--wrong);font-weight:700">‚ö†Ô∏è DANGER</div>
        <div class="cell-dots">${matrix.confident.wrong.map(()=>`<div class="cell-dot" style="background:var(--wrong)"></div>`).join('')}</div>
        <div style="font-size:.7rem;color:var(--wrong)">${matrix.confident.wrong.length}</div>
      </div>
    </div>
    ${matrix.confident.wrong.length > 0 ? '<div class="callout" style="border-color:var(--wrong);background:var(--wrong-bg)"><strong style="color:var(--wrong)">Confident + Wrong</strong> is the most dangerous category. These errors persist into test day because you won\'t self-correct what you think you already know.</div>' : ''}
  </div>`;

  const hasErrors = errors.trap_answer.length + errors.content_gap.length > 0;
  if (hasErrors) {
    html += `<div style="margin-bottom:16px">
      <div style="font-size:.78rem;font-weight:700;text-transform:uppercase;letter-spacing:1px;color:var(--muted);margin-bottom:8px">Error Pattern Analysis</div>`;

    if (errors.trap_answer.length > 0) {
      html += `<div class="error-category" style="background:rgba(251,191,36,.08);border:1px solid rgba(251,191,36,.3)">
        <div class="error-label" style="color:var(--psda)">üü° Trap Answers (${errors.trap_answer.length})</div>
        <div class="error-items">${errors.trap_answer.map(e => e.desc).join(' ¬∑ ')}</div>
      </div>`;
    }
    if (errors.content_gap.length > 0) {
      html += `<div class="error-category" style="background:rgba(239,68,68,.08);border:1px solid rgba(239,68,68,.3)">
        <div class="error-label" style="color:var(--wrong)">üî¥ Content Gaps (${errors.content_gap.length})</div>
        <div class="error-items">Topics: ${[...new Set(errors.content_gap.map(e=>e.topic))].join(', ')}</div>
      </div>`;
    }
    if (errors.careless.length > 0) {
      html += `<div class="error-category" style="background:rgba(96,165,250,.08);border:1px solid rgba(96,165,250,.3)">
        <div class="error-label" style="color:var(--math)">üîµ Possible Careless Errors (${errors.careless.length})</div>
        <div class="error-items">Confident + wrong on easy questions ‚Äî likely arithmetic mistakes</div>
      </div>`;
    }
    if (errors.calibration.length > 0) {
      html += `<div class="error-category" style="background:rgba(239,68,68,.08);border:1px solid rgba(239,68,68,.3)">
        <div class="error-label" style="color:var(--wrong)">‚ö†Ô∏è Calibration Issues (${errors.calibration.length})</div>
        <div class="error-items">You were confident but wrong ‚Äî review these topics carefully</div>
      </div>`;
    }
    html += `</div>`;
  }

  html += `</div>`;
  document.getElementById('practiceResults').style.display = 'block';
  document.getElementById('practiceResults').innerHTML = html;

  document.getElementById('completePracticeStats').innerHTML = `
    <div style="background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:16px 20px;margin-bottom:24px;max-width:500px;width:100%;text-align:left">
      <div style="font-size:.78rem;font-weight:700;text-transform:uppercase;letter-spacing:1px;color:var(--muted);margin-bottom:8px">Practice Results</div>
      <div style="font-family:'JetBrains Mono',monospace;font-size:1.4rem;font-weight:700;color:var(--correct);margin-bottom:8px">${correct}/${total} correct</div>
      <div style="font-size:.82rem;color:var(--muted)">
        Easy: ${byDiff[1].cor}/${byDiff[1].tot} ¬∑ Medium: ${byDiff[2].cor}/${byDiff[2].tot} ¬∑ Hard: ${byDiff[3].cor}/${byDiff[3].tot}
      </div>
    </div>`;
}

renderPST();
</script>
<script src="/translate.js"></script>
</body>
</html>
